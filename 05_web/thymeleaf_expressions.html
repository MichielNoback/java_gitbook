
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Thymeleaf expression types & objects Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="thymeleaf_flow_control.html" />
    
    
    <link rel="prev" href="mvc.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../shortcuts.html">
            
                <a href="../shortcuts.html">
            
                    
                    IntelliJ keyboard shortcuts
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 1: Getting started</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../01_getting_started/intellij.html">
            
                <a href="../01_getting_started/intellij.html">
            
                    
                    A first IntelliJ project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../01_getting_started/essentials.html">
            
                <a href="../01_getting_started/essentials.html">
            
                    
                    The essentials
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../01_getting_started/first_look_at_objects.html">
            
                <a href="../01_getting_started/first_look_at_objects.html">
            
                    
                    Demo case: A first look at objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../02_syntax/basic_program_design.html">
            
                <a href="../02_syntax/basic_program_design.html">
            
                    
                    Basic program design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../02_syntax/naming_commenting.html">
            
                <a href="../02_syntax/naming_commenting.html">
            
                    
                    Naming and commenting
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 2: Syntax</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../02_syntax/data_types.html">
            
                <a href="../02_syntax/data_types.html">
            
                    
                    Data types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../02_syntax/arrays.html">
            
                <a href="../02_syntax/arrays.html">
            
                    
                    Arrays
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../02_syntax/operators.html">
            
                <a href="../02_syntax/operators.html">
            
                    
                    Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../02_syntax/flow_control.html">
            
                <a href="../02_syntax/flow_control.html">
            
                    
                    Flow control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../02_syntax/methods.html">
            
                <a href="../02_syntax/methods.html">
            
                    
                    Methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../02_syntax/packages_imports.html">
            
                <a href="../02_syntax/packages_imports.html">
            
                    
                    Packages & Imports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../02_syntax/demo_case_naming.html">
            
                <a href="../02_syntax/demo_case_naming.html">
            
                    
                    Demo case: The power of good names
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 3: Core APIs</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../03_apis/interfaces.html">
            
                <a href="../03_apis/interfaces.html">
            
                    
                    Interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../03_apis/collections.html">
            
                <a href="../03_apis/collections.html">
            
                    
                    Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../03_apis/class_object_methods.html">
            
                <a href="../03_apis/class_object_methods.html">
            
                    
                    Methods of class Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../03_apis/sorting.html">
            
                <a href="../03_apis/sorting.html">
            
                    
                    Sorting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../03_apis/exceptions.html">
            
                <a href="../03_apis/exceptions.html">
            
                    
                    Exceptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../03_apis/io.html">
            
                <a href="../03_apis/io.html">
            
                    
                    File IO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="../03_apis/regex.html">
            
                <a href="../03_apis/regex.html">
            
                    
                    Regular Expressions
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 4: Object-oriented programming</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../04_oop/class_design.html">
            
                <a href="../04_oop/class_design.html">
            
                    
                    Encapsulation through access modifiers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../04_oop/access_modifiers.html">
            
                <a href="../04_oop/access_modifiers.html">
            
                    
                    Access modifiers & other keywords
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../04_oop/inheritance.html">
            
                <a href="../04_oop/inheritance.html">
            
                    
                    Inheritance and UML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../04_oop/enums.html">
            
                <a href="../04_oop/enums.html">
            
                    
                    Enums
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../04_oop/encapsulation.html">
            
                <a href="../04_oop/encapsulation.html">
            
                    
                    Encapsulation revisited
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../04_oop/inner_classes.html">
            
                <a href="../04_oop/inner_classes.html">
            
                    
                    Inner classes
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Summaries Part 1-4</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../design_rules.html">
            
                <a href="../design_rules.html">
            
                    
                    Design Rules summary
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 5: Web-based Java & Thymeleaf</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="refresher.html">
            
                <a href="refresher.html">
            
                    
                    Refresher
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="toolbox.html">
            
                <a href="toolbox.html">
            
                    
                    Toolbox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="first_project.html">
            
                <a href="first_project.html">
            
                    
                    A first project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="mvc.html">
            
                <a href="mvc.html">
            
                    
                    Implementing MVC
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="7.5" data-path="thymeleaf_expressions.html">
            
                <a href="thymeleaf_expressions.html">
            
                    
                    Thymeleaf expression types & objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="thymeleaf_flow_control.html">
            
                <a href="thymeleaf_flow_control.html">
            
                    
                    Thymeleaf flow control & fragments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="sessions.html">
            
                <a href="sessions.html">
            
                    
                    Sessions & Scopes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.8" data-path="servlet_details.html">
            
                <a href="servlet_details.html">
            
                    
                    Servlet details & Lifecycle hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.9" data-path="databases.html">
            
                <a href="databases.html">
            
                    
                    Database interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.10" data-path="ajax.html">
            
                <a href="ajax.html">
            
                    
                    Ajax communication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.11" data-path="filters_upload.html">
            
                <a href="filters_upload.html">
            
                    
                    Web filters and file uploads
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Thymeleaf expression types & objects</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="thymeleaf-expression-types--implicit-objects">Thymeleaf: expression types &amp; implicit objects</h1>
<h2 id="introduction">Introduction</h2>
<p>This post is one of a series on Thymeleaf. It deals with some of the essential templating techniques that Thymeleaf offers:</p>
<ul>
<li>using texts</li>
<li>implicit objects (predefined variables)</li>
<li>variables (of the context/model) </li>
<li>urls/links</li>
<li>attributes available for templating</li>
</ul>
<p>For a complete overview you should refer to <a href="https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html" target="_blank">the official docs</a>.</p>
<h2 id="expression-types">Expression types</h2>
<h3 id="resource-expressions-">Resource expressions: <code>#{}</code></h3>
<p>Using the <code>#{message.in.resource.bundle}</code> expression will make the template engine look in your resource bundle(s) for internationalized messages with the given key. In its most basic form it works as follows.
This expression: </p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;#{page.title}&quot;</span>&gt;</span>_offline_<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
</code></pre>
<p>combined with this property in a resource bundle</p>
<pre><code>page.title=get your phrase-of-the-day
</code></pre><p>will evaluate to </p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>get your phrase-of-the-day<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
</code></pre>
<h4 id="unescaped-text">Unescaped text</h4>
<p>The Thymeleaf attribute <code>th:text</code> &#x2018;escapes&#x2019; the text in the message. If you want this message: </p>
<pre><code>favourite=Thymeleaf is my &lt;b&gt;favourite&lt;/b&gt; templating engine!
</code></pre><p>to display correctly, you should use <code>th:utext</code>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">th:utext</span>=<span class="hljs-string">&quot;#{page.title}&quot;</span>&gt;</span>_offline_<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
</code></pre>
<p>So you&#x2019;ll get this</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Thymeleaf is my <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>favourite<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span> templating engine!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p>Instead of this </p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Thymeleaf is my &amp;lt;b&amp;gt;favourite&amp;lt;/b&amp;gt; templating engine!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<h4 id="messages-with-variables">Messages with variables</h4>
<p>To insert variables into your messages, give the message identifier an argument, just like calling a function. Then, in the message &quot;body&quot;, catch it with {0}.</p>
<p>Given this message</p>
<pre><code class="lang-conf">animal=The {0} is the scariest animal there is!
</code></pre>
<p>and this Thymeleaf</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;#{animal(&apos;black widow&apos;)}&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;#{animal(&apos;rattlesnake&apos;)}&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p>will process into</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>The black widow is the scariest animal there is!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>The rattlesnake is the scariest animal there is!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p>Of course, you should use Use {1}, {2} ... for multiple variables.</p>
<h3 id="variable-expressions-">Variable expressions: <code>${}</code></h3>
<p>Variables expressions is completely different from messages with variables - the previous section!</p>
<p>Variable expressions query the <code>WebContext</code>, or other implicit objects to resolve these expressions. Usually, they will refer to objects you have attached to the <code>WebContext</code> object in the servlet request handling process.</p>
<p>For example, this servlet code: </p>
<pre><code class="lang-java">WebContext ctx = <span class="hljs-keyword">new</span> WebContext(
        request,
        response,
        request.getServletContext(),
        request.getLocale());
ctx.setVariable(<span class="hljs-string">&quot;warning&quot;</span>,
    <span class="hljs-string">&quot;you must be over 18 to drive a car&quot;</span>);
templateEngine.process(<span class="hljs-string">&quot;thymeleaf_demo&quot;</span>, ctx, response.getWriter());
</code></pre>
<p>With this Thymeleaf expression in <code>thymeleaf_demo</code></p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;${warning}&quot;</span>&gt;</span>_offline_<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p>will evaluate to </p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> you must be over 18 to drive a car <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p>Thus, the <code>warning</code> attribute that was set on the <code>WebContext</code> object has been retrieved in the Thymeleaf template using the <code>${warning}</code> expression.</p>
<h4 id="using-java-bean-properties-in-expressions">Using Java bean properties in expressions</h4>
<p>A Java bean is a special kind of class, coded according to a set of rules. That&#x2019;s why you can use them so conveniently in Thymeleaf, without actually writing Java code.</p>
<p>These are the JavaBean design rules:  </p>
<ul>
<li>They provide a no-arg constructor ( e.g. <code>public Person(){}</code> )</li>
<li>They provide <code>public</code> standard-named getters and setters for class attributes; e.g. for <code>String</code> property <code>name</code> you must provide the methods <code>public String getName(){return &quot;Fred&quot;}</code> and <code>public void setName(String name){}</code>.</li>
</ul>
<p>A very important thing to realize is the class does not necessary have to have the actual property (private String name); only the getters and setters are required!</p>
<p>Another thing to note is you are not required to provide a setter, as long as you don&apos;t use it in your Thymeleaf templates.</p>
<p>For example, here is a bean publishing the <code>fullName</code> property without actually having such a String variable internally:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>{
    <span class="hljs-keyword">private</span> String firstName;
    <span class="hljs-keyword">private</span> String lastName;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Person</span><span class="hljs-params">()</span> </span>{
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Person</span><span class="hljs-params">(String firstName, String lastName)</span> </span>{
        <span class="hljs-keyword">this</span>.firstName = firstName;
        <span class="hljs-keyword">this</span>.lastName = lastName;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getFullName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> firstName + <span class="hljs-string">&quot; &quot;</span> + lastName;
    }
}
</code></pre>
<p>When set on the context like this:</p>
<pre><code class="lang-java">ctx.setVariable(<span class="hljs-string">&quot;person&quot;</span>, <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&quot;Judy&quot;</span>, <span class="hljs-string">&quot;Steinberg&quot;</span>));
</code></pre>
<p>and this template fragment</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;${&apos;The person currently logged in is &apos; + person.fullName}&quot;</span>&gt;</span>_offline_<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
</code></pre>
<p>will give the processed html</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>The person currently logged in is Judy Steinberg<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
</code></pre>
<h4 id="flexibility-of-">Flexibility of <code>${}</code></h4>
<p>The <code>${}</code> expression can be used in many ways; here are only a few:</p>
<ul>
<li>Chaining of calls: <strong><code>${object.property.property}</code></strong></li>
<li>List access: <strong><code>${list[1]} or ${list[${selected_index}]}</code></strong></li>
<li>Map access: <strong><code>${map[&apos;foo&apos;]}</code></strong> or <strong><code>${map[${selected_item}].property}</code></strong></li>
<li>Regular method calls: <strong><code>${person.createCompleteNameWithSeparator(&apos;-&apos;)}</code></strong></li>
<li><p>Combinations of expression types</p>
<pre><code class="lang-html">  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;#{&apos;phrase.&apos; + ${phrase_type} + &apos;.&apos; + ${phrase_num}}&quot;</span>&gt;</span>_phrase_<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
</code></pre>
</li>
</ul>
<h3 id="built-in-variable-expressions-">Built-in-variable expressions: <code>${#}</code></h3>
<p>Thymeleaf provides quite a few predefined variables that can be accessed using <code>${#variableName}</code> syntax. Here are some:</p>
<table>
<thead>
<tr>
<th><strong>variable</strong></th>
<th><strong>purpose</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>#locale</code></td>
<td>the context locale.</td>
</tr>
<tr>
<td><code>#httpServletRequest</code></td>
<td>(only in Web Contexts) the <code>HttpServletRequest</code> object. Access via <code>${param.key}</code> in Spring</td>
</tr>
<tr>
<td><code>#dates</code></td>
<td>utility methods for <code>java.util.Date</code> objects: formatting, component extraction, etc.</td>
</tr>
<tr>
<td><code>#numbers</code></td>
<td>utility methods for formatting numeric objects.</td>
</tr>
<tr>
<td><code>#strings</code></td>
<td>(or <code>#objects</code>, <code>#bools</code>, <code>#arrays</code>, <code>#lists</code>, <code>#sets</code>: utility methods for these objects</td>
</tr>
</tbody>
</table>
<h4 id="locales">Locales</h4>
<p>The &apos;#locale&apos; helper can do things like this:</p>
<p>Get the Language set on the clients&apos; browser: <code>${#locale.getLanguage()}</code> will give <code>nl</code> on my browser.<br>Get the Country set on the clients&apos; browser; it will be empty when not set: <code>${#locale.getCountry()}</code> will give <code>&lt;nothing&gt;</code> on my browser.<br>Get the display name of your locale set on your browser: <code>${#locale.getDisplayName()}</code> : <code>Dutch</code></p>
<h4 id="dates-and-calendars">Dates and Calendars</h4>
<p>The &apos;#dates&apos; and &apos;#calendars&apos; variables help with everything related to dates.  </p>
<p>Here are some examples, with <code>my_date</code>, a <code>java.util.Date</code> object, set on the web context model:</p>
<table>
<thead>
<tr>
<th><strong>Expression</strong></th>
<th><strong>Description</strong></th>
<th><strong>Result</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${my_date}</code></td>
<td>the date</td>
<td>Mon Jun 03 15:52:03 CEST 2019</td>
</tr>
<tr>
<td><code>${#dates.format(my_date)}</code></td>
<td>simple date formatting using default locale</td>
<td>3 juni 2019 15:52:03 CEST</td>
</tr>
<tr>
<td><code>${#dates.format(my_date, &apos;yyyy/mm/dd HH:mm&apos;)}</code></td>
<td>advanced date formatting using format string</td>
<td>2019/52/03 15:52</td>
</tr>
<tr>
<td><code>${#dates.formatISO(my_date)}</code></td>
<td>ISO format</td>
<td>2019-06-03T15:52:03.981+02:00</td>
</tr>
</tbody>
</table>
<h4 id="numbers">Numbers</h4>
<p>The &apos;#numbers&apos; implicit object helps with numbers. 
Given &apos;my_date&apos; set on the web context model: <code>ctx.setVariable(&quot;my_number&quot;, 31415.9265359);</code>, here is simple usage scenarios.</p>
<p><code>${my_number}</code> gives &quot;31415.9265359&quot;, the exact representation of the context variable.  </p>
<p><code>${#numbers.formatDecimal(my_number, 0, &apos;COMMA&apos;, 2, &apos;POINT&apos;)}</code> gives &quot;31,415.93&quot;.<br>The argument are as follows:<br><code>#numbers.formatDecimal(&lt;target&gt;, &lt;mimimum integer digits&gt;, &apos;&lt;thousandspoint type&gt;&apos;, &lt;decimal digits&gt;, &lt;decimalpoint type&gt;)</code>   </p>
<p>Similarly, this expression <code>${#numbers.formatInteger(my_number, 10, &apos;POINT&apos;)}</code> will produce &quot;0.000.031.416&quot;.</p>
<h4 id="the-session-object">The session object</h4>
<p>The session object is simply available as <code>session</code>.
The expression <code>${session.user.email}</code> will display the &apos;email&apos; property of the User object registered as attribute on the &apos;session&apos; object: <code>session.setAttribute(&quot;logged_in_user&quot;, new User(&quot;Henk&quot;, &quot;henk@example.com&quot;, Role.USER));</code> will give
&quot;henk@example.com&quot; </p>
<p>the details of sessions are the topic of a separate post.</p>
<h3 id="locally-scoped-variables-with-">Locally scoped variables with <code>*{}</code></h3>
<p>You can access the properties of a locally scoped object through the <code>*{}</code> syntax. This obviates the need for retyping the variable name over and over again.  </p>
<p>Given the User object of the session example, you can list its properties as follows:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">th:object</span>=<span class="hljs-string">&quot;${session.logged_in_user}&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Name: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;*{name}&quot;</span>&gt;</span>_name_<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Email: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;*{email}&quot;</span>&gt;</span>_email_<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Role: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;*{role}&quot;</span>&gt;</span>_role_<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<p>Which will produce</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Name: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Henk<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Email: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>henk@example.com<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Role: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>USER<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<h3 id="creating-links-">Creating links: <code>@{}</code></h3>
<p>Using the <code>@{}</code> syntax, you can create links with a path that is relative to the <strong><em>deployment context</em></strong>.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">th:href</span>=<span class="hljs-string">&quot;@{/give.phrase(phrase_category=bullshit)}&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>get a bullshit phrase<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</code></pre>
<p>will give the following link: <a href="http://localhost:8080/give.phrase?phrase_category=bullshit" target="_blank">http://localhost:8080/give.phrase?phrase_category=bullshit</a>.</p>
<p>As you can see, you can add a request parameter as key=value pair. For multiple key=value pairs, separate them by comma&apos;s: <code>@{/give.phrase(phrase_category=bullshit,action=nothing)}</code> gives <a href="http://localhost:8080/give.phrase?phrase_category=bullshit&amp;action=nothing" target="_blank">http://localhost:8080/give.phrase?phrase_category=bullshit&amp;action=nothing</a></p>
<h3 id="html-tag-attributes-you-can-access">html tag attributes you can access</h3>
<p>You have seen Thymeleaf targeting the &quot;text&quot; attribute a lot now, using <code>th:text</code>. But there are many many more. Have a look at the Thymeleaf docs for a complete listing.
Here are the main ones:</p>
<table>
<thead>
<tr>
<th><strong>attribute</strong></th>
<th><strong>target</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>th:action</td>
<td>the action of a form</td>
</tr>
<tr>
<td>th:class</td>
<td>the style class of an element</td>
</tr>
<tr>
<td>th:href</td>
<td>the url a link will point to</td>
</tr>
<tr>
<td>th:id</td>
<td>the ID of an element</td>
</tr>
<tr>
<td>th:name</td>
<td>the name of an element</td>
</tr>
<tr>
<td>th:rel</td>
<td>url for style sheets</td>
</tr>
<tr>
<td>th:src</td>
<td>the source of an element (e.g. image)</td>
</tr>
<tr>
<td>th:title</td>
<td>the title</td>
</tr>
<tr>
<td>th:value</td>
<td>the value of a (form) element, e.g.</td>
</tr>
<tr>
<td>th:attr</td>
<td>a generic means to define any attribute, e.g. th:attr=&quot;dat=#{subscribe.submit}&quot;</td>
</tr>
</tbody>
</table>
<p>An example. This Servlet code</p>
<pre><code class="lang-java">ctx.setVariable(<span class="hljs-string">&quot;name_of_bird_selector&quot;</span>, <span class="hljs-string">&quot;fav_birds&quot;</span>);
ctx.setVariable(<span class="hljs-string">&quot;bird_groups&quot;</span>, List.of(<span class="hljs-string">&quot;raptors&quot;</span>, <span class="hljs-string">&quot;songbirds&quot;</span>, <span class="hljs-string">&quot;waders&quot;</span>, <span class="hljs-string">&quot;wildfowl&quot;</span>));
</code></pre>
<p>and this Thymeleaf template fragment</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">th:name</span>=<span class="hljs-string">&quot;${name_of_bird_selector}&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">th:each</span>=<span class="hljs-string">&quot;bird_cat:${bird_groups}&quot;</span>
            <span class="hljs-attr">th:value</span>=<span class="hljs-string">&quot;${bird_cat}&quot;</span>
            <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;&apos;The &apos; + ${bird_cat}&quot;</span>
            <span class="hljs-attr">th:id</span>=<span class="hljs-string">&quot;${bird_cat + &apos;_option&apos;}&quot;</span>
            <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;_bird_cat_&quot;</span>&gt;</span>_bird_cat_<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
</code></pre>
<p>produce this html</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fav_birds&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;raptors_option&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;raptors&quot;</span>&gt;</span>The raptors<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;songbirds_option&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;songbirds&quot;</span>&gt;</span>The songbirds<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;waders_option&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;waders&quot;</span>&gt;</span>The waders<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;wildfowl_option&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;wildfowl&quot;</span>&gt;</span>The wildfowl<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
</code></pre>
<h3 id="inline-expressions">Inline expressions</h3>
<p>Sometimes, it is not desirable to have your variables expressed within tag attributes. Instead, you want raw (html) text. This is especially the case with Javascript, when &quot;injecting&quot; variable values. Here is its main usage scenario:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;say_hello&quot;</span>&gt;</span>Say hello!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">th:inline</span>=<span class="hljs-string">&quot;javascript&quot;</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">var</span> user = [[${session.logged_in_user.name}]];
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;say_hello&quot;</span>).onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        alert(<span class="hljs-string">&quot;Hi, &quot;</span> + user);
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="mvc.html" class="navigation navigation-prev " aria-label="Previous page: Implementing MVC">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="thymeleaf_flow_control.html" class="navigation navigation-next " aria-label="Next page: Thymeleaf flow control & fragments">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Thymeleaf expression types & objects","level":"7.5","depth":1,"next":{"title":"Thymeleaf flow control & fragments","level":"7.6","depth":1,"path":"05_web/thymeleaf_flow_control.md","ref":"05_web/thymeleaf_flow_control.md","articles":[]},"previous":{"title":"Implementing MVC","level":"7.4","depth":1,"path":"05_web/mvc.md","ref":"05_web/mvc.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"05_web/thymeleaf_expressions.md","mtime":"2019-06-12T08:54:20.679Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-06-12T09:11:58.678Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

