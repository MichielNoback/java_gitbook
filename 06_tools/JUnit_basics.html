
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>JUnit 5 Basics Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc/page-toc.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="JUnit_advanced.html" />
    
    
    <link rel="prev" href="../05_web/html_cheatsheet.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../shortcuts.html">
            
                <a href="../shortcuts.html">
            
                    
                    IntelliJ keyboard shortcuts
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 1: Getting started</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../01_getting_started/intellij.html">
            
                <a href="../01_getting_started/intellij.html">
            
                    
                    A first IntelliJ project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../01_getting_started/essentials.html">
            
                <a href="../01_getting_started/essentials.html">
            
                    
                    The essentials
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../01_getting_started/first_look_at_objects.html">
            
                <a href="../01_getting_started/first_look_at_objects.html">
            
                    
                    Demo case: A first look at objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../02_syntax/basic_program_design.html">
            
                <a href="../02_syntax/basic_program_design.html">
            
                    
                    Basic program design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../02_syntax/naming_commenting.html">
            
                <a href="../02_syntax/naming_commenting.html">
            
                    
                    Naming and commenting
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 2: Syntax</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../02_syntax/data_types.html">
            
                <a href="../02_syntax/data_types.html">
            
                    
                    Data types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../02_syntax/arrays.html">
            
                <a href="../02_syntax/arrays.html">
            
                    
                    Arrays
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../02_syntax/operators.html">
            
                <a href="../02_syntax/operators.html">
            
                    
                    Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../02_syntax/flow_control.html">
            
                <a href="../02_syntax/flow_control.html">
            
                    
                    Flow control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../02_syntax/methods.html">
            
                <a href="../02_syntax/methods.html">
            
                    
                    Methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../02_syntax/packages_imports.html">
            
                <a href="../02_syntax/packages_imports.html">
            
                    
                    Packages & Imports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../02_syntax/demo_case_naming.html">
            
                <a href="../02_syntax/demo_case_naming.html">
            
                    
                    Demo case: The power of good names
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 3: Core APIs</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../03_apis/interfaces.html">
            
                <a href="../03_apis/interfaces.html">
            
                    
                    Interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../03_apis/collections.html">
            
                <a href="../03_apis/collections.html">
            
                    
                    Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../03_apis/class_object_methods.html">
            
                <a href="../03_apis/class_object_methods.html">
            
                    
                    Methods of class Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../03_apis/sorting.html">
            
                <a href="../03_apis/sorting.html">
            
                    
                    Sorting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../03_apis/exceptions.html">
            
                <a href="../03_apis/exceptions.html">
            
                    
                    Exceptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../03_apis/io.html">
            
                <a href="../03_apis/io.html">
            
                    
                    File IO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="../03_apis/regex.html">
            
                <a href="../03_apis/regex.html">
            
                    
                    Regular Expressions
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 4: Object-oriented programming</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../04_oop/class_design.html">
            
                <a href="../04_oop/class_design.html">
            
                    
                    Encapsulation through access modifiers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../04_oop/access_modifiers.html">
            
                <a href="../04_oop/access_modifiers.html">
            
                    
                    Access modifiers & other keywords
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../04_oop/inheritance.html">
            
                <a href="../04_oop/inheritance.html">
            
                    
                    Inheritance and UML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../04_oop/enums.html">
            
                <a href="../04_oop/enums.html">
            
                    
                    Enums
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../04_oop/encapsulation.html">
            
                <a href="../04_oop/encapsulation.html">
            
                    
                    Encapsulation revisited
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../04_oop/inner_classes.html">
            
                <a href="../04_oop/inner_classes.html">
            
                    
                    Inner classes
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Summaries Part 1-4</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../design_rules.html">
            
                <a href="../design_rules.html">
            
                    
                    Design Rules summary
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 5: Web-based Java & Thymeleaf</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../05_web/refresher.html">
            
                <a href="../05_web/refresher.html">
            
                    
                    Refresher
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../05_web/toolbox.html">
            
                <a href="../05_web/toolbox.html">
            
                    
                    Toolbox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../05_web/first_project.html">
            
                <a href="../05_web/first_project.html">
            
                    
                    A first project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../05_web/mvc.html">
            
                <a href="../05_web/mvc.html">
            
                    
                    Implementing MVC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../05_web/thymeleaf_expressions.html">
            
                <a href="../05_web/thymeleaf_expressions.html">
            
                    
                    Thymeleaf expression types & objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="../05_web/thymeleaf_flow_control.html">
            
                <a href="../05_web/thymeleaf_flow_control.html">
            
                    
                    Thymeleaf flow control & fragments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="../05_web/sessions.html">
            
                <a href="../05_web/sessions.html">
            
                    
                    Sessions & Scopes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.8" data-path="../05_web/servlet_details.html">
            
                <a href="../05_web/servlet_details.html">
            
                    
                    Servlet details & Lifecycle hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.9" data-path="../05_web/databases.html">
            
                <a href="../05_web/databases.html">
            
                    
                    Database interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.10" data-path="../05_web/ajax.html">
            
                <a href="../05_web/ajax.html">
            
                    
                    Ajax communication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.11" data-path="../05_web/filters_upload.html">
            
                <a href="../05_web/filters_upload.html">
            
                    
                    Web filters and file uploads
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.12" data-path="../05_web/webbased_exercises1.html">
            
                <a href="../05_web/webbased_exercises1.html">
            
                    
                    Exercises Web-based Information Systems 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.13" data-path="../05_web/html_cheatsheet.html">
            
                <a href="../05_web/html_cheatsheet.html">
            
                    
                    html cheat sheet
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 6: Developer tools</li>
        
        
    
        <li class="chapter active" data-level="8.1" data-path="JUnit_basics.html">
            
                <a href="JUnit_basics.html">
            
                    
                    JUnit 5 Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="JUnit_advanced.html">
            
                <a href="JUnit_advanced.html">
            
                    
                    JUnit 5 Advanced
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >JUnit 5 Basics</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="junit-5-basics">JUnit 5 basics</h1>
<h2 id="introduction">Introduction</h2>
<p>In this post, we&apos;ll address a topic that is subject to heated debate in development land: testing.
Why would you spend a significant portion of your development time writing code to test other code?
This will be addressed in more detail later, but think about this question first:</p>
<p><strong><em>How much of your time is lost on debugging and solving problems that could have been foreseen and prevented if you would have taken the time to think about &quot;boundary&quot; use cases of your methods?</em></strong></p>
<p>Several major Java unit testing frameworks exist, but we will explore JUnit since it is the most widely used. Also, the concepts you learn with JUnit are easily transferred to other frameworks.</p>
<p>The <strong><em>unit</em></strong> in unit testing is the method - a named piece of reusable code. If designed well it does one thing only, and it does it well. When creating tests, we <strong><em>cover</em></strong> the software units (methods) of our code base with one or more test methods - unit tests or <strong><em>test cases</em></strong>.</p>
<p>Here is an example to clarify the concept. Suppose you have class <code>Polygon</code> that has as field a list of <code>Coordinate</code> instances. Here is the <code>Coordinate</code> class:</p>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> nl.bioinf;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Coordinate</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> x;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> y;

    <span class="hljs-comment">//constructors, getters and setters omitted</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">distanceTo</span><span class="hljs-params">(Coordinate other)</span> </span>{
        <span class="hljs-keyword">return</span> Math.sqrt(Math.pow(<span class="hljs-keyword">this</span>.x - other.x, <span class="hljs-number">2</span>) + Math.pow(<span class="hljs-keyword">this</span>.y - other.y, <span class="hljs-number">2</span>));
    }
}
</code></pre>
<p>And here is the <code>Polygon</code> class:</p>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> nl.bioinf;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Polygon</span> </span>{
    <span class="hljs-keyword">private</span> List&lt;Coordinate&gt; coordinates;

    <span class="hljs-comment">//constructors, getters and setters omitted</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addCoordinate</span><span class="hljs-params">(Coordinate coordinate)</span> </span>{
        <span class="hljs-keyword">if</span> (coordinates == <span class="hljs-keyword">null</span>) {
            coordinates = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();
        }
        <span class="hljs-keyword">this</span>.coordinates.add(coordinate);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getLength</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">double</span> distance = <span class="hljs-number">0</span>;
        <span class="hljs-comment">//calculate distance</span>
        <span class="hljs-keyword">return</span> distance;
    }
}
</code></pre>
<p>Now look at the Coordinate and Polygon classes and ask yourself: &quot;Is this code robust?&quot;. Can I think of usage scenario&apos;s where one of these classes will fail? 
Or is there even a real bug in there? Take a minute and then read on.</p>
<p>One thing that will immediately alert an experienced programmer is the instance variable in the Polygon class: it is being initialized in a &quot;lazy&quot; manner. There is a big fat <code>NullPointerException</code> lurking there. When the <code>getLength()</code> method is called on an object where no Coordinate has been added yet, <code>coordinates</code> will be null.</p>
<p>This is the essence of JUnit testing: it makes you think about <strong><em>boundary cases</em></strong> like this, and will help you create robust code in a systematic way.</p>
<p>A typical test covering this boundary case could be:</p>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> nl.bioinf;

<span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PolygonTest</span> </span>{
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getLength</span><span class="hljs-params">()</span> </span>{
        Polygon polygon = <span class="hljs-keyword">new</span> Polygon();
        <span class="hljs-keyword">double</span> expectedLength = <span class="hljs-number">0</span>;
        assertEquals(expectedLength, polygon.getLength());
    }
}
</code></pre>
<p>This test <strong>asserts</strong> that the length of an empty Polygon is zero - a good choice of <strong><em>expected behavior</em></strong>. Any other result, including a <code>NullPointerException</code>, will make the test fail.</p>
<p>The next step is of course to modify method <code>getLength()</code> in such a way that it will pass this test. Here is a simple solution:</p>
<pre><code class="lang-java">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getLength</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (coordinates == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">double</span> distance = <span class="hljs-number">0</span>;
            <span class="hljs-comment">//calculate distance</span>
            <span class="hljs-keyword">return</span> distance;
        }
    }
</code></pre>
<p><em>The how-to of creating and running tests in IntelliJ will be shown shortly.</em></p>
<h2 id="why-testing">Why testing</h2>
<p>Test Driven Development (TDD) is today&#x2019;s standard in software development. 
If you introduce new features, a solid test suite protects you against regression in existing code</p>
<p>The approach we&#x2019;ll take in this course is hand-in-hand development of test and production code. This is one school. 
The other believes that all test code should be written before any production code.</p>
<h3 id="three-reasons-for-unit-testing">Three reasons for unit testing</h3>
<ol>
<li>For any function and given a set of inputs, we can determine if the function is returning the proper values and will gracefully handle failures during the course of execution should invalid input be provided.</li>
<li>You&apos;ll be writing code that is easy to test: you are more likely to have a higher number of smaller, more focused functions that provide a single operation rather than large functions performing a number of different operations</li>
<li>Since you&apos;re testing your code as you introduce new functionality, you can prevent changes and additions from breaking existing functionality</li>
</ol>
<p>(See <a href="http://code.tutsplus.com/articles/the-beginners-guide-to-unit-testing-what-is-unit-testing--wp-25728" target="_blank">tutsplus</a>)</p>
<h2 id="running-junit-5-tests-using-gradle-and-intellij">Running JUnit 5 tests using Gradle and IntelliJ</h2>
<p>First make sure you have the correct dependencies in your Gradle build file. Note that I already put two additional dependencies in there (AssertJ and JUnit Params) that will be needed for the next post.</p>
<pre><code class="lang-groovy">group <span class="hljs-string">&apos;nl.bioinf.nomi.appdesigndemos&apos;</span>
version <span class="hljs-string">&apos;1.0-SNAPSHOT&apos;</span>

apply <span class="hljs-string">plugin:</span> <span class="hljs-string">&apos;java&apos;</span>
apply <span class="hljs-string">plugin:</span> <span class="hljs-string">&apos;idea&apos;</span>

sourceCompatibility = JavaVersion.VERSION_1_10

repositories {
    mavenCentral()
}

dependencies {
    testCompile(
    testImplementation <span class="hljs-string">&apos;org.junit.jupiter:junit-jupiter-api:5.2.2&apos;</span>
    testRuntimeOnly <span class="hljs-string">&apos;org.junit.jupiter:junit-jupiter-engine:5.5.2&apos;</span>
    <span class="hljs-comment">//for parameterized tests</span>
    testImplementation <span class="hljs-string">&apos;org.junit.jupiter:junit-jupiter-params:5.5.2&apos;</span>
    <span class="hljs-comment">//for assertJ type assertions</span>
    testImplementation <span class="hljs-string">&apos;org.assertj:assertj-core:3.13.2&apos;</span>
}

<span class="hljs-comment">//in some cases you need to put this in to get it running (I am not sure why...)</span>
test {
    useJUnitPlatform()
}
</code></pre>
<p>Next, create a class and method stub that should be unit tested. Suppose you are creating a class, <code>TextUtils</code> with method <code>getLongestWord(String text)</code> 
This is what it looks like without any functionality implemented:</p>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> nl.bioinf.junit5tests;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TextUtils</span> </span>{
    <span class="hljs-comment">/**
     * Finds the longest word in a given string.
     * If there is a tie, the last found longest
     * is returned.
     *
     * <span class="hljs-doctag">@param</span> text the text to scan
     * <span class="hljs-doctag">@return</span> longestWord
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getLongestWord</span><span class="hljs-params">(String text)</span> </span>{
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UnsupportedOperationException(<span class="hljs-string">&quot;Not implemented yet&quot;</span>);
    }
}
</code></pre>
<p>Note that the programmer already thought about a single boundary case - the tie. This can be seen in the Javadoc.
To create a test for this method, put the cursor on the class name, activate the context menu (<code>alt + enter</code>) and select &quot;Create Test&quot;</p>
<p><img src="figures/create_junit5_test_class_1.png" alt="create_junit_test_class_1.png"></p>
<p>The destination package is <code>nl.bioinf.junit.junit5demos</code> - the same as the <code>TextUtils</code> class. This is an extremely important aspect since it puts the test class in the same package scope.
Select the method you want to create a test for ant press &quot;OK&quot;.</p>
<p>This will create a test class with the same name as your original class, but with &quot;Test&quot; appended. <strong><em>Although the test class is in the same package it will not be in the same folder.</em></strong> Instead, it will be located in the <code>src/test</code> folder while the original class is located under <code>src/main</code>.</p>
<p>Since implementation and test code are in the same package scope, all non-private methods from the class to test are visible:  </p>
<ul>
<li>public</li>
<li>protected</li>
<li>package-public (default)</li>
</ul>
<p>Only private scoped method will be invisible and therefore in principle untestable.</p>
<p><img src="figures/create_junit5_test_class_2.png" alt="create_junit_test_class_2.png"></p>
<p>The test class will look like this.</p>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> nl.bioinf.junit.junit5demos;

<span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.*;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TextUtilsTest</span> </span>{

    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getLongestWord</span><span class="hljs-params">()</span> </span>{
    }
}
</code></pre>
<p>Note the <code>@Test</code> <strong><em>annotation</em></strong> above the method signature. It makes this method recognizable as test method - it tells the JUnit runtime this is a JUnit test method. We&apos;ll visit more JUnit -related annotations later on. 
This default method stub should never be kept as is; it will always pass! There is great danger in that (think about it).
A much better default test stub is the one below as it will always fail because the <code>fail()</code> method will throw an error.</p>
<pre><code class="lang-java">    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getLongestWord</span><span class="hljs-params">()</span> </span>{
        fail(<span class="hljs-string">&quot;test not implemented yet&quot;</span>);
    }
</code></pre>
<p>In the editor margin, you see little green arrows (triangles):
These represent the simplest way to run one or more tests. You find them next to the class name (run the entire test class) or besides a single test case. Hover one to see the hint.</p>
<p><img src="figures/run_junit5_test_1.png" alt="run_junit5_test_1.png"></p>
<p>Click the arrow next to the test case and the Gradle daemon will run it. Of course it will fail - you specified that yourself. The test run panel will show both console output and a test run summary (in this case a single test).</p>
<p><img src="figures/run_junit5_test_2.png" alt="run_junit5_test_2.png"></p>
<p>Now create some test code. The simplest is a so-called <strong><em>sunny-day scenario</em></strong>: a normal input where you expect unambiguous result. Here is an example:</p>
<pre><code class="lang-java"><span class="hljs-meta">@Test</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getLongestWord</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">final</span> String input = <span class="hljs-string">&quot;Hello JUnit testing world&quot;</span>;
    <span class="hljs-keyword">final</span> String expected = <span class="hljs-string">&quot;testing&quot;</span>;
    <span class="hljs-keyword">final</span> String observed = TextUtils.getLongestWord(input);
    assertEquals(expected, observed);
}
</code></pre>
<p>Assertions are the fundaments on which unit testing is built. They are used to specify <em>how you expect the code under test will behave given a set of conditions</em>. one of the most basic ones is the <code>assertEquals()</code> assertion method that is also used in the snippet above. You use it like this: <code>assertEquals(&lt;expected value&gt;, &lt;observed value&gt;);</code> When the expected value does not equal the observed value (according to the <code>equals()</code> method of course), an error will be thrown. In this case, <code>AssertionFailedError</code>. The test will fail.</p>
<p>Of course the test will still fail because the tested method throws an <code>UnsupportedOperationException</code>. The next snippet gives a naive implementation.</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getLongestWord</span><span class="hljs-params">(String text)</span> </span>{
    String[] words = text.split(<span class="hljs-string">&quot; &quot;</span>);
    String longest = <span class="hljs-string">&quot;&quot;</span>;
    <span class="hljs-keyword">for</span> (String word : words) {
        <span class="hljs-keyword">if</span> (word.length() &gt;= longest.length()) {
            longest = word;
        }
    }
    <span class="hljs-keyword">return</span> longest;
}
</code></pre>
<p>If you&apos;re into it, you can also do it the Java8 / Functional Programming way:</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getLongestWord</span><span class="hljs-params">(String text)</span> </span>{
    String[] words = text.split(<span class="hljs-string">&quot; &quot;</span>);
    Optional&lt;String&gt; findFirst = Stream.of(words).sorted(
            (one, two) -&gt; Integer.compare(two.length(), one.length())
        ).findFirst();
    <span class="hljs-keyword">return</span> findFirst.get();
}
</code></pre>
<p>Given the above implementation(s), many programmers would think they are done. But you&apos;re not!
Can you think of use cases where the above code would break, or behave incorrectly?
Again: This is a very important reason to test - it makes you think about other than sunny day scenarios.</p>
<p>Take a minute to think about some useful tests that will demonstrate the reliability of the code and take extra care of boundary cases!
Should you maybe even change the signature of the method getLongestWord()?</p>
<p>Given these inputs  </p>
<ol>
<li><code>&quot;The quick brown fox jumps over the lazy dog&quot;</code>:</li>
<li><code>&quot;&quot;</code></li>
<li><code>&quot; &quot;</code></li>
<li><code>&quot;foo bar 1234&quot;</code></li>
<li><code>null</code></li>
<li><code>&quot;A sentence, with some: punctuation!&quot;</code></li>
</ol>
<p>What should your method do, and what should the test case expect?</p>
<p>New specs:  </p>
<ul>
<li>throw an <code>IllegalArgumentException</code> for cases 2, 3 and 5</li>
<li>strip punctuation characters: &apos;:&apos;, &apos;;&apos;, &apos;?&apos; etc</li>
<li>keep numbers (why? Because I like them).</li>
</ul>
<p>Here is a (still flawed) next iteration</p>
<pre><code class="lang-java">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getLongestWord</span><span class="hljs-params">(String text)</span> </span>{
        <span class="hljs-keyword">if</span> (isIllegalInput(text)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">&quot;text cannot be null or empty&quot;</span>);
        }

        text = stripPunctuationCharacters(text);
        String[] words = text.split(<span class="hljs-string">&quot; &quot;</span>);
        String longest = <span class="hljs-string">&quot;&quot;</span>;
        <span class="hljs-keyword">for</span> (String word : words) {
            <span class="hljs-keyword">if</span> (word.length() &gt;= longest.length()) {
                longest = word;
            }
        }
        <span class="hljs-keyword">return</span> longest;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isIllegalInput</span><span class="hljs-params">(String text)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span> == text || text.isEmpty() || text.equals(<span class="hljs-string">&quot; &quot;</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">stripPunctuationCharacters</span><span class="hljs-params">(String text)</span> </span>{
        <span class="hljs-keyword">return</span> text.replaceAll(<span class="hljs-string">&quot;[?,.:;]&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);
    }
</code></pre>
<p>Notice how very small pieces of code have been extracted to separate methods. It makes the functionality so much more readable! Compare the readability of this</p>
<pre><code class="lang-java">    <span class="hljs-keyword">if</span> (isIllegalInput(text)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">&quot;text cannot be null or empty&quot;</span>);
    }
</code></pre>
<p>with this</p>
<pre><code class="lang-java">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == text || text.isEmpty() || text.equals(<span class="hljs-string">&quot; &quot;</span>)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">&quot;text cannot be null or empty&quot;</span>);
    }
</code></pre>
<p>Besides readability, these small methods can be tested separately, making for a much more robust test suite.</p>
<h3 id="document">Document!</h3>
<p>Don&apos;t forget to write down your design decisions in the Javadoc section - especially regarding public methods. </p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * This method searches for the longest word in 
 * a given string.
 * It will split the String on all spaces and
 * removes all punctuation characters (matching
 * the pattern &quot;[:;,.?!]&quot;). If multiple words
 * have the same length, it will return the
 * first of these.
 * <span class="hljs-doctag">@param</span> text the text to analyze
 * <span class="hljs-doctag">@return</span> longest the longest word
 * <span class="hljs-doctag">@throws</span> IllegalArgumentException when 
 *    a null value, an empty string or a single space is passed
 */</span>
</code></pre>
<p>The nice thing about Javadoc is that you can access it in a readable manner from within your IDE (Fn+F1 on Mac or Ctrl + Q on Linux/Windows):</p>
<p><img src="figures/get_javadoc_info.png" alt="get_javadoc_info.png"></p>
<h2 id="junit-assert-methods">JUnit assert...() methods</h2>
<p>You have seen the <code>fail()</code> and <code>assertEquals()</code> methods that simply fail a test or assert equality between two objects, respectively. Although in principle you could write almost any test with the assertEquals method, there are more. The primary reason is that they make your test suite more readable and more concise.  </p>
<p>Below are the assert methods you can use in your tests. Their names are mostly self-explanatory but some need a bit of an explanation. The <code>assertThrows()</code> method, testing for exceptions, will be dealt with in more detail, as well as the <code>assertAll()</code> method that groups other assertions.  </p>
<ul>
<li><code>assertEquals()</code></li>
<li><code>assertTrue()</code> &amp; <code>assertFalse()</code></li>
<li><code>assertNull()</code> &amp; <code>assertNotNull()</code></li>
<li><code>assertThrows()</code></li>
<li><code>assertArrayEquals()</code></li>
<li><code>assertSame()</code> &amp; <code>assertNotSame()</code></li>
<li><code>assertAll()</code></li>
<li><code>fail()</code></li>
</ul>
<p>Note that equality is not equal to sameness!</p>
<p>There are overloaded variants for many of them.<br>Please refer to the docs for more detail: <a href="https://junit.org/junit5/docs/current/user-guide" target="_blank">https://junit.org/junit5/docs/current/user-guide</a></p>
<h3 id="testing-for-exceptions">Testing for Exceptions</h3>
<p>The method <code>assertThrows(Class&lt;? extends Throwable&gt; expectedType, Executable executable)</code>
in JUnit5 is used to assert that the supplied <strong><em>executable</em></strong> will throw an exception of the expected type. 
It relies on lambdas, which of course were not discussed yet. However, looking at the example below you can probably figure out how to do it for your method to be tested.</p>
<pre><code class="lang-java"><span class="hljs-meta">@Test</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">shouldThrowException</span><span class="hljs-params">()</span> </span>{
    Throwable exception = assertThrows(
        IllegalArgumentException.class, <span class="hljs-comment">/*expects an IllegalArgumentException.class instance*/</span>
        () -&gt; TextUtils.getLongestWord(<span class="hljs-keyword">null</span>)); <span class="hljs-comment">/*will call getLongestWord as tested method*/</span>
    <span class="hljs-comment">/*this uses a regular assertTrue test to check for the exception message*/</span>
    assertEquals(exception.getMessage(), <span class="hljs-string">&quot;text cannot be null&quot;</span>);
}
</code></pre>
<p>If you don&apos;t like (or understand) lambdas you can also use the strategy below with basic Java to achieve the same test functionality.</p>
<pre><code class="lang-java"><span class="hljs-meta">@Test</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shouldThrowExceptionOldSchool</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">try</span> {
        TextUtils.getLongestWord(<span class="hljs-keyword">null</span>);
        fail(<span class="hljs-string">&quot;Expected an IllegalArgumentException&quot;</span>);
    } <span class="hljs-keyword">catch</span> (IllegalArgumentException e) {
        assertEquals(<span class="hljs-string">&quot;text cannot be null&quot;</span>, e.getMessage());
    }
}
</code></pre>
<h3 id="grouping-assertions-using-assertall">Grouping assertions using `assertAll()</h3>
<p>When multiple assertions are concern a single object, it may be a good idea to treat them as a single assertion. That is where <code>assertAll()</code> comes in. This method takes a varargs &quot;list&quot; of Executables.</p>
<p>Here is a self-contained example (borrowed and adapted from the official docs).</p>
<pre><code class="lang-java"><span class="hljs-meta">@DisplayName</span>(<span class="hljs-string">&quot;Testing the name elements of Person&quot;</span>)
<span class="hljs-meta">@Test</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">groupedAssertions</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>{
        String firstName;
        String LastName;
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Person</span><span class="hljs-params">(String firstName, String lastName)</span> </span>{
            <span class="hljs-keyword">this</span>.firstName = firstName;
            LastName = lastName;
        }
        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getFirstName</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> firstName;
        }
        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getLastName</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> LastName;
        }
    }

    Person person = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&quot;Jane&quot;</span>, <span class="hljs-string">&quot;Goodall&quot;</span>);
    <span class="hljs-comment">// In a grouped assertion all assertions are executed, and all</span>
    <span class="hljs-comment">// failures will be reported together.</span>
    assertAll(<span class="hljs-string">&quot;person&quot;</span>,
            () -&gt; assertEquals(<span class="hljs-string">&quot;Jane&quot;</span>, person.getFirstName()),
            () -&gt; assertEquals(<span class="hljs-string">&quot;Doe&quot;</span>, person.getLastName())
    );
}
</code></pre>
<p>This results in </p>
<p><img src="figures/grouped_assertions_output.png" alt="grouped_assertions_output.png"></p>
<p>You can even nest them within code blocks:</p>
<pre><code class="lang-java">    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dependentAssertions</span><span class="hljs-params">()</span> </span>{
        Person person = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&quot;Jane&quot;</span>, <span class="hljs-string">&quot;Goodall&quot;</span>);

        <span class="hljs-comment">// Within a code block, if an assertion fails the</span>
        <span class="hljs-comment">// subsequent code in the same block will be skipped.</span>
        assertAll(<span class="hljs-string">&quot;properties&quot;</span>,
                () -&gt; {
                    String firstName = person.getFirstName();
                    assertNotNull(firstName);

                    <span class="hljs-comment">// Executed only if the previous assertion is valid.</span>
                    assertAll(<span class="hljs-string">&quot;first name&quot;</span>,
                            () -&gt; assertTrue(firstName.startsWith(<span class="hljs-string">&quot;J&quot;</span>)),
                            () -&gt; assertTrue(firstName.endsWith(<span class="hljs-string">&quot;e&quot;</span>))
                    );
                },
                () -&gt; {
                    <span class="hljs-comment">// Grouped assertion, so processed independently</span>
                    <span class="hljs-comment">// of results of first name assertions.</span>
                    String lastName = person.getLastName();
                    assertNotNull(lastName);

                    <span class="hljs-comment">// Executed only if the previous assertion is valid.</span>
                    assertAll(<span class="hljs-string">&quot;last name&quot;</span>,
                            () -&gt; assertTrue(lastName.startsWith(<span class="hljs-string">&quot;G&quot;</span>)),
                            () -&gt; assertTrue(lastName.endsWith(<span class="hljs-string">&quot;l&quot;</span>))
                    );
                }
        );
    }
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../05_web/html_cheatsheet.html" class="navigation navigation-prev " aria-label="Previous page: html cheat sheet">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="JUnit_advanced.html" class="navigation navigation-next " aria-label="Next page: JUnit 5 Advanced">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"JUnit 5 Basics","level":"8.1","depth":1,"next":{"title":"JUnit 5 Advanced","level":"8.2","depth":1,"path":"06_tools/JUnit_advanced.md","ref":"06_tools/JUnit_advanced.md","articles":[]},"previous":{"title":"html cheat sheet","level":"7.13","depth":1,"path":"05_web/html_cheatsheet.md","ref":"05_web/html_cheatsheet.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["page-toc"],"pluginsConfig":{"page-toc":{"position":"before-first","selector":".markdown-section h1, .markdown-section h2, .markdown-section h3","showByDefault":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"06_tools/JUnit_basics.md","mtime":"2019-11-14T15:33:04.958Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-12-03T10:18:24.894Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/anchor-3.1.1.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/page-toc.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

