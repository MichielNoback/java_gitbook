<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 35 Servlet details and lifecycle hooks | The Java Track</title>
  <meta name="description" content="This ebook accompanies the Java course track of bioinformatics at the Hanze University of Applied Science, Groningen (The Netherlands)." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 35 Servlet details and lifecycle hooks | The Java Track" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This ebook accompanies the Java course track of bioinformatics at the Hanze University of Applied Science, Groningen (The Netherlands)." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 35 Servlet details and lifecycle hooks | The Java Track" />
  
  <meta name="twitter:description" content="This ebook accompanies the Java course track of bioinformatics at the Hanze University of Applied Science, Groningen (The Netherlands)." />
  

<meta name="author" content="Michiel Noback" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="sessions-scopes.html"/>
<link rel="next" href="database-interaction.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Java eBook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> General introduction</a></li>
<li class="chapter" data-level="2" data-path="keyboard-shortcuts.html"><a href="keyboard-shortcuts.html"><i class="fa fa-check"></i><b>2</b> Keyboard shortcuts</a></li>
<li class="part"><span><b>Part I - Getting Started</b></span></li>
<li class="chapter" data-level="3" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html"><i class="fa fa-check"></i><b>3</b> A first IntelliJ project</a><ul>
<li class="chapter" data-level="3.1" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#dependency-management"><i class="fa fa-check"></i><b>3.1</b> Dependency management</a></li>
<li class="chapter" data-level="3.2" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#a-first-project"><i class="fa fa-check"></i><b>3.2</b> A first project</a></li>
<li class="chapter" data-level="3.3" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#distribute-an-executable"><i class="fa fa-check"></i><b>3.3</b> Distribute an executable</a></li>
<li class="chapter" data-level="3.4" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#wrap-up"><i class="fa fa-check"></i><b>3.4</b> Wrap-up</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html"><i class="fa fa-check"></i><b>4</b> The essence of Java</a><ul>
<li class="chapter" data-level="4.1" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#cross-platform"><i class="fa fa-check"></i><b>4.1</b> Cross-platform</a></li>
<li class="chapter" data-level="4.2" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#multithreaded"><i class="fa fa-check"></i><b>4.2</b> Multithreaded</a></li>
<li class="chapter" data-level="4.3" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#object-oriented"><i class="fa fa-check"></i><b>4.3</b> Object-Oriented</a></li>
<li class="chapter" data-level="4.4" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#strongly-typed-and-scoped"><i class="fa fa-check"></i><b>4.4</b> Strongly typed and scoped</a></li>
<li class="chapter" data-level="4.5" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#compiled"><i class="fa fa-check"></i><b>4.5</b> Compiled</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html"><i class="fa fa-check"></i><b>5</b> Objects: ninjas and growing cells</a><ul>
<li class="chapter" data-level="5.1" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#ninjas"><i class="fa fa-check"></i><b>5.1</b> Ninjas</a></li>
<li class="chapter" data-level="5.2" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#growing-cells"><i class="fa fa-check"></i><b>5.2</b> Growing cells</a></li>
<li class="chapter" data-level="5.3" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#object-construction-first-iteration"><i class="fa fa-check"></i><b>5.3</b> Object construction (first iteration)</a></li>
<li class="chapter" data-level="5.4" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#inheritance-first-discussion"><i class="fa fa-check"></i><b>5.4</b> Inheritance (first discussion)</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="basic-program-structure-and-flow.html"><a href="basic-program-structure-and-flow.html"><i class="fa fa-check"></i><b>6</b> Basic program structure and flow</a><ul>
<li class="chapter" data-level="6.1" data-path="basic-program-structure-and-flow.html"><a href="basic-program-structure-and-flow.html#basic-program-structure"><i class="fa fa-check"></i><b>6.1</b> Basic program structure</a></li>
<li class="chapter" data-level="6.2" data-path="basic-program-structure-and-flow.html"><a href="basic-program-structure-and-flow.html#summary"><i class="fa fa-check"></i><b>6.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="naming-and-commenting-stuff.html"><a href="naming-and-commenting-stuff.html"><i class="fa fa-check"></i><b>7</b> Naming and commenting stuff</a><ul>
<li class="chapter" data-level="7.1" data-path="naming-and-commenting-stuff.html"><a href="naming-and-commenting-stuff.html#naming"><i class="fa fa-check"></i><b>7.1</b> Naming</a></li>
<li class="chapter" data-level="7.2" data-path="naming-and-commenting-stuff.html"><a href="naming-and-commenting-stuff.html#commenting"><i class="fa fa-check"></i><b>7.2</b> Commenting</a></li>
</ul></li>
<li class="part"><span><b>Part II - Syntax</b></span></li>
<li class="chapter" data-level="8" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>8</b> Data Types</a><ul>
<li class="chapter" data-level="8.1" data-path="data-types.html"><a href="data-types.html#primitives"><i class="fa fa-check"></i><b>8.1</b> Primitives</a></li>
<li class="chapter" data-level="8.2" data-path="data-types.html"><a href="data-types.html#reference-types"><i class="fa fa-check"></i><b>8.2</b> Reference types</a></li>
<li class="chapter" data-level="8.3" data-path="data-types.html"><a href="data-types.html#what-is-the-difference"><i class="fa fa-check"></i><b>8.3</b> What is the difference?</a></li>
<li class="chapter" data-level="8.4" data-path="data-types.html"><a href="data-types.html#summary-1"><i class="fa fa-check"></i><b>8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="arrays.html"><a href="arrays.html"><i class="fa fa-check"></i><b>9</b> Arrays</a><ul>
<li class="chapter" data-level="9.1" data-path="arrays.html"><a href="arrays.html#creating-arrays"><i class="fa fa-check"></i><b>9.1</b> Creating arrays</a></li>
<li class="chapter" data-level="9.2" data-path="arrays.html"><a href="arrays.html#printing"><i class="fa fa-check"></i><b>9.2</b> Printing</a></li>
<li class="chapter" data-level="9.3" data-path="arrays.html"><a href="arrays.html#accessing"><i class="fa fa-check"></i><b>9.3</b> Accessing</a></li>
<li class="chapter" data-level="9.4" data-path="arrays.html"><a href="arrays.html#multidimensional-arrays"><i class="fa fa-check"></i><b>9.4</b> Multidimensional arrays</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="operators.html"><a href="operators.html"><i class="fa fa-check"></i><b>10</b> Operators</a><ul>
<li class="chapter" data-level="10.1" data-path="operators.html"><a href="operators.html#overview"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="flow-control.html"><a href="flow-control.html"><i class="fa fa-check"></i><b>11</b> Flow control</a><ul>
<li class="chapter" data-level="11.1" data-path="flow-control.html"><a href="flow-control.html#if-else-if-else"><i class="fa fa-check"></i><b>11.1</b> if [else if] [else]</a></li>
<li class="chapter" data-level="11.2" data-path="flow-control.html"><a href="flow-control.html#while"><i class="fa fa-check"></i><b>11.2</b> while</a></li>
<li class="chapter" data-level="11.3" data-path="flow-control.html"><a href="flow-control.html#for"><i class="fa fa-check"></i><b>11.3</b> for</a></li>
<li class="chapter" data-level="11.4" data-path="flow-control.html"><a href="flow-control.html#break-and-continue"><i class="fa fa-check"></i><b>11.4</b> break and continue</a></li>
<li class="chapter" data-level="11.5" data-path="flow-control.html"><a href="flow-control.html#switchcase"><i class="fa fa-check"></i><b>11.5</b> switch/case</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="methods-1.html"><a href="methods-1.html"><i class="fa fa-check"></i><b>12</b> Methods</a><ul>
<li class="chapter" data-level="12.1" data-path="methods-1.html"><a href="methods-1.html#method-signature"><i class="fa fa-check"></i><b>12.1</b> Method signature</a></li>
<li class="chapter" data-level="12.2" data-path="methods-1.html"><a href="methods-1.html#interacting-with-state"><i class="fa fa-check"></i><b>12.2</b> Interacting with state</a></li>
<li class="chapter" data-level="12.3" data-path="methods-1.html"><a href="methods-1.html#method-overloading"><i class="fa fa-check"></i><b>12.3</b> Method overloading</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="packages-and-imports.html"><a href="packages-and-imports.html"><i class="fa fa-check"></i><b>13</b> Packages and Imports</a><ul>
<li class="chapter" data-level="13.1" data-path="packages-and-imports.html"><a href="packages-and-imports.html#class-path"><i class="fa fa-check"></i><b>13.1</b> Class path</a></li>
<li class="chapter" data-level="13.2" data-path="packages-and-imports.html"><a href="packages-and-imports.html#namespaces"><i class="fa fa-check"></i><b>13.2</b> Namespaces</a></li>
<li class="chapter" data-level="13.3" data-path="packages-and-imports.html"><a href="packages-and-imports.html#packages"><i class="fa fa-check"></i><b>13.3</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="the-power-of-naming.html"><a href="the-power-of-naming.html"><i class="fa fa-check"></i><b>14</b> The power of naming</a></li>
<li class="part"><span><b>Part III - Core APIs</b></span></li>
<li class="chapter" data-level="15" data-path="interfaces.html"><a href="interfaces.html"><i class="fa fa-check"></i><b>15</b> Interfaces</a><ul>
<li class="chapter" data-level="15.1" data-path="interfaces.html"><a href="interfaces.html#a-contract-without-implementation-interface"><i class="fa fa-check"></i><b>15.1</b> A contract without implementation: interface</a></li>
<li class="chapter" data-level="15.2" data-path="interfaces.html"><a href="interfaces.html#summary-2"><i class="fa fa-check"></i><b>15.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html"><i class="fa fa-check"></i><b>16</b> The Java Collections API</a><ul>
<li class="chapter" data-level="16.1" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#lists-arraylist-and-linkedlist"><i class="fa fa-check"></i><b>16.1</b> Lists: ArrayList and LinkedList</a></li>
<li class="chapter" data-level="16.2" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#code-against-interfaces-not-implementations"><i class="fa fa-check"></i><b>16.2</b> Code against interfaces, not implementations</a></li>
<li class="chapter" data-level="16.3" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#the-collection-interfaces-map-list-set"><i class="fa fa-check"></i><b>16.3</b> The collection interfaces: Map, List, Set</a></li>
<li class="chapter" data-level="16.4" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#collections-utility-methods"><i class="fa fa-check"></i><b>16.4</b> Collections utility methods</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="methods-of-class-object.html"><a href="methods-of-class-object.html"><i class="fa fa-check"></i><b>17</b> Methods of class Object</a><ul>
<li class="chapter" data-level="17.1" data-path="methods-of-class-object.html"><a href="methods-of-class-object.html#tostring-equals-hashcode-getclass"><i class="fa fa-check"></i><b>17.1</b> toString(), equals(), hashCode(), getClass()</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="sorting.html"><a href="sorting.html"><i class="fa fa-check"></i><b>18</b> Sorting</a><ul>
<li class="chapter" data-level="18.1" data-path="sorting.html"><a href="sorting.html#natural-sorting-with-the-comparable-interface"><i class="fa fa-check"></i><b>18.1</b> “Natural” sorting with the <code>Comparable</code> interface</a></li>
<li class="chapter" data-level="18.2" data-path="sorting.html"><a href="sorting.html#sorting-using-a-custom-comparator"><i class="fa fa-check"></i><b>18.2</b> Sorting using a custom <code>Comparator</code></a></li>
<li class="chapter" data-level="18.3" data-path="sorting.html"><a href="sorting.html#multilevel-sorting"><i class="fa fa-check"></i><b>18.3</b> Multilevel sorting</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="exceptions.html"><a href="exceptions.html"><i class="fa fa-check"></i><b>19</b> Exceptions</a><ul>
<li class="chapter" data-level="19.1" data-path="exceptions.html"><a href="exceptions.html#what-are-exceptions"><i class="fa fa-check"></i><b>19.1</b> What are exceptions</a></li>
<li class="chapter" data-level="19.2" data-path="exceptions.html"><a href="exceptions.html#checked-and-unchecked-exceptions"><i class="fa fa-check"></i><b>19.2</b> Checked and unchecked exceptions</a></li>
<li class="chapter" data-level="19.3" data-path="exceptions.html"><a href="exceptions.html#all-trycatch-elements"><i class="fa fa-check"></i><b>19.3</b> All try/catch elements</a></li>
<li class="chapter" data-level="19.4" data-path="exceptions.html"><a href="exceptions.html#try-with-resources"><i class="fa fa-check"></i><b>19.4</b> Try-with resources</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="file-io.html"><a href="file-io.html"><i class="fa fa-check"></i><b>20</b> File IO</a><ul>
<li class="chapter" data-level="20.1" data-path="file-io.html"><a href="file-io.html#path-paths"><i class="fa fa-check"></i><b>20.1</b> Path &amp; Paths</a></li>
<li class="chapter" data-level="20.2" data-path="file-io.html"><a href="file-io.html#file-and-files"><i class="fa fa-check"></i><b>20.2</b> File and Files</a></li>
<li class="chapter" data-level="20.3" data-path="file-io.html"><a href="file-io.html#parsing-file-content-the-easy-way"><i class="fa fa-check"></i><b>20.3</b> Parsing file content the easy way</a></li>
<li class="chapter" data-level="20.4" data-path="file-io.html"><a href="file-io.html#note-on-character-sets"><i class="fa fa-check"></i><b>20.4</b> Note on character sets</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>21</b> Regular Expressions</a><ul>
<li class="chapter" data-level="21.1" data-path="regular-expressions.html"><a href="regular-expressions.html#regex-syntax"><i class="fa fa-check"></i><b>21.1</b> Regex syntax?</a></li>
<li class="chapter" data-level="21.2" data-path="regular-expressions.html"><a href="regular-expressions.html#methods-of-class-string"><i class="fa fa-check"></i><b>21.2</b> Methods of class String</a></li>
<li class="chapter" data-level="21.3" data-path="regular-expressions.html"><a href="regular-expressions.html#pattern-matcher"><i class="fa fa-check"></i><b>21.3</b> Pattern &amp; Matcher</a></li>
</ul></li>
<li class="part"><span><b>Part IV - OOP</b></span></li>
<li class="chapter" data-level="22" data-path="encapsulation.html"><a href="encapsulation.html"><i class="fa fa-check"></i><b>22</b> Encapsulation</a><ul>
<li class="chapter" data-level="22.1" data-path="encapsulation.html"><a href="encapsulation.html#summary-3"><i class="fa fa-check"></i><b>22.1</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="access-modifiers-other-keywords.html"><a href="access-modifiers-other-keywords.html"><i class="fa fa-check"></i><b>23</b> Access modifiers &amp; Other keywords</a><ul>
<li class="chapter" data-level="23.1" data-path="access-modifiers-other-keywords.html"><a href="access-modifiers-other-keywords.html#access-modifiers"><i class="fa fa-check"></i><b>23.1</b> Access Modifiers</a></li>
<li class="chapter" data-level="23.2" data-path="access-modifiers-other-keywords.html"><a href="access-modifiers-other-keywords.html#other-keywords"><i class="fa fa-check"></i><b>23.2</b> Other keywords</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="inheritance-and-uml.html"><a href="inheritance-and-uml.html"><i class="fa fa-check"></i><b>24</b> Inheritance and UML</a><ul>
<li class="chapter" data-level="24.1" data-path="inheritance-and-uml.html"><a href="inheritance-and-uml.html#the-testtube-with-cells"><i class="fa fa-check"></i><b>24.1</b> The TestTube with cells</a></li>
<li class="chapter" data-level="24.2" data-path="inheritance-and-uml.html"><a href="inheritance-and-uml.html#apply-inheritance-to-model-what-is-common"><i class="fa fa-check"></i><b>24.2</b> Apply inheritance to model what is common</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="enums-constants-on-steroids.html"><a href="enums-constants-on-steroids.html"><i class="fa fa-check"></i><b>25</b> Enums: constants on steroids</a><ul>
<li class="chapter" data-level="25.1" data-path="enums-constants-on-steroids.html"><a href="enums-constants-on-steroids.html#constants-are-everywhere"><i class="fa fa-check"></i><b>25.1</b> Constants are everywhere</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="encapsulation-revisited.html"><a href="encapsulation-revisited.html"><i class="fa fa-check"></i><b>26</b> Encapsulation revisited</a></li>
<li class="chapter" data-level="27" data-path="design-rules-summary.html"><a href="design-rules-summary.html"><i class="fa fa-check"></i><b>27</b> Design rules summary</a><ul>
<li class="chapter" data-level="27.1" data-path="design-rules-summary.html"><a href="design-rules-summary.html#equals-and-hashcode"><i class="fa fa-check"></i><b>27.1</b> equals() and hashCode()</a></li>
<li class="chapter" data-level="27.2" data-path="design-rules-summary.html"><a href="design-rules-summary.html#classes-1"><i class="fa fa-check"></i><b>27.2</b> Classes</a></li>
<li class="chapter" data-level="27.3" data-path="design-rules-summary.html"><a href="design-rules-summary.html#code-against-interfaces-not-implementations-1"><i class="fa fa-check"></i><b>27.3</b> Code against interfaces, not implementations</a></li>
<li class="chapter" data-level="27.4" data-path="design-rules-summary.html"><a href="design-rules-summary.html#exceptions-1"><i class="fa fa-check"></i><b>27.4</b> Exceptions</a></li>
<li class="chapter" data-level="27.5" data-path="design-rules-summary.html"><a href="design-rules-summary.html#access-modifiers-1"><i class="fa fa-check"></i><b>27.5</b> Access modifiers</a></li>
<li class="chapter" data-level="27.6" data-path="design-rules-summary.html"><a href="design-rules-summary.html#srp"><i class="fa fa-check"></i><b>27.6</b> SRP</a></li>
<li class="chapter" data-level="27.7" data-path="design-rules-summary.html"><a href="design-rules-summary.html#various"><i class="fa fa-check"></i><b>27.7</b> Various</a></li>
</ul></li>
<li class="part"><span><b>Part V - Java Web Apps</b></span></li>
<li class="chapter" data-level="28" data-path="a-refresher.html"><a href="a-refresher.html"><i class="fa fa-check"></i><b>28</b> A refresher</a><ul>
<li class="chapter" data-level="28.1" data-path="a-refresher.html"><a href="a-refresher.html#introduction"><i class="fa fa-check"></i><b>28.1</b> Introduction</a></li>
<li class="chapter" data-level="28.2" data-path="a-refresher.html"><a href="a-refresher.html#the-basics-of-web"><i class="fa fa-check"></i><b>28.2</b> The basics of web</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="the-toolbox.html"><a href="the-toolbox.html"><i class="fa fa-check"></i><b>29</b> The toolbox</a></li>
<li class="chapter" data-level="30" data-path="a-first-project-1.html"><a href="a-first-project-1.html"><i class="fa fa-check"></i><b>30</b> A first project</a><ul>
<li class="chapter" data-level="30.1" data-path="a-first-project-1.html"><a href="a-first-project-1.html#introduction-1"><i class="fa fa-check"></i><b>30.1</b> Introduction</a></li>
<li class="chapter" data-level="30.2" data-path="a-first-project-1.html"><a href="a-first-project-1.html#the-steps"><i class="fa fa-check"></i><b>30.2</b> The steps</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="implementing-mvc.html"><a href="implementing-mvc.html"><i class="fa fa-check"></i><b>31</b> Implementing MVC</a><ul>
<li class="chapter" data-level="31.1" data-path="implementing-mvc.html"><a href="implementing-mvc.html#introduction-2"><i class="fa fa-check"></i><b>31.1</b> Introduction</a></li>
<li class="chapter" data-level="31.2" data-path="implementing-mvc.html"><a href="implementing-mvc.html#java-web-app-architecture"><i class="fa fa-check"></i><b>31.2</b> Java web app architecture</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="thymeleaf-expressions.html"><a href="thymeleaf-expressions.html"><i class="fa fa-check"></i><b>32</b> Thymeleaf expressions</a><ul>
<li class="chapter" data-level="32.1" data-path="thymeleaf-expressions.html"><a href="thymeleaf-expressions.html#introduction-3"><i class="fa fa-check"></i><b>32.1</b> Introduction</a></li>
<li class="chapter" data-level="32.2" data-path="thymeleaf-expressions.html"><a href="thymeleaf-expressions.html#expression-types"><i class="fa fa-check"></i><b>32.2</b> Expression types</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="thymeleaf-flow-control-and-fragments.html"><a href="thymeleaf-flow-control-and-fragments.html"><i class="fa fa-check"></i><b>33</b> Thymeleaf flow control and fragments</a><ul>
<li class="chapter" data-level="33.1" data-path="thymeleaf-flow-control-and-fragments.html"><a href="thymeleaf-flow-control-and-fragments.html#introduction-4"><i class="fa fa-check"></i><b>33.1</b> Introduction</a></li>
<li class="chapter" data-level="33.2" data-path="thymeleaf-flow-control-and-fragments.html"><a href="thymeleaf-flow-control-and-fragments.html#working-with-fragments"><i class="fa fa-check"></i><b>33.2</b> Working with fragments</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="sessions-scopes.html"><a href="sessions-scopes.html"><i class="fa fa-check"></i><b>34</b> Sessions &amp; Scopes</a><ul>
<li class="chapter" data-level="34.1" data-path="sessions-scopes.html"><a href="sessions-scopes.html#introduction-5"><i class="fa fa-check"></i><b>34.1</b> Introduction</a></li>
<li class="chapter" data-level="34.2" data-path="sessions-scopes.html"><a href="sessions-scopes.html#scopes"><i class="fa fa-check"></i><b>34.2</b> Scopes</a></li>
<li class="chapter" data-level="34.3" data-path="sessions-scopes.html"><a href="sessions-scopes.html#summary-of-scopes"><i class="fa fa-check"></i><b>34.3</b> Summary of scopes</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="servlet-details-and-lifecycle-hooks.html"><a href="servlet-details-and-lifecycle-hooks.html"><i class="fa fa-check"></i><b>35</b> Servlet details and lifecycle hooks</a><ul>
<li class="chapter" data-level="35.1" data-path="servlet-details-and-lifecycle-hooks.html"><a href="servlet-details-and-lifecycle-hooks.html#servlet-configuration"><i class="fa fa-check"></i><b>35.1</b> Servlet configuration</a></li>
<li class="chapter" data-level="35.2" data-path="servlet-details-and-lifecycle-hooks.html"><a href="servlet-details-and-lifecycle-hooks.html#hooks"><i class="fa fa-check"></i><b>35.2</b> Hooks</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="database-interaction.html"><a href="database-interaction.html"><i class="fa fa-check"></i><b>36</b> Database interaction</a><ul>
<li class="chapter" data-level="36.1" data-path="database-interaction.html"><a href="database-interaction.html#jdbc"><i class="fa fa-check"></i><b>36.1</b> JDBC</a></li>
<li class="chapter" data-level="36.2" data-path="database-interaction.html"><a href="database-interaction.html#the-naive-implementation"><i class="fa fa-check"></i><b>36.2</b> The naive implementation</a></li>
<li class="chapter" data-level="36.3" data-path="database-interaction.html"><a href="database-interaction.html#improve-on-naive-implementation"><i class="fa fa-check"></i><b>36.3</b> Improve on naive implementation</a></li>
<li class="chapter" data-level="36.4" data-path="database-interaction.html"><a href="database-interaction.html#refactoring-to-oo-principles"><i class="fa fa-check"></i><b>36.4</b> Refactoring to OO principles</a></li>
<li class="chapter" data-level="36.5" data-path="database-interaction.html"><a href="database-interaction.html#use-in-a-servlet-environment"><i class="fa fa-check"></i><b>36.5</b> Use in a servlet environment</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="a-simple-web-service-using-ajax.html"><a href="a-simple-web-service-using-ajax.html"><i class="fa fa-check"></i><b>37</b> A simple web service using Ajax</a><ul>
<li class="chapter" data-level="37.1" data-path="a-simple-web-service-using-ajax.html"><a href="a-simple-web-service-using-ajax.html#introduction-6"><i class="fa fa-check"></i><b>37.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="web-filters-and-file-uploads.html"><a href="web-filters-and-file-uploads.html"><i class="fa fa-check"></i><b>38</b> Web filters and File uploads</a><ul>
<li class="chapter" data-level="38.1" data-path="web-filters-and-file-uploads.html"><a href="web-filters-and-file-uploads.html#web-filters"><i class="fa fa-check"></i><b>38.1</b> Web filters</a></li>
<li class="chapter" data-level="38.2" data-path="web-filters-and-file-uploads.html"><a href="web-filters-and-file-uploads.html#file-uploads"><i class="fa fa-check"></i><b>38.2</b> File uploads</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="exercises-intro.html"><a href="exercises-intro.html"><i class="fa fa-check"></i><b>39</b> Exercises intro</a><ul>
<li class="chapter" data-level="39.1" data-path="exercises-intro.html"><a href="exercises-intro.html#implementing-mvc-1"><i class="fa fa-check"></i><b>39.1</b> Implementing MVC</a></li>
<li class="chapter" data-level="39.2" data-path="exercises-intro.html"><a href="exercises-intro.html#thymeleaf"><i class="fa fa-check"></i><b>39.2</b> Thymeleaf</a></li>
<li class="chapter" data-level="39.3" data-path="exercises-intro.html"><a href="exercises-intro.html#sessions"><i class="fa fa-check"></i><b>39.3</b> Sessions</a></li>
<li class="chapter" data-level="39.4" data-path="exercises-intro.html"><a href="exercises-intro.html#authentication-1"><i class="fa fa-check"></i><b>39.4</b> Authentication</a></li>
<li class="chapter" data-level="39.5" data-path="exercises-intro.html"><a href="exercises-intro.html#servlet-details-and-hooks"><i class="fa fa-check"></i><b>39.5</b> Servlet details and hooks</a></li>
<li class="chapter" data-level="39.6" data-path="exercises-intro.html"><a href="exercises-intro.html#database-interaction-1"><i class="fa fa-check"></i><b>39.6</b> Database interaction</a></li>
<li class="chapter" data-level="39.7" data-path="exercises-intro.html"><a href="exercises-intro.html#ajax"><i class="fa fa-check"></i><b>39.7</b> Ajax</a></li>
<li class="chapter" data-level="39.8" data-path="exercises-intro.html"><a href="exercises-intro.html#filters"><i class="fa fa-check"></i><b>39.8</b> Filters</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="html5-tags.html"><a href="html5-tags.html"><i class="fa fa-check"></i><b>40</b> HTML5 tags</a></li>
<li class="part"><span><b>Part VI - JUnit</b></span></li>
<li class="chapter" data-level="41" data-path="junit-5-basics.html"><a href="junit-5-basics.html"><i class="fa fa-check"></i><b>41</b> JUnit 5 basics</a><ul>
<li class="chapter" data-level="41.1" data-path="junit-5-basics.html"><a href="junit-5-basics.html#introduction-7"><i class="fa fa-check"></i><b>41.1</b> Introduction</a></li>
<li class="chapter" data-level="41.2" data-path="junit-5-basics.html"><a href="junit-5-basics.html#reasons-for-unit-testing"><i class="fa fa-check"></i><b>41.2</b> Reasons for unit testing</a></li>
<li class="chapter" data-level="41.3" data-path="junit-5-basics.html"><a href="junit-5-basics.html#running-junit-5-tests-using-gradle-and-intellij"><i class="fa fa-check"></i><b>41.3</b> Running JUnit 5 tests using Gradle and IntelliJ</a></li>
<li class="chapter" data-level="41.4" data-path="junit-5-basics.html"><a href="junit-5-basics.html#document"><i class="fa fa-check"></i><b>41.4</b> Document!</a></li>
<li class="chapter" data-level="41.5" data-path="junit-5-basics.html"><a href="junit-5-basics.html#junit-assert...-methods"><i class="fa fa-check"></i><b>41.5</b> JUnit <code>assert...()</code> methods</a></li>
<li class="chapter" data-level="41.6" data-path="junit-5-basics.html"><a href="junit-5-basics.html#testing-for-exceptions"><i class="fa fa-check"></i><b>41.6</b> Testing for Exceptions</a></li>
<li class="chapter" data-level="41.7" data-path="junit-5-basics.html"><a href="junit-5-basics.html#grouping-assertions-using-assertall"><i class="fa fa-check"></i><b>41.7</b> Grouping assertions using <code>assertAll()</code></a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="junit-5-advanced-features.html"><a href="junit-5-advanced-features.html"><i class="fa fa-check"></i><b>42</b> JUnit 5 advanced features</a><ul>
<li class="chapter" data-level="42.1" data-path="junit-5-advanced-features.html"><a href="junit-5-advanced-features.html#introduction-8"><i class="fa fa-check"></i><b>42.1</b> Introduction</a></li>
<li class="chapter" data-level="42.2" data-path="junit-5-advanced-features.html"><a href="junit-5-advanced-features.html#junit-5-annotations"><i class="fa fa-check"></i><b>42.2</b> JUnit 5 annotations</a></li>
</ul></li>
<li class="part"><span><b>Part VII - Design</b></span></li>
<li class="chapter" data-level="43" data-path="uml.html"><a href="uml.html"><i class="fa fa-check"></i><b>43</b> UML</a></li>
<li class="chapter" data-level="44" data-path="refactoring.html"><a href="refactoring.html"><i class="fa fa-check"></i><b>44</b> Refactoring</a><ul>
<li class="chapter" data-level="44.1" data-path="refactoring.html"><a href="refactoring.html#introduction-9"><i class="fa fa-check"></i><b>44.1</b> Introduction</a></li>
<li class="chapter" data-level="44.2" data-path="refactoring.html"><a href="refactoring.html#get-to-know-what-is-there"><i class="fa fa-check"></i><b>44.2</b> Get to know what is there</a></li>
<li class="chapter" data-level="44.3" data-path="refactoring.html"><a href="refactoring.html#refactor"><i class="fa fa-check"></i><b>44.3</b> Refactor</a></li>
<li class="chapter" data-level="44.4" data-path="refactoring.html"><a href="refactoring.html#take-over"><i class="fa fa-check"></i><b>44.4</b> Take over</a></li>
</ul></li>
<li class="part"><span><b>Part VIII - Spring Boot</b></span></li>
<li class="chapter" data-level="45" data-path="rest-and-mvc-with-spring.html"><a href="rest-and-mvc-with-spring.html"><i class="fa fa-check"></i><b>45</b> REST and MVC with Spring</a><ul>
<li class="chapter" data-level="45.1" data-path="rest-and-mvc-with-spring.html"><a href="rest-and-mvc-with-spring.html#create-a-new-project"><i class="fa fa-check"></i><b>45.1</b> Create a new project</a></li>
<li class="chapter" data-level="45.2" data-path="rest-and-mvc-with-spring.html"><a href="rest-and-mvc-with-spring.html#create-a-rest-response"><i class="fa fa-check"></i><b>45.2</b> Create a REST response</a></li>
</ul></li>
<li class="chapter" data-level="46" data-path="dependency-injection-in-spring.html"><a href="dependency-injection-in-spring.html"><i class="fa fa-check"></i><b>46</b> Dependency Injection in Spring</a></li>
<li class="chapter" data-level="47" data-path="core-spring-annotations.html"><a href="core-spring-annotations.html"><i class="fa fa-check"></i><b>47</b> Core (Spring) annotations</a><ul>
<li class="chapter" data-level="47.1" data-path="core-spring-annotations.html"><a href="core-spring-annotations.html#generic-annotations"><i class="fa fa-check"></i><b>47.1</b> Generic annotations</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Java Track</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="servlet-details-and-lifecycle-hooks" class="section level1">
<h1><span class="header-section-number">Chapter 35</span> Servlet details and lifecycle hooks</h1>
<p>In this post, some details of servlet configuration are discussed, as well as techniques that you can use to hook into life cycle events, the main ones being application startup and -shutdown, and first request on a servlet.</p>
<div id="servlet-configuration" class="section level2">
<h2><span class="header-section-number">35.1</span> Servlet configuration</h2>
<p>The <code>@WebServlet</code> annotation offers several possibilities for configuration. Here are the interesting ones:</p>
<table>
<colgroup>
<col width="12%" />
<col width="9%" />
<col width="6%" />
<col width="71%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>urlPatterns or value</td>
<td>String[]</td>
<td>y</td>
<td>Specify one or more URL patterns of the servlet. Either of attribute can be used, but not both</td>
</tr>
<tr class="even">
<td>asyncSupported</td>
<td>String</td>
<td>n</td>
<td>Specify whether the servlet supports asynchronous operation mode. Default is false.</td>
</tr>
<tr class="odd">
<td>initParams</td>
<td>WebInitParam[]</td>
<td>n</td>
<td>Specify one or more initialization parameters of the servlet. Each parameter is specified by @WebInitParam annotation type.</td>
</tr>
<tr class="even">
<td>loadOnStartup</td>
<td>int</td>
<td>n</td>
<td>Specify load-on-startup order of the servlet. Default is -1</td>
</tr>
</tbody>
</table>
<div id="webservlet---urlpatterns" class="section level4 unnumbered">
<h4>@Webservlet - urlPatterns</h4>
<p>The <code>urlPatterns</code> parameter specifies which urls will map on your servlet.
This configuration:</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb273-1"><a href="servlet-details-and-lifecycle-hooks.html#cb273-1"></a><span class="at">@WebServlet</span>(name = <span class="st">&quot;WelcomeServlet&quot;</span>, </span>
<span id="cb273-2"><a href="servlet-details-and-lifecycle-hooks.html#cb273-2"></a>            urlPatterns = {<span class="st">&quot;/welcome&quot;</span>, <span class="st">&quot;/index&quot;</span>, <span class="st">&quot;/home&quot;</span>})</span>
<span id="cb273-3"><a href="servlet-details-and-lifecycle-hooks.html#cb273-3"></a><span class="kw">public</span> <span class="kw">class</span> WelcomeServlet <span class="kw">extends</span> HttpServlet { <span class="kw">... </span>}</span></code></pre></div>
<p>maps all these requests to <code>WelcomeServlet</code>:
- <a href="http://localhost:8080/index" class="uri">http://localhost:8080/index</a>
- <a href="http://localhost:8080/welcome" class="uri">http://localhost:8080/welcome</a>
- <a href="http://localhost:8080/home" class="uri">http://localhost:8080/home</a></p>
</div>
<div id="webservlet---loadonstartup" class="section level4 unnumbered">
<h4>@Webservlet - loadOnStartup</h4>
<p>The <code>loadOnStartup</code> parameter is an integer which specifies the servlet load order.
The container loads servlets with lower values before servlets with higher values.
If <code>loadOnStartup</code> is negative (it defaults to -1), the servlet will be loaded when the container decides to - typically on first access.</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb274-1"><a href="servlet-details-and-lifecycle-hooks.html#cb274-1"></a><span class="at">@WebServlet</span>(urlPatterns = {<span class="st">&quot;/welcome&quot;</span>},</span>
<span id="cb274-2"><a href="servlet-details-and-lifecycle-hooks.html#cb274-2"></a>     loadOnStartup = <span class="dv">1</span>) </span>
<span id="cb274-3"><a href="servlet-details-and-lifecycle-hooks.html#cb274-3"></a>     <span class="co">//guarantees first loading at deployment</span></span>
<span id="cb274-4"><a href="servlet-details-and-lifecycle-hooks.html#cb274-4"></a><span class="kw">public</span> <span class="kw">class</span> WelcomeServlet <span class="kw">extends</span> HttpServlet { <span class="kw">... </span>}</span></code></pre></div>
</div>
<div id="webservlet-initparams" class="section level4 unnumbered">
<h4>@Webservlet – initParams</h4>
<p>Servlet initialization parameters are defined as instances of <code>@WebInitParam</code>.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb275-1"><a href="servlet-details-and-lifecycle-hooks.html#cb275-1"></a><span class="at">@WebServlet</span>(urlPatterns = {<span class="st">&quot;/welcome&quot;</span>},</span>
<span id="cb275-2"><a href="servlet-details-and-lifecycle-hooks.html#cb275-2"></a>    initParams = {</span>
<span id="cb275-3"><a href="servlet-details-and-lifecycle-hooks.html#cb275-3"></a>        <span class="at">@WebInitParam</span>(name = <span class="st">&quot;tempDir&quot;</span>, value = <span class="st">&quot;/tmp&quot;</span>),</span>
<span id="cb275-4"><a href="servlet-details-and-lifecycle-hooks.html#cb275-4"></a>        <span class="at">@WebInitParam</span>(name = <span class="st">&quot;allowedFileTypes&quot;</span>, value = <span class="st">&quot;jpg,png&quot;</span>)</span>
<span id="cb275-5"><a href="servlet-details-and-lifecycle-hooks.html#cb275-5"></a>    })</span>
<span id="cb275-6"><a href="servlet-details-and-lifecycle-hooks.html#cb275-6"></a><span class="kw">public</span> <span class="kw">class</span> WelcomeServlet <span class="kw">extends</span> HttpServlet { </span>
<span id="cb275-7"><a href="servlet-details-and-lifecycle-hooks.html#cb275-7"></a>    <span class="at">@Override</span></span>
<span id="cb275-8"><a href="servlet-details-and-lifecycle-hooks.html#cb275-8"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">init</span>() <span class="kw">throws</span> ServletException {</span>
<span id="cb275-9"><a href="servlet-details-and-lifecycle-hooks.html#cb275-9"></a>        <span class="dt">final</span> <span class="bu">String</span> tempDir = <span class="fu">getInitParameter</span>(<span class="st">&quot;tempDir&quot;</span>);</span>
<span id="cb275-10"><a href="servlet-details-and-lifecycle-hooks.html#cb275-10"></a>        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;tempDir = &quot;</span> + tempDir);</span>
<span id="cb275-11"><a href="servlet-details-and-lifecycle-hooks.html#cb275-11"></a>        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;admin_email = &quot;</span> + <span class="fu">getServletContext</span>().<span class="fu">getInitParameter</span>(<span class="st">&quot;admin_email&quot;</span>));</span>
<span id="cb275-12"><a href="servlet-details-and-lifecycle-hooks.html#cb275-12"></a>    }</span>
<span id="cb275-13"><a href="servlet-details-and-lifecycle-hooks.html#cb275-13"></a>    <span class="co">//more code</span></span>
<span id="cb275-14"><a href="servlet-details-and-lifecycle-hooks.html#cb275-14"></a>}</span></code></pre></div>
<p>will output to the console</p>
<pre class="console_out">
tempDir = /tmp
admin_email = admin\@example.com
</pre>
<p>You can specify the same information in web.xml, which seems a bit more logical:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb276-1"><a href="servlet-details-and-lifecycle-hooks.html#cb276-1"></a>    <span class="kw">&lt;servlet-mapping&gt;</span></span>
<span id="cb276-2"><a href="servlet-details-and-lifecycle-hooks.html#cb276-2"></a>        <span class="kw">&lt;servlet-name&gt;</span>WelcomeServlet<span class="kw">&lt;/servlet-name&gt;</span></span>
<span id="cb276-3"><a href="servlet-details-and-lifecycle-hooks.html#cb276-3"></a>        <span class="kw">&lt;url-pattern&gt;</span>/welcome<span class="kw">&lt;/url-pattern&gt;</span></span>
<span id="cb276-4"><a href="servlet-details-and-lifecycle-hooks.html#cb276-4"></a>    <span class="kw">&lt;/servlet-mapping&gt;</span></span>
<span id="cb276-5"><a href="servlet-details-and-lifecycle-hooks.html#cb276-5"></a>    <span class="kw">&lt;servlet&gt;</span></span>
<span id="cb276-6"><a href="servlet-details-and-lifecycle-hooks.html#cb276-6"></a>        <span class="kw">&lt;servlet-name&gt;</span>WelcomeServlet<span class="kw">&lt;/servlet-name&gt;</span></span>
<span id="cb276-7"><a href="servlet-details-and-lifecycle-hooks.html#cb276-7"></a>        <span class="kw">&lt;servlet-class&gt;</span>nl.bioinf.wis_on_thymeleaf.servlets.WelcomeServlet<span class="kw">&lt;/servlet-class&gt;</span></span>
<span id="cb276-8"><a href="servlet-details-and-lifecycle-hooks.html#cb276-8"></a>        <span class="kw">&lt;init-param&gt;</span></span>
<span id="cb276-9"><a href="servlet-details-and-lifecycle-hooks.html#cb276-9"></a>            <span class="kw">&lt;param-name&gt;</span>tempDir<span class="kw">&lt;/param-name&gt;</span></span>
<span id="cb276-10"><a href="servlet-details-and-lifecycle-hooks.html#cb276-10"></a>            <span class="kw">&lt;param-value&gt;</span>/some/location<span class="kw">&lt;/param-value&gt;</span></span>
<span id="cb276-11"><a href="servlet-details-and-lifecycle-hooks.html#cb276-11"></a>        <span class="kw">&lt;/init-param&gt;</span></span>
<span id="cb276-12"><a href="servlet-details-and-lifecycle-hooks.html#cb276-12"></a>    <span class="kw">&lt;/servlet&gt;</span></span></code></pre></div>
</div>
<div id="webservlet-versus-web.xml-configuration" class="section level4 unnumbered">
<h4>@Webservlet versus web.xml configuration</h4>
<p>When configuration is done in both <code>web.xml</code> ánd in <code>@WebServlet</code> annotations, the <code>web.xml</code> configuration takes precedence.</p>
<p>A use case for this behaviour would be: development mode versus production mode.</p>
<p>With these two “conflicting” configurations, the url will become <code>/extra</code> and tempDir <code>/some/location</code>. The url <code>/welcome</code> will return a 404 not found!</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb277-1"><a href="servlet-details-and-lifecycle-hooks.html#cb277-1"></a><span class="at">@WebServlet</span>(name = <span class="st">&quot;WelcomeServlet&quot;</span>,</span>
<span id="cb277-2"><a href="servlet-details-and-lifecycle-hooks.html#cb277-2"></a>  urlPatterns = {<span class="st">&quot;/welcome&quot;</span>, <span class="st">&quot;/home&quot;</span>},</span>
<span id="cb277-3"><a href="servlet-details-and-lifecycle-hooks.html#cb277-3"></a>    initParams = {<span class="at">@WebInitParam</span>(name = <span class="st">&quot;tempDir&quot;</span>, value = <span class="st">&quot;/tmp&quot;</span>)}</span>
<span id="cb277-4"><a href="servlet-details-and-lifecycle-hooks.html#cb277-4"></a><span class="kw">public</span> <span class="kw">class</span> WelcomeServlet <span class="kw">extends</span> HttpServlet { }</span></code></pre></div>
<div class="sourceCode" id="cb278"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb278-1"><a href="servlet-details-and-lifecycle-hooks.html#cb278-1"></a><span class="kw">&lt;servlet-mapping&gt;</span></span>
<span id="cb278-2"><a href="servlet-details-and-lifecycle-hooks.html#cb278-2"></a>    <span class="kw">&lt;servlet-name&gt;</span>WelcomeServlet<span class="kw">&lt;/servlet-name&gt;</span></span>
<span id="cb278-3"><a href="servlet-details-and-lifecycle-hooks.html#cb278-3"></a>        <span class="kw">&lt;url-pattern&gt;</span>/extra<span class="kw">&lt;/url-pattern&gt;</span></span>
<span id="cb278-4"><a href="servlet-details-and-lifecycle-hooks.html#cb278-4"></a><span class="kw">&lt;/servlet-mapping&gt;</span></span>
<span id="cb278-5"><a href="servlet-details-and-lifecycle-hooks.html#cb278-5"></a><span class="kw">&lt;servlet&gt;</span></span>
<span id="cb278-6"><a href="servlet-details-and-lifecycle-hooks.html#cb278-6"></a>    <span class="kw">&lt;servlet-name&gt;</span>WelcomeServlet<span class="kw">&lt;/servlet-name&gt;</span></span>
<span id="cb278-7"><a href="servlet-details-and-lifecycle-hooks.html#cb278-7"></a>    <span class="kw">&lt;servlet-class&gt;</span>nl.bioinf.wis_on_thymeleaf.servlets.WelcomeServlet<span class="kw">&lt;/servlet-class&gt;</span></span>
<span id="cb278-8"><a href="servlet-details-and-lifecycle-hooks.html#cb278-8"></a>    <span class="kw">&lt;init-param&gt;</span></span>
<span id="cb278-9"><a href="servlet-details-and-lifecycle-hooks.html#cb278-9"></a>        <span class="kw">&lt;param-name&gt;</span>tempDir<span class="kw">&lt;/param-name&gt;</span></span>
<span id="cb278-10"><a href="servlet-details-and-lifecycle-hooks.html#cb278-10"></a>        <span class="kw">&lt;param-value&gt;</span>/some/location<span class="kw">&lt;/param-value&gt;</span></span>
<span id="cb278-11"><a href="servlet-details-and-lifecycle-hooks.html#cb278-11"></a>    <span class="kw">&lt;/init-param&gt;</span></span>
<span id="cb278-12"><a href="servlet-details-and-lifecycle-hooks.html#cb278-12"></a><span class="kw">&lt;/servlet&gt;</span></span></code></pre></div>
</div>
<div id="webservlet-asyncsupported" class="section level4 unnumbered">
<h4>@Webservlet – asyncSupported</h4>
<p>This allows the servlet to store incoming requests for later response.
For practical purposes, with this configuration you can set up a servlet that will (in effect) push data to the client (after the client sends the initial request to the server).
This is very interesting, but outside the scope of this course.</p>
</div>
</div>
<div id="hooks" class="section level2">
<h2><span class="header-section-number">35.2</span> Hooks</h2>
<p>Hooks are pieces of code that let you write code that will run at application life cycle events.
The ones we will look at here are:
- Application startup/shutdown hook
- Servlet initialization/cleanup hooks</p>
<div id="application-startup-shutdown" class="section level3">
<h3><span class="header-section-number">35.2.1</span> Application startup &amp; shutdown</h3>
<p>If you want to do something at
- startup – e.g. create a single template engine to service all servlets
- shutdown – e.g. free DB resources
you annotate a class with <code>@WebListener</code> and have it
implement the <code>ServletContextListener</code> interface.</p>
<p>Here is an implementation. It uses the startup hook to create a single <code>TemplateEngine</code> instance that can be served to all servlets, guaranteeing that this code will have run first and only once.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb279-1"><a href="servlet-details-and-lifecycle-hooks.html#cb279-1"></a><span class="kw">package</span><span class="im"> nl.bioinf.wis_on_thymeleaf.config;</span></span>
<span id="cb279-2"><a href="servlet-details-and-lifecycle-hooks.html#cb279-2"></a></span>
<span id="cb279-3"><a href="servlet-details-and-lifecycle-hooks.html#cb279-3"></a><span class="co">//imports removed</span></span>
<span id="cb279-4"><a href="servlet-details-and-lifecycle-hooks.html#cb279-4"></a></span>
<span id="cb279-5"><a href="servlet-details-and-lifecycle-hooks.html#cb279-5"></a><span class="at">@WebListener</span></span>
<span id="cb279-6"><a href="servlet-details-and-lifecycle-hooks.html#cb279-6"></a><span class="kw">public</span> <span class="kw">class</span> WebConfig <span class="kw">implements</span> ServletContextListener {</span>
<span id="cb279-7"><a href="servlet-details-and-lifecycle-hooks.html#cb279-7"></a>    <span class="kw">private</span> <span class="dt">static</span> TemplateEngine templateEngine;</span>
<span id="cb279-8"><a href="servlet-details-and-lifecycle-hooks.html#cb279-8"></a></span>
<span id="cb279-9"><a href="servlet-details-and-lifecycle-hooks.html#cb279-9"></a>    <span class="at">@Override</span></span>
<span id="cb279-10"><a href="servlet-details-and-lifecycle-hooks.html#cb279-10"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">contextInitialized</span>(ServletContextEvent servletContextEvent) {</span>
<span id="cb279-11"><a href="servlet-details-and-lifecycle-hooks.html#cb279-11"></a>        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;[WebConfig] Initializing template engine&quot;</span>);</span>
<span id="cb279-12"><a href="servlet-details-and-lifecycle-hooks.html#cb279-12"></a>        <span class="fu">createTemplateEngine</span>(servletContextEvent.<span class="fu">getServletContext</span>());</span>
<span id="cb279-13"><a href="servlet-details-and-lifecycle-hooks.html#cb279-13"></a>    }</span>
<span id="cb279-14"><a href="servlet-details-and-lifecycle-hooks.html#cb279-14"></a></span>
<span id="cb279-15"><a href="servlet-details-and-lifecycle-hooks.html#cb279-15"></a>    <span class="at">@Override</span></span>
<span id="cb279-16"><a href="servlet-details-and-lifecycle-hooks.html#cb279-16"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">contextDestroyed</span>(ServletContextEvent servletContextEvent) {</span>
<span id="cb279-17"><a href="servlet-details-and-lifecycle-hooks.html#cb279-17"></a>        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;Shutting down!&quot;</span>);</span>
<span id="cb279-18"><a href="servlet-details-and-lifecycle-hooks.html#cb279-18"></a>    }</span>
<span id="cb279-19"><a href="servlet-details-and-lifecycle-hooks.html#cb279-19"></a></span>
<span id="cb279-20"><a href="servlet-details-and-lifecycle-hooks.html#cb279-20"></a>    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">createTemplateEngine</span>(ServletContext servletContext) {</span>
<span id="cb279-21"><a href="servlet-details-and-lifecycle-hooks.html#cb279-21"></a>        ServletContextTemplateResolver templateResolver =</span>
<span id="cb279-22"><a href="servlet-details-and-lifecycle-hooks.html#cb279-22"></a>                <span class="kw">new</span> <span class="fu">ServletContextTemplateResolver</span>(servletContext);</span>
<span id="cb279-23"><a href="servlet-details-and-lifecycle-hooks.html#cb279-23"></a>        templateResolver.<span class="fu">setTemplateMode</span>(<span class="st">&quot;XHTML&quot;</span>);</span>
<span id="cb279-24"><a href="servlet-details-and-lifecycle-hooks.html#cb279-24"></a>        templateResolver.<span class="fu">setPrefix</span>(<span class="st">&quot;/WEB-INF/templates/&quot;</span>);</span>
<span id="cb279-25"><a href="servlet-details-and-lifecycle-hooks.html#cb279-25"></a>        templateResolver.<span class="fu">setSuffix</span>(<span class="st">&quot;.html&quot;</span>);</span>
<span id="cb279-26"><a href="servlet-details-and-lifecycle-hooks.html#cb279-26"></a>        templateResolver.<span class="fu">setCacheTTLMs</span>(<span class="dv">3600000L</span>);</span>
<span id="cb279-27"><a href="servlet-details-and-lifecycle-hooks.html#cb279-27"></a>        <span class="co">// Cache is set to true by default.</span></span>
<span id="cb279-28"><a href="servlet-details-and-lifecycle-hooks.html#cb279-28"></a>        <span class="co">// Set to false if you want templates to be automatically</span></span>
<span id="cb279-29"><a href="servlet-details-and-lifecycle-hooks.html#cb279-29"></a>        <span class="co">// updated when modified.</span></span>
<span id="cb279-30"><a href="servlet-details-and-lifecycle-hooks.html#cb279-30"></a>        templateResolver.<span class="fu">setCacheable</span>(<span class="kw">true</span>);</span>
<span id="cb279-31"><a href="servlet-details-and-lifecycle-hooks.html#cb279-31"></a></span>
<span id="cb279-32"><a href="servlet-details-and-lifecycle-hooks.html#cb279-32"></a>        TemplateEngine templateEngine = <span class="kw">new</span> <span class="fu">TemplateEngine</span>();</span>
<span id="cb279-33"><a href="servlet-details-and-lifecycle-hooks.html#cb279-33"></a>        templateEngine.<span class="fu">setTemplateResolver</span>(templateResolver);</span>
<span id="cb279-34"><a href="servlet-details-and-lifecycle-hooks.html#cb279-34"></a>        WebConfig.<span class="fu">templateEngine</span> = templateEngine;</span>
<span id="cb279-35"><a href="servlet-details-and-lifecycle-hooks.html#cb279-35"></a>    }</span>
<span id="cb279-36"><a href="servlet-details-and-lifecycle-hooks.html#cb279-36"></a></span>
<span id="cb279-37"><a href="servlet-details-and-lifecycle-hooks.html#cb279-37"></a>    <span class="co">/**</span></span>
<span id="cb279-38"><a href="servlet-details-and-lifecycle-hooks.html#cb279-38"></a>     <span class="co">*</span> serves the template engine that was created at application startup<span class="co">.</span></span>
<span id="cb279-39"><a href="servlet-details-and-lifecycle-hooks.html#cb279-39"></a>     <span class="co">*</span> <span class="co">@</span>return</span>
<span id="cb279-40"><a href="servlet-details-and-lifecycle-hooks.html#cb279-40"></a>     <span class="co">*/</span></span>
<span id="cb279-41"><a href="servlet-details-and-lifecycle-hooks.html#cb279-41"></a>    <span class="kw">public</span> <span class="dt">static</span> TemplateEngine <span class="fu">getTemplateEngine</span>() {</span>
<span id="cb279-42"><a href="servlet-details-and-lifecycle-hooks.html#cb279-42"></a>        <span class="kw">return</span> templateEngine;</span>
<span id="cb279-43"><a href="servlet-details-and-lifecycle-hooks.html#cb279-43"></a>    }</span>
<span id="cb279-44"><a href="servlet-details-and-lifecycle-hooks.html#cb279-44"></a></span>
<span id="cb279-45"><a href="servlet-details-and-lifecycle-hooks.html#cb279-45"></a>    <span class="co">//method omitted</span></span>
<span id="cb279-46"><a href="servlet-details-and-lifecycle-hooks.html#cb279-46"></a>}</span></code></pre></div>
</div>
<div id="servlet-initialization-and-destroy" class="section level3">
<h3><span class="header-section-number">35.2.2</span> Servlet initialization and destroy</h3>
<p>When a first request is received for a servlet after application startup, the servlet container (Tomcat) will call
the <code>init()</code> methods, if present. Method <code>init()</code> is guaranteed to be called before the first call to <code>service()</code>.</p>
<div class="figure">
<img src="05_web/figures/servlet_lifecycle_s.png" alt="" />
<p class="caption">Servlet lifecycle</p>
</div>
<ul>
<li><code>init(ServletConfig config)</code> is called by the servlet container to indicate to a servlet that the servlet is being placed into service.</li>
<li><code>init()</code> is a convenience method which can be overridden so that there’s no need to call super.init(config).</li>
<li><code>destroy()</code> is called by the servlet container to indicate to a servlet that the servlet is being taken out of service</li>
</ul>
<p>There are two overloaded variants defined in class <code>GenericServlet</code> that you can hook into to handle your startup actions:</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb280-1"><a href="servlet-details-and-lifecycle-hooks.html#cb280-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">init</span>(ServletConfig config) <span class="kw">throws</span> ServletException {</span>
<span id="cb280-2"><a href="servlet-details-and-lifecycle-hooks.html#cb280-2"></a>        <span class="kw">this</span>.<span class="fu">config</span> = config;</span>
<span id="cb280-3"><a href="servlet-details-and-lifecycle-hooks.html#cb280-3"></a>        <span class="kw">this</span>.<span class="fu">init</span>();</span>
<span id="cb280-4"><a href="servlet-details-and-lifecycle-hooks.html#cb280-4"></a>    }</span>
<span id="cb280-5"><a href="servlet-details-and-lifecycle-hooks.html#cb280-5"></a></span>
<span id="cb280-6"><a href="servlet-details-and-lifecycle-hooks.html#cb280-6"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">init</span>() <span class="kw">throws</span> ServletException {</span>
<span id="cb280-7"><a href="servlet-details-and-lifecycle-hooks.html#cb280-7"></a>    }</span></code></pre></div>
<p>As you can see the first one calls the second one. Depending on your need for the <code>ServletConfig</code> object -which gives access to application-scoped variables-, you can choose either one of them to override. Here are all three (in class <code>PhraseServlet</code>, for demo purposes):</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb281-1"><a href="servlet-details-and-lifecycle-hooks.html#cb281-1"></a>    <span class="at">@Override</span></span>
<span id="cb281-2"><a href="servlet-details-and-lifecycle-hooks.html#cb281-2"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">init</span>() <span class="kw">throws</span> ServletException {</span>
<span id="cb281-3"><a href="servlet-details-and-lifecycle-hooks.html#cb281-3"></a>        <span class="co">//no super.init() required</span></span>
<span id="cb281-4"><a href="servlet-details-and-lifecycle-hooks.html#cb281-4"></a>        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;[PhraseServlet] Running no-arg init()&quot;</span>);</span>
<span id="cb281-5"><a href="servlet-details-and-lifecycle-hooks.html#cb281-5"></a>        <span class="kw">this</span>.<span class="fu">templateEngine</span> = WebConfig.<span class="fu">getTemplateEngine</span>();</span>
<span id="cb281-6"><a href="servlet-details-and-lifecycle-hooks.html#cb281-6"></a>    }</span>
<span id="cb281-7"><a href="servlet-details-and-lifecycle-hooks.html#cb281-7"></a></span>
<span id="cb281-8"><a href="servlet-details-and-lifecycle-hooks.html#cb281-8"></a>    <span class="at">@Override</span></span>
<span id="cb281-9"><a href="servlet-details-and-lifecycle-hooks.html#cb281-9"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">init</span>(ServletConfig config) <span class="kw">throws</span> ServletException {</span>
<span id="cb281-10"><a href="servlet-details-and-lifecycle-hooks.html#cb281-10"></a>        <span class="kw">super</span>.<span class="fu">init</span>(config); <span class="co">//required in this implementation</span></span>
<span id="cb281-11"><a href="servlet-details-and-lifecycle-hooks.html#cb281-11"></a>        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;[PhraseServlet] Running init(ServletConfig config)&quot;</span>);</span>
<span id="cb281-12"><a href="servlet-details-and-lifecycle-hooks.html#cb281-12"></a>        config.<span class="fu">getServletContext</span>().<span class="fu">getInitParameter</span>(<span class="st">&quot;admin_email&quot;</span>);</span>
<span id="cb281-13"><a href="servlet-details-and-lifecycle-hooks.html#cb281-13"></a>    }</span>
<span id="cb281-14"><a href="servlet-details-and-lifecycle-hooks.html#cb281-14"></a></span>
<span id="cb281-15"><a href="servlet-details-and-lifecycle-hooks.html#cb281-15"></a>    <span class="at">@Override</span></span>
<span id="cb281-16"><a href="servlet-details-and-lifecycle-hooks.html#cb281-16"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">destroy</span>() {</span>
<span id="cb281-17"><a href="servlet-details-and-lifecycle-hooks.html#cb281-17"></a>        <span class="kw">super</span>.<span class="fu">destroy</span>();</span>
<span id="cb281-18"><a href="servlet-details-and-lifecycle-hooks.html#cb281-18"></a>        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;[PhraseServlet] Shutting down servlet service&quot;</span>);</span>
<span id="cb281-19"><a href="servlet-details-and-lifecycle-hooks.html#cb281-19"></a>    }</span></code></pre></div>
<p>In general, you use these init() methods to initialize “expensive” resources that you only want to create once. Good examples are importing config files, creating database connections (although there may be better solutions for that) or getting template engines, as in this example. Likewise, the <code>destroy</code> method can be used to elegantly shut down resources.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sessions-scopes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="database-interaction.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["The Java Track.pdf", "The Java Track.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
