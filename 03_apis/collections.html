
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Collections Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc/page-toc.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="class_object_methods.html" />
    
    
    <link rel="prev" href="interfaces.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../shortcuts.html">
            
                <a href="../shortcuts.html">
            
                    
                    IntelliJ keyboard shortcuts
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 1: Getting started</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../01_getting_started/intellij.html">
            
                <a href="../01_getting_started/intellij.html">
            
                    
                    A first IntelliJ project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../01_getting_started/essentials.html">
            
                <a href="../01_getting_started/essentials.html">
            
                    
                    The essentials
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../01_getting_started/first_look_at_objects.html">
            
                <a href="../01_getting_started/first_look_at_objects.html">
            
                    
                    Demo case: A first look at objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../02_syntax/basic_program_design.html">
            
                <a href="../02_syntax/basic_program_design.html">
            
                    
                    Basic program design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../02_syntax/naming_commenting.html">
            
                <a href="../02_syntax/naming_commenting.html">
            
                    
                    Naming and commenting
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 2: Syntax</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../02_syntax/data_types.html">
            
                <a href="../02_syntax/data_types.html">
            
                    
                    Data types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../02_syntax/arrays.html">
            
                <a href="../02_syntax/arrays.html">
            
                    
                    Arrays
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../02_syntax/operators.html">
            
                <a href="../02_syntax/operators.html">
            
                    
                    Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../02_syntax/flow_control.html">
            
                <a href="../02_syntax/flow_control.html">
            
                    
                    Flow control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../02_syntax/methods.html">
            
                <a href="../02_syntax/methods.html">
            
                    
                    Methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../02_syntax/packages_imports.html">
            
                <a href="../02_syntax/packages_imports.html">
            
                    
                    Packages & Imports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../02_syntax/demo_case_naming.html">
            
                <a href="../02_syntax/demo_case_naming.html">
            
                    
                    Demo case: The power of good names
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 3: Core APIs</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="interfaces.html">
            
                <a href="interfaces.html">
            
                    
                    Interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.2" data-path="collections.html">
            
                <a href="collections.html">
            
                    
                    Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="class_object_methods.html">
            
                <a href="class_object_methods.html">
            
                    
                    Methods of class Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="sorting.html">
            
                <a href="sorting.html">
            
                    
                    Sorting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="exceptions.html">
            
                <a href="exceptions.html">
            
                    
                    Exceptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="io.html">
            
                <a href="io.html">
            
                    
                    File IO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="regex.html">
            
                <a href="regex.html">
            
                    
                    Regular Expressions
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 4: Object-oriented programming</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../04_oop/class_design.html">
            
                <a href="../04_oop/class_design.html">
            
                    
                    Encapsulation through access modifiers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../04_oop/access_modifiers.html">
            
                <a href="../04_oop/access_modifiers.html">
            
                    
                    Access modifiers & other keywords
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../04_oop/inheritance.html">
            
                <a href="../04_oop/inheritance.html">
            
                    
                    Inheritance and UML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../04_oop/enums.html">
            
                <a href="../04_oop/enums.html">
            
                    
                    Enums
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../04_oop/encapsulation.html">
            
                <a href="../04_oop/encapsulation.html">
            
                    
                    Encapsulation revisited
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../04_oop/inner_classes.html">
            
                <a href="../04_oop/inner_classes.html">
            
                    
                    Inner classes
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Summaries Part 1-4</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../design_rules.html">
            
                <a href="../design_rules.html">
            
                    
                    Design Rules summary
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 5: Web-based Java & Thymeleaf</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../05_web/refresher.html">
            
                <a href="../05_web/refresher.html">
            
                    
                    Refresher
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../05_web/toolbox.html">
            
                <a href="../05_web/toolbox.html">
            
                    
                    Toolbox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../05_web/first_project.html">
            
                <a href="../05_web/first_project.html">
            
                    
                    A first project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../05_web/mvc.html">
            
                <a href="../05_web/mvc.html">
            
                    
                    Implementing MVC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../05_web/thymeleaf_expressions.html">
            
                <a href="../05_web/thymeleaf_expressions.html">
            
                    
                    Thymeleaf expression types & objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="../05_web/thymeleaf_flow_control.html">
            
                <a href="../05_web/thymeleaf_flow_control.html">
            
                    
                    Thymeleaf flow control & fragments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="../05_web/sessions.html">
            
                <a href="../05_web/sessions.html">
            
                    
                    Sessions & Scopes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.8" data-path="../05_web/servlet_details.html">
            
                <a href="../05_web/servlet_details.html">
            
                    
                    Servlet details & Lifecycle hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.9" data-path="../05_web/databases.html">
            
                <a href="../05_web/databases.html">
            
                    
                    Database interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.10" data-path="../05_web/ajax.html">
            
                <a href="../05_web/ajax.html">
            
                    
                    Ajax communication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.11" data-path="../05_web/filters_upload.html">
            
                <a href="../05_web/filters_upload.html">
            
                    
                    Web filters and file uploads
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Exercises Web-based Java</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../05_web/webbased_exercises1.html">
            
                <a href="../05_web/webbased_exercises1.html">
            
                    
                    Exercises Web-based Information Systems 1
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Collections</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="the-java-collections-api">The Java Collections API</h1>
<p>Storing variables collectively is nice; doing so in Arrays is usually not so 
nice - simply because they are static and cannot be extended or shortened or inserted within.
The Java Collections API offers a wealth of other ways to store data, in the form of Lists, Queues, 
Sets, Maps, in variations and hybrids of these.</p>
<p>Finally (not a collection but essential to show you), we will see a nice way to deal with changeable String data: class StringBuilder.</p>
<h4 id="the-old-way">The old way</h4>
<p>In a previous lecture, you have seen the most basic collection type: array.
Arrays store a fixed number of variables. But suppose you want to do something like this:</p>
<pre><code class="lang-java">Sequence[] readSequences(String fileName) {
    <span class="hljs-comment">//open file</span>
    <span class="hljs-comment">//read sequences</span>
    <span class="hljs-comment">//return the sequences as an array of Sequence objects</span>
}
</code></pre>
<p>There is a problem here: You usually don&#x2019;t know how many sequences there are in a file!
So, the simple solution is to create a very large array that is as large as the biggest sequence file you know:</p>
<pre><code class="lang-java">String[] readSequences(String fileName) {
    String[] sequences = <span class="hljs-keyword">new</span> String[<span class="hljs-number">10_000_000</span>];
    <span class="hljs-comment">//open file</span>
    <span class="hljs-comment">//read sequences</span>
    <span class="hljs-comment">//return the sequences as an arrays of Strings</span>
}
</code></pre>
<p>When you read only 1 or 2 sequences you will have wasted all this memory space! Moreover, all 
these null values are <code>NullPointerExceptions</code> in the waiting.</p>
<p><img src="figures/unused_array_space.png" alt="unused"></p>
<p>When somebody invents a new sequencing machine that generates 100 million sequences 
in one run, you have a bigger problem! You will get <code>ArrayIndexOutOfRangeExceptions</code> 
or other errors. Actually, these machines already exist!</p>
<p>There is a nice class that will really make your day: <code>java.util.ArrayList</code>.</p>
<h2 id="lists-arraylist-and-linkedlist">Lists: ArrayList and LinkedList</h2>
<p>ArrayList is the workhorse for most collections where you want to store a number of variables 
in an ordered way. It is, as the name suggests, an Array-like List. The big -no huge- difference 
is that is will grow and shrink according to your needs. So, the previous method could be 
refactored as follows:</p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> java.util.ArrayList;

<span class="hljs-function">ArrayList&lt;String&gt; <span class="hljs-title">readSequences</span><span class="hljs-params">(String fileName)</span> </span>{
    <span class="hljs-comment">//no initial size needed (although you can give one, </span>
    <span class="hljs-comment">//if you are really into efficiency)</span>
    ArrayList&lt;String&gt; sequences = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();

    <span class="hljs-comment">//open file</span>
    <span class="hljs-comment">//read sequences</span>
    <span class="hljs-comment">//return the sequences as an arrays of Strings</span>
}
</code></pre>
<p>At the top is a line <code>import java.util.ArrayList;</code> which is an <strong><em>import declaration</em></strong>, You need to import classes that are not part of the Java core API (i.e. reside in package <code>java.lang</code>). Since most of the collection classes are in package <code>java.util</code> they need to be imported. More on imports and namespaces later.</p>
<p>There is another element here that you haven&apos;t seen before: it is the <strong><em>generic type declaration</em></strong>:</p>
<pre style="color:darkblue;font-weight:bold;font-family:courier;font-size:1.2em;">
ArrayList<span style="color:darkred;">&lt;String&gt; </span>sequences = new ArrayList<span style="color:darkred;">&lt;&gt;</span>();
</pre>

<h2 id="generics">Generics</h2>
<p>The <code>&lt;String&gt;</code> and <code>&lt;&gt;</code> have everything to do with Java being strongly typed. Since everything is typed, a collection that is being instantiated must also know what type it will contain. You specify the type of its elements using the <strong><em>diamond operators</em></strong>. This mechanism is called <strong><em>generics</em></strong> in Java, because it makes collection classes generic usable.
Before Java 8, you had to do it twice (<code>ArrayList&lt;String&gt; sequences = new ArrayList&lt;String&gt;();</code>) but in newer versions of Java you can leave the second set of diamond operators empty. </p>
<p>Leaving the type declaration out does not yield a compiler error, but makes your life so much harder:</p>
<pre><code class="lang-java"><span class="hljs-comment">//typed collection</span>
ArrayList&lt;String&gt; words = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
words.add(<span class="hljs-string">&quot;Game&quot;</span>);
words.add(<span class="hljs-string">&quot;of&quot;</span>);
words.add(<span class="hljs-string">&quot;Thrones&quot;</span>);

<span class="hljs-comment">//type is inferred from collection</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; words.size(); i++){
    String word = words.get(i);
    System.out.println(<span class="hljs-string">&quot;word = &quot;</span> + i + <span class="hljs-string">&quot;: &quot;</span> + word);
}

<span class="hljs-comment">//&quot;raw&quot; type collection: everything is Object</span>
ArrayList wordsNonGeneric = <span class="hljs-keyword">new</span> ArrayList();
wordsNonGeneric.add(<span class="hljs-string">&quot;House&quot;</span>);
wordsNonGeneric.add(<span class="hljs-string">&quot;of&quot;</span>);
wordsNonGeneric.add(<span class="hljs-string">&quot;Cards&quot;</span>);
<span class="hljs-comment">//danger!</span>
wordsNonGeneric.add(<span class="hljs-keyword">new</span> Duck());

<span class="hljs-comment">//iterate over Object type</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; wordsNonGeneric.size(); i++){
    <span class="hljs-comment">//need to cast to actual type</span>
    <span class="hljs-comment">//this will give a ClassCastException exception on the Duck, which is of course not a String!</span>
    String word = (String)wordsNonGeneric.get(i);
    System.out.println(<span class="hljs-string">&quot;word = &quot;</span> + i + <span class="hljs-string">&quot;: &quot;</span> + word);
}
</code></pre>
<p>So, without the type declaration, you need to cast to the actual type. That makes your code less obvious. But more problematic is that <em>any</em> object can be inserted into the collection, without warning. So, when you attempt to cast a Duck to a String, you get a <code>ClassCastException</code>. You can circumvent this problem by checking the type (using the <code>instanceof</code> operator):</p>
<pre><code class="lang-java"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; wordsNonGeneric.size(); i++){
    Object element = wordsNonGeneric.get(i);
    <span class="hljs-keyword">if</span> (element <span class="hljs-keyword">instanceof</span> String) {
        String word = (String) element;
        System.out.println(<span class="hljs-string">&quot;word = &quot;</span> + i + <span class="hljs-string">&quot;: &quot;</span> + word);
    } <span class="hljs-keyword">else</span> {
        System.out.println(<span class="hljs-string">&quot;skipped non-String element of type &quot;</span> 
            + element.getClass().getSimpleName());
    }
}
</code></pre>
<p>but why would you make your life harder than it already is?</p>
<h2 id="arraylist-operations">ArrayList operations</h2>
<p>Lists in general, and ArrayList is no exception, are used to store in an ordered way. Operations on ArrayLists are of course related to the property. Here are some example usages.</p>
<pre><code class="lang-java"><span class="hljs-comment">//create</span>
ArrayList&lt;String&gt; words = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
<span class="hljs-comment">//add elements</span>
words.add(<span class="hljs-string">&quot;Game&quot;</span>);
words.add(<span class="hljs-string">&quot;of&quot;</span>);
words.add(<span class="hljs-string">&quot;Thrones&quot;</span>);
<span class="hljs-comment">//won&apos;t compile!</span>
<span class="hljs-comment">//words.add(new Duck());</span>

<span class="hljs-comment">//foreach iteration</span>
<span class="hljs-keyword">for</span> (String word : words) {
    System.out.println(<span class="hljs-string">&quot;word = &quot;</span> + word);
}

<span class="hljs-comment">//iteration with counter; note the use of &quot;.size()&quot;</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; words.size(); i++) {
    <span class="hljs-comment">//fetch by index - zero based!</span>
    String word = words.get(i);
    System.out.println(<span class="hljs-string">&quot;word = &quot;</span> + i + <span class="hljs-string">&quot;: &quot;</span> + word);
}

words.contains(<span class="hljs-string">&quot;Thrones&quot;</span>); <span class="hljs-comment">//true</span>
words.size(); <span class="hljs-comment">//3</span>
words.isEmpty(); <span class="hljs-comment">//false</span>
<span class="hljs-comment">//same as</span>
<span class="hljs-keyword">boolean</span> empty = words.size() == <span class="hljs-number">0</span>;

words.remove(<span class="hljs-string">&quot;of&quot;</span>); <span class="hljs-comment">//deletes word</span>
words.remove(<span class="hljs-number">1</span>); <span class="hljs-comment">//second element</span>
words.clear(); <span class="hljs-comment">//empty list</span>
</code></pre>
<p>One operation needs special attention: converting an array to a List. This is done with <code>Arrays.asList()</code> but be aware that this generates an <strong><em>immutable view</em></strong> of your array:</p>
<pre><code class="lang-java">String[] wordsArr = {<span class="hljs-string">&quot;Lord&quot;</span>, <span class="hljs-string">&quot;of&quot;</span>, <span class="hljs-string">&quot;the&quot;</span>, <span class="hljs-string">&quot;Rings&quot;</span>};
<span class="hljs-comment">//create immutable List from Array</span>
List&lt;String&gt; immutableStrings = Arrays.asList(wordsArr);
<span class="hljs-comment">//immutable: UnsupportedOperationException!</span>
immutableStrings.add(<span class="hljs-string">&quot;!&quot;</span>);
<span class="hljs-comment">//make mutable copy</span>
List&lt;String&gt; mutableString = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
<span class="hljs-comment">//no problem</span>
mutableString.add(<span class="hljs-string">&quot;!&quot;</span>);
</code></pre>
<h2 id="code-against-interfaces-not-implementations">Code against interfaces, not implementations</h2>
<p>Be aware that the <code>contains()</code> method performs at <strong>O(n)</strong> (see your Algorithms &amp; Data structures course!), so if you plan to check for
element presence often, List types are not a good choice. Also, if you are going to do a lot of insert and/or delete operations, LinkedList is a much better choice. Fortunately, you only need to change one line of code in your application to achieve this, and if you design your code well, you only need to change a single word:</p>
<pre><code class="lang-java"><span class="hljs-comment">//This is OK but not efficient with insert/delete </span>
<span class="hljs-comment">//Also, the type declaration is an implementation (ArrayList) and not an </span>
<span class="hljs-comment">//interface (List)</span>
ArrayList&lt;String&gt; words = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();

<span class="hljs-comment">//Better, declare the interface (abstraction) type and </span>
<span class="hljs-comment">//use this type in the rest of your code</span>
List&lt;String&gt; words = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();

<span class="hljs-comment">//Best: LinkedList is very good at insertions and deletions</span>
List&lt;String&gt; words = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();
</code></pre>
<p>This is an example of the rule <strong><em>code against interfaces (abstractions), not implementations</em></strong>.</p>
<p><em>When you code against interfaces, i.e. declare variables of an interface type, it is really easy to change the implementation class that you use.</em></p>
<p>In the example above, 
it took only one changes word to use a LinkedList instead of an ArrayList.</p>
<h2 id="the-collection-interfaces-map-list-set">The collection interfaces: Map, List, Set</h2>
<p>There four base collection types, each with several dedicated implementations.
You have already seen the <code>List</code> type, with two implementations: <code>ArrayList</code> and <code>LinkedList</code>. </p>
<p>Here is a -very incomplete- listing of some collection type implementations, 
followed by a demonstration of only the HashMap and HashSet types - you have already seen the <code>List</code> type. </p>
<ul>
<li><code>List</code> interface  <ul>
<li><code>ArrayList</code> simplest and general purpose list type</li>
<li><code>LinkedList</code> coupled elements</li>
<li><code>Stack</code> last in first out (LIFO)</li>
</ul>
</li>
<li><code>Map</code> interface  <ul>
<li><code>HashMap</code> the Python dict equivalent</li>
<li><code>TreeMap</code> a sorted hashmap</li>
</ul>
</li>
<li><code>Set</code> interface  <ul>
<li><code>HashSet</code> the basic Set implementation</li>
<li><code>TreeSet</code> a sorted Set</li>
</ul>
</li>
<li><code>Queue</code> interface<ul>
<li><code>PriorityQueue</code> priority queue when first in first out (FIFO) is not enough</li>
<li><code>ArrayDeque</code> double-ended queue</li>
</ul>
</li>
</ul>
<h2 id="map-hashmap">Map: HashMap</h2>
<p>HashMap is the main Map implementation in Java. It is a dictionary type mapping keys to values. Like all collection types, it uses generics to declare the type of the keys and values. Here is an example of an ID to User mapping:</p>
<pre style="color:darkblue;font-weight:bold;font-family:courier;font-size:1.2em;">
Map<span style="color:darkred;">&lt;Integer, User&gt; </span>users = new HashMap<span style="color:darkred;">&lt;&gt;</span>();
</pre>

<p>Note the use of <code>Integer</code> instead of <code>int</code>. </p>
<h3 id="primitives-as-objects">Primitives as objects</h3>
<p>Each primitive type in the Java language has an object counterpart. The reason for this is that collection types, amongst others, can not hold primitives but only objects.</p>
<p>These are the primitives and their <strong><em>wrapper classes</em></strong>:</p>
<ul>
<li>boolean, byte, short, char, int, long, float, double.</li>
<li>Boolean, Byte, Short, Character, Integer, Long, Float, Double.</li>
</ul>
<p>So only Character and Integer have a different name (longer) the others are simply the primitive name capitalized.</p>
<h4 id="autoboxing">Autoboxing</h4>
<p>The wrapper classes can be converted to and from pretty easy:</p>
<pre><code class="lang-java"><span class="hljs-keyword">int</span> count = <span class="hljs-number">33</span>;

<span class="hljs-comment">//deprecated though legal</span>
Integer counter1 = <span class="hljs-keyword">new</span> Integer(count);
<span class="hljs-comment">//Explicit; uses caching</span>
Integer counter2 = Integer.valueOf(count);
<span class="hljs-comment">//explicit unwrapping</span>
counter2.intValue();

<span class="hljs-comment">//autoboxing!</span>
Integer counter3 = count;
<span class="hljs-comment">//auto-unboxing</span>
<span class="hljs-keyword">int</span> counter4 = counter3;
</code></pre>
<p>The last two examples show the mechanism of <strong><em>autoboxing</em></strong> primitives. 
This means the compiler deals with wrapping and unwrapping for you. This is how you typically use primitives in collections. See use cases below.</p>
<h3 id="map-operations">Map operations</h3>
<p>See listing below.</p>
<pre><code class="lang-java">Map&lt;Integer, User&gt; users = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();
User u1 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">15</span>, <span class="hljs-string">&quot;Henk&quot;</span>);
<span class="hljs-comment">//add to Map; note autoboxing of int value (id)</span>
users.put(u1.id, u1);
User u2 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">21</span>, <span class="hljs-string">&quot;Dirk&quot;</span>);
users.put(u2.id, u2);
User u3 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">9</span>, <span class="hljs-string">&quot;Mike&quot;</span>);
users.put(u3.id, u3);

<span class="hljs-comment">//read size</span>
System.out.println(users.size());
<span class="hljs-comment">//check for presence of key</span>
System.out.println(<span class="hljs-string">&quot;users.containsKey(15) = &quot;</span> + users.containsKey(<span class="hljs-number">15</span>));
<span class="hljs-comment">//check for presence of value</span>
System.out.println(<span class="hljs-string">&quot;users.containsValue() = &quot;</span> + users.containsValue(u1));
<span class="hljs-comment">//is not in map</span>
System.out.println(<span class="hljs-string">&quot;users.containsValue() = &quot;</span> + users.containsValue(<span class="hljs-keyword">new</span> User(<span class="hljs-number">6</span>, <span class="hljs-string">&quot;Nick&quot;</span>)));

<span class="hljs-comment">//iterate values</span>
<span class="hljs-keyword">for</span> (User user : users.values()) { }

<span class="hljs-comment">//iterate keys</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> id : users.keySet()) { }

<span class="hljs-comment">//iterate entries</span>
<span class="hljs-keyword">for</span> (Map.Entry&lt;Integer, User&gt; entry : users.entrySet()) {
    System.out.println(entry.getKey() + <span class="hljs-string">&quot;: &quot;</span> + entry.getValue());
}

<span class="hljs-comment">//empties map</span>
users.clear();
</code></pre>
<h2 id="set-hashset">Set: HashSet</h2>
<p>Typical set operations are <strong><em>intersection</em></strong>, <strong><em>union</em></strong> and <strong><em>relative complement</em></strong>. </p>
<p><img src="figures/Set_Theory_Operations.png" alt="Set_Theory_Operations.png"></p>
<p>This is how its done in Java.</p>
<p>First a small utility method, which generically creates a Set of any type from a varargs input:</p>
<pre><code class="lang-java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-function">Set&lt;T&gt; <span class="hljs-title">setOf</span><span class="hljs-params">(T... values)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> HashSet&lt;T&gt;(Arrays.asList(values));
}
</code></pre>
<p>Here are three of the fundamental set operations.</p>
<pre><code class="lang-java">Set&lt;Integer&gt; setA = setOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);
Set&lt;Integer&gt; setB = setOf(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>);

<span class="hljs-comment">//Intersection</span>
Set&lt;Integer&gt; intersectSet = <span class="hljs-keyword">new</span> HashSet&lt;&gt;(setA);
intersectSet.retainAll(setB);
System.out.println(<span class="hljs-string">&quot;intersectSet = &quot;</span> + intersectSet);

<span class="hljs-comment">//Union</span>
Set&lt;Integer&gt; unionSet = <span class="hljs-keyword">new</span> HashSet&lt;&gt;(setA);
unionSet.addAll(setB);
System.out.println(<span class="hljs-string">&quot;unionSet = &quot;</span> + unionSet);

<span class="hljs-comment">//Relative complement</span>
Set&lt;Integer&gt; differenceSet = <span class="hljs-keyword">new</span> HashSet&lt;&gt;(setA);
differenceSet.removeAll(setB);
System.out.println(<span class="hljs-string">&quot;differenceSet = &quot;</span> + differenceSet);
</code></pre>
<p>with output</p>
<pre class="console_out">
intersectSet = [2, 4]
unionSet = [1, 2, 3, 4, 6, 8, 9]
differenceSet = [1, 3]
</pre>

<h2 id="collections-utility-methods">Collections utility methods</h2>
<p>The Collections class has many useful utility functions. Their name are pretty self-explanatory:</p>
<ul>
<li>singletonList()</li>
<li>unmodifiableList()</li>
<li>min(), max()</li>
<li>shuffle()</li>
<li>frequency()</li>
<li>sort() - see next post</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="interfaces.html" class="navigation navigation-prev " aria-label="Previous page: Interfaces">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="class_object_methods.html" class="navigation navigation-next " aria-label="Next page: Methods of class Object">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Collections","level":"4.2","depth":1,"next":{"title":"Methods of class Object","level":"4.3","depth":1,"path":"03_apis/class_object_methods.md","ref":"03_apis/class_object_methods.md","articles":[]},"previous":{"title":"Interfaces","level":"4.1","depth":1,"path":"03_apis/interfaces.md","ref":"03_apis/interfaces.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["page-toc"],"pluginsConfig":{"page-toc":{"position":"before-first","selector":".markdown-section h1, .markdown-section h2, .markdown-section h3","showByDefault":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"03_apis/collections.md","mtime":"2019-05-07T11:40:52.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-09-18T11:15:14.842Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/anchor-3.1.1.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/page-toc.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

