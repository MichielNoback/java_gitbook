
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Sorting Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc/page-toc.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="exceptions.html" />
    
    
    <link rel="prev" href="class_object_methods.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../shortcuts.html">
            
                <a href="../shortcuts.html">
            
                    
                    IntelliJ keyboard shortcuts
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 1: Getting started</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../01_getting_started/intellij.html">
            
                <a href="../01_getting_started/intellij.html">
            
                    
                    A first IntelliJ project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../01_getting_started/essentials.html">
            
                <a href="../01_getting_started/essentials.html">
            
                    
                    The essentials
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../01_getting_started/first_look_at_objects.html">
            
                <a href="../01_getting_started/first_look_at_objects.html">
            
                    
                    Demo case: A first look at objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../02_syntax/basic_program_design.html">
            
                <a href="../02_syntax/basic_program_design.html">
            
                    
                    Basic program design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../02_syntax/naming_commenting.html">
            
                <a href="../02_syntax/naming_commenting.html">
            
                    
                    Naming and commenting
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 2: Syntax</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../02_syntax/data_types.html">
            
                <a href="../02_syntax/data_types.html">
            
                    
                    Data types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../02_syntax/arrays.html">
            
                <a href="../02_syntax/arrays.html">
            
                    
                    Arrays
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../02_syntax/operators.html">
            
                <a href="../02_syntax/operators.html">
            
                    
                    Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../02_syntax/flow_control.html">
            
                <a href="../02_syntax/flow_control.html">
            
                    
                    Flow control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../02_syntax/methods.html">
            
                <a href="../02_syntax/methods.html">
            
                    
                    Methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../02_syntax/packages_imports.html">
            
                <a href="../02_syntax/packages_imports.html">
            
                    
                    Packages & Imports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../02_syntax/demo_case_naming.html">
            
                <a href="../02_syntax/demo_case_naming.html">
            
                    
                    Demo case: The power of good names
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 3: Core APIs</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="interfaces.html">
            
                <a href="interfaces.html">
            
                    
                    Interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="collections.html">
            
                <a href="collections.html">
            
                    
                    Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="class_object_methods.html">
            
                <a href="class_object_methods.html">
            
                    
                    Methods of class Object
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.4" data-path="sorting.html">
            
                <a href="sorting.html">
            
                    
                    Sorting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="exceptions.html">
            
                <a href="exceptions.html">
            
                    
                    Exceptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="io.html">
            
                <a href="io.html">
            
                    
                    File IO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="regex.html">
            
                <a href="regex.html">
            
                    
                    Regular Expressions
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 4: Object-oriented programming</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../04_oop/class_design.html">
            
                <a href="../04_oop/class_design.html">
            
                    
                    Encapsulation through access modifiers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../04_oop/access_modifiers.html">
            
                <a href="../04_oop/access_modifiers.html">
            
                    
                    Access modifiers & other keywords
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../04_oop/inheritance.html">
            
                <a href="../04_oop/inheritance.html">
            
                    
                    Inheritance and UML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../04_oop/enums.html">
            
                <a href="../04_oop/enums.html">
            
                    
                    Enums
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../04_oop/encapsulation.html">
            
                <a href="../04_oop/encapsulation.html">
            
                    
                    Encapsulation revisited
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../04_oop/inner_classes.html">
            
                <a href="../04_oop/inner_classes.html">
            
                    
                    Inner classes
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Summaries Part 1-4</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../design_rules.html">
            
                <a href="../design_rules.html">
            
                    
                    Design Rules summary
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 5: Web-based Java & Thymeleaf</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../05_web/refresher.html">
            
                <a href="../05_web/refresher.html">
            
                    
                    Refresher
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../05_web/toolbox.html">
            
                <a href="../05_web/toolbox.html">
            
                    
                    Toolbox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../05_web/first_project.html">
            
                <a href="../05_web/first_project.html">
            
                    
                    A first project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../05_web/mvc.html">
            
                <a href="../05_web/mvc.html">
            
                    
                    Implementing MVC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../05_web/thymeleaf_expressions.html">
            
                <a href="../05_web/thymeleaf_expressions.html">
            
                    
                    Thymeleaf expression types & objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="../05_web/thymeleaf_flow_control.html">
            
                <a href="../05_web/thymeleaf_flow_control.html">
            
                    
                    Thymeleaf flow control & fragments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="../05_web/sessions.html">
            
                <a href="../05_web/sessions.html">
            
                    
                    Sessions & Scopes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.8" data-path="../05_web/servlet_details.html">
            
                <a href="../05_web/servlet_details.html">
            
                    
                    Servlet details & Lifecycle hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.9" data-path="../05_web/databases.html">
            
                <a href="../05_web/databases.html">
            
                    
                    Database interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.10" data-path="../05_web/ajax.html">
            
                <a href="../05_web/ajax.html">
            
                    
                    Ajax communication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.11" data-path="../05_web/filters_upload.html">
            
                <a href="../05_web/filters_upload.html">
            
                    
                    Web filters and file uploads
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.12" data-path="../05_web/webbased_exercises1.html">
            
                <a href="../05_web/webbased_exercises1.html">
            
                    
                    Exercises Web-based Information Systems 1
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 6: Developer tools</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../06_tools/JUnit_basics.html">
            
                <a href="../06_tools/JUnit_basics.html">
            
                    
                    JUnit 5 Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../06_tools/JUnit_advanced.html">
            
                <a href="../06_tools/JUnit_advanced.html">
            
                    
                    JUnit 5 Advanced
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Sorting</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="sorting">Sorting</h1>
<p>Sorting is one of the fundamental operations on data. You want the best student, the closest cafe, all players with a top 10% ranking...this all involves sorting.</p>
<p>Sorting in &quot;classic&quot; Java (not using the Streams API) is done using the the <code>Collections.sort()</code> methods and, since Java 8, some methods in class List. These methods require either (a) that the objects you want to sort implement the <code>Comparable</code> interface or (b) that you provide a sorter object implementing the <code>Comparator</code> interface.</p>
<h2 id="natural-sorting-with-the-comparable-interface">&quot;Natural&quot; sorting with the <code>Comparable</code> interface</h2>
<p>This is the first and main sorting strategy. Whenever the type in your collection implements the Comparable interface, it is said to have &quot;natural ordering&quot;. This interface is described in detail later. Java classes such as String, Integer, and Double all implement the Comparable interface. In IntelliJ you can see this when you select a String variable declaration and press F1 (or ^Q):</p>
<p><img src="figures/String_Javadoc.png" alt="figures/String_Javadoc.png"></p>
<p>You can see <code>Comparable&lt;String&gt;</code> in the <code>implements</code> declaration.  </p>
<p>For Strings, natural order means alphabetic order and for numbers numeric order (from low to high). Using natural ordering can be achieved in two places (since Java 8): In the Collections class and in the List interface.</p>
<p>We&apos;ll start with the &quot;classic&quot; method of <code>Collections</code>.</p>
<p>Its signature is rather complex, but fortunately using it is not.</p>
<pre style="color:darkblue;font-weight:bold;font-family:courier;font-size:1.2em;">
public static <span style="color:darkorange;">&lt;T extends Comparable&lt;? super T&gt;&gt;</span> void sort(<span style="color:darkgreen;">List&lt;T&gt; list</span>)
</pre>

<p>This signature tells us a lot: </p>
<ul>
<li>it is static, so it can be used directly on the Collections class</li>
<li>it has <code>void</code> as return type, so it sorts a list <strong><em>in place</em></strong> instead of returning a sorted copy.</li>
<li>it takes as argument a <code>List</code> </li>
<li>the elements of the list are of type <code>T</code> (a generic placeholder), where the constraint on type <code>T</code> is that it should implement the <code>Comparable</code> interface - more specifically: a <code>Comparable</code> comparing T or its supertypes. </li>
</ul>
<p>Key here is the <code>Comparable</code> interface (package <code>java.util</code>):</p>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> java.util;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Comparable</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">compareTo</span><span class="hljs-params">(T other)</span></span>;
}
</code></pre>
<p>The contract is really simple. To be comparable to other objects (of the same class), a class needs to implement the method <code>compareTo(T other)</code> where <code>T</code> is the class implementing the interface. The method signature of <code>compareTo()</code> states that it should receive an instance of <code>T</code> and return an integer indicating the sort order of the current object with respect to the other object. The convention for this return value is  </p>
<ul>
<li>a negative value if <code>this</code> &lt; <code>other</code></li>
<li>zero if <code>this</code> equals <code>that</code></li>
<li>a positive value if <code>this</code> &gt; <code>other</code></li>
</ul>
<p>Since String and other Java classes already implement this interface, you can sort them without any further work:</p>
<pre><code class="lang-java">List&lt;String&gt; names = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
names.addAll(List.of(<span class="hljs-string">&quot;Jordan&quot;</span>, <span class="hljs-string">&quot;Wanda&quot;</span>, <span class="hljs-string">&quot;James&quot;</span>, <span class="hljs-string">&quot;rose&quot;</span>, <span class="hljs-string">&quot;Aaron&quot;</span>));
System.out.println(<span class="hljs-string">&quot;names before sort: &quot;</span> + names);
Collections.sort(names);
System.out.println(<span class="hljs-string">&quot;names after natural sort: &quot;</span> + names);
</code></pre>
<p>This will output</p>
<pre class="console_out">
names before sort: [Jordan, Wanda, James, rose, Aaron]
names after natural sort: [Aaron, James, Jordan, Wanda, rose]
</pre>

<p>As you can see, capitals come before lower case letters.</p>
<p>The exact same thing could have been achieved using the <code>sort()</code> method of class <code>List</code>, added in Java 8:</p>
<pre><code class="lang-java">names.sort(Comparator.naturalOrder());
System.out.println(<span class="hljs-string">&quot;names after sort on List &quot;</span> + names);
</code></pre>
<p>The signature of this sort method is:</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sort</span><span class="hljs-params">(@Nullable java.util.Comparator&lt;? <span class="hljs-keyword">super</span> E&gt; c)</span>
</span></code></pre>
<p>It takes a <code>Comparator</code> instance; this interface is described in the next section. Some common default Comparators have already been implemented, for natural (<code>Comparator.naturalOrder()</code>) and reverse (<code>Comparator.reverseOrder()</code>) order for use with classes that implement Comparable. Note that the <code>@Nullable</code> in the above signature means that if <code>null</code> is passed, it defaults to <code>Comparator.naturalOrder()</code> An overloaded method would have been better design in my opinion, because this <code>names.sort(null);</code> is really ugly.</p>
<p>Here is the reverse ordering:</p>
<pre><code class="lang-java">names.sort(Comparator.reverseOrder());
System.out.println(<span class="hljs-string">&quot;names after reverse sort &quot;</span> + names);
</code></pre>
<p>outputs</p>
<pre class="console_out">
names after reverse sort [rose, Wanda, Jordan, James, Aaron]
</pre>

<p>Another interesting Comparator is the CASE_INSENSITIVE_ORDER comparator defined in the String class:</p>
<pre><code class="lang-java">names.sort(String.CASE_INSENSITIVE_ORDER);
System.out.println(<span class="hljs-string">&quot;names case insensitive sort &quot;</span> + names);
</code></pre>
<p>outputs</p>
<pre class="console_out">
names case insensitive sort [Aaron, James, Jordan, rose, Wanda]
</pre>

<h3 id="custom-comparable-implementations">Custom comparable implementations</h3>
<p>Let&apos;s create our own implementation of the Comparable interface in a custom class and demonstrate its use.</p>
<p>Here is a simple Bird class. </p>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> snippets.apis;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bird</span> </span>{
    String englishName;
    <span class="hljs-keyword">double</span> wingSpan;
    <span class="hljs-keyword">int</span> maximumAge;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Bird</span><span class="hljs-params">(String englishName, <span class="hljs-keyword">double</span> wingSpan, <span class="hljs-keyword">int</span> maximumAge)</span> </span>{
        <span class="hljs-keyword">this</span>.englishName = englishName;
        <span class="hljs-keyword">this</span>.wingSpan = wingSpan;
        <span class="hljs-keyword">this</span>.maximumAge = maximumAge;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Bird{&quot;</span> +
                <span class="hljs-string">&quot;englishName=&apos;&quot;</span> + englishName + <span class="hljs-string">&apos;\&apos;&apos;</span> +
                <span class="hljs-string">&quot;, wingSpan=&quot;</span> + wingSpan +
                <span class="hljs-string">&quot;, maximumAge=&quot;</span> + maximumAge +
                <span class="hljs-string">&apos;}&apos;</span>;
    }
}
</code></pre>
<p>The first thing you need to figure out when implementing sorting is <strong><em>what is the natural sort order of this class?</em></strong>
This depends entirely on you application: which aspect of your class will be used primarily for sorting. In this case, I choose the <code>wingSpan</code> property.</p>
<p>Next, these steps should be taken:</p>
<ol>
<li>Declare your class as implementer of the <code>Comparable</code> contract</li>
<li>Create the method stub.</li>
<li>Implement the logic</li>
</ol>
<p>Step 2 is done by IntelliJ once you&apos;ve done 1 and selected te context menu (<code>alt + enter</code>):</p>
<p><img src="figures/implement_interface_methods.png" alt="implement_interface_methods.png"></p>
<p>Select the single method and press enter. This is the result.</p>
<pre><code class="lang-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareTo</span><span class="hljs-params">(Bird other)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>This compiles just fine, but logic is missing. The next snipped solves that.</p>
<pre><code class="lang-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareTo</span><span class="hljs-params">(Bird other)</span> </span>{
    <span class="hljs-comment">//declare named variables for readability</span>
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> BEFORE = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> EQUAL = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> AFTER = <span class="hljs-number">1</span>;
    <span class="hljs-comment">//compare</span>
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.wingSpan &lt;= other.wingSpan) <span class="hljs-keyword">return</span> BEFORE;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.wingSpan &gt;= other.wingSpan) <span class="hljs-keyword">return</span> AFTER;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> EQUAL;
}
</code></pre>
<p>Time for a test drive. The toString method was adjusted for readability and compactness. Also, a Java8+ feature (Streams API) was used for printing (not part of this courses&apos; material).</p>
<pre><code class="lang-java">List&lt;Bird&gt; birds = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();

birds.add(<span class="hljs-keyword">new</span> Bird(<span class="hljs-string">&quot;Buzzard&quot;</span>, <span class="hljs-number">1.3</span>, <span class="hljs-number">29</span>));
birds.add(<span class="hljs-keyword">new</span> Bird(<span class="hljs-string">&quot;Griffon vulture&quot;</span>, <span class="hljs-number">2.6</span>, <span class="hljs-number">25</span>));
birds.add(<span class="hljs-keyword">new</span> Bird(<span class="hljs-string">&quot;Kestrel&quot;</span>, <span class="hljs-number">0.35</span>, <span class="hljs-number">15</span>));
birds.add(<span class="hljs-keyword">new</span> Bird(<span class="hljs-string">&quot;Red kite&quot;</span>, <span class="hljs-number">1.8</span>, <span class="hljs-number">23</span>));
birds.add(<span class="hljs-keyword">new</span> Bird(<span class="hljs-string">&quot;Steppe eagle&quot;</span>, <span class="hljs-number">2.1</span>, <span class="hljs-number">41</span>));

System.out.println(<span class="hljs-string">&quot;Before:&quot;</span>);
<span class="hljs-comment">//prints addition order using Java8 streams</span>
birds.stream().forEach(bird -&gt; System.out.println(<span class="hljs-string">&quot;\t&quot;</span> + bird));
Collections.sort(birds);
System.out.println(<span class="hljs-string">&quot;After sort on wingspan:&quot;</span>);
<span class="hljs-comment">//prints sort order on wingspan, ascending</span>
birds.stream().forEach(bird -&gt; System.out.println(<span class="hljs-string">&quot;\t&quot;</span> + bird));
</code></pre>
<p>outputs</p>
<pre class="console_out">
Before:
    Buzzard&apos;, ws=1.3, max.age=29
    Griffon vulture&apos;, ws=2.5, max.age=25
    Kestrel&apos;, ws=0.35, max.age=15
    White-tailed eagle&apos;, ws=2.5, max.age=25
    Red kite&apos;, ws=1.8, max.age=23
    Steppe eagle&apos;, ws=2.1, max.age=41
After sort on wingspan:
    Kestrel&apos;, ws=0.35, max.age=15
    Buzzard&apos;, ws=1.3, max.age=29
    Red kite&apos;, ws=1.8, max.age=23
    Steppe eagle&apos;, ws=2.1, max.age=41
    Griffon vulture&apos;, ws=2.5, max.age=25
    White-tailed eagle&apos;, ws=2.5, max.age=25
</pre>

<p>Note the ascending order of wingspan. What if the natural order is descending in your opinion? Simply reverse the sort logic:</p>
<pre><code class="lang-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareTo</span><span class="hljs-params">(Bird other)</span> </span>{
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> BEFORE = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> EQUAL = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> AFTER = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.wingSpan &lt;= other.wingSpan) <span class="hljs-keyword">return</span> AFTER;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.wingSpan &gt;= other.wingSpan) <span class="hljs-keyword">return</span> BEFORE;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> EQUAL;
}
</code></pre>
<p>outputs</p>
<pre class="console_out">
After:
    Griffon vulture&apos;, ws=2.6, max.age=25
    Steppe eagle&apos;, ws=2.1, max.age=41
    Red kite&apos;, ws=1.8, max.age=23
    Buzzard&apos;, ws=1.3, max.age=29
    Kestrel&apos;, ws=0.35, max.age=15
</pre>

<p>Although this sort logic is just fine, it is often better to use classes that are dedicated to dealing with the datatype and <strong><em>delegate</em></strong> to their implemented and tested methods:</p>
<pre><code class="lang-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareTo</span><span class="hljs-params">(Bird other)</span> </span>{
    <span class="hljs-comment">//delegate to class double</span>
    <span class="hljs-keyword">return</span> Double.compare(<span class="hljs-keyword">this</span>.wingSpan, other.wingSpan);
}
</code></pre>
<h2 id="sorting-using-a-custom-comparator">Sorting using a custom <code>Comparator</code></h2>
<p>What if you want to sort in other ways as well, or if you do not want to settle on a natural sort order? Then there is the second form of the <code>Collections.sort()</code> method, also supported by the <code>List.sort()</code> method since Java 8:</p>
<pre style="color:darkblue;font-weight:bold;font-family:courier;font-size:1.2em;">
public static <span style="color:darkred;">&lt;T&gt;</span> void sort(<span style="color:darkgreen;">List&lt;T&gt; list</span>, <span style="color:darkorange;">Comparator&lt;? super T&gt; c</span>)
</pre>

<p>or </p>
<pre style="color:darkblue;font-weight:bold;font-family:courier;font-size:1.2em;">
public void sort(<span style="font-style: italic;">@Nullable</span> <span style="color:darkorange;">Comparator&lt;? super E&gt; comparator</span>)
</pre>

<p>The <code>Comparator</code> interface has a single abstract method:</p>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> java.util

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Comparator</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(T one, T two)</span></span>;
}
</code></pre>
<p>Let&apos;s start with the most straightforward implementation.</p>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> snippets.apis;
<span class="hljs-keyword">import</span> java.util.Comparator;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BirdNameComparator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Comparator</span>&lt;<span class="hljs-title">Bird</span>&gt; </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(Bird first, Bird second)</span> </span>{
        <span class="hljs-keyword">return</span> first.englishName.compareTo(second.englishName);
    }
}
</code></pre>
<p>This one sorts on name, and again delegates to the type of the instance variable - class String. This is its usage.</p>
<pre><code class="lang-java">Collections.sort(birds, <span class="hljs-keyword">new</span> BirdNameComparator());
<span class="hljs-comment">//or, the Java8+ way</span>
birds.sort(<span class="hljs-keyword">new</span> BirdNameComparator())
</code></pre>
<p>Implementations of the Comparator interface are often created on-the-fly. For instance, look at this <strong><em>anonymous inner class</em></strong>.</p>
<pre><code class="lang-java">Collections.sort(birds, <span class="hljs-keyword">new</span> Comparator&lt;Bird&gt;(){
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(Bird first, Bird second)</span> </span>{
        <span class="hljs-keyword">return</span> Integer.compare(first.maximumAge, second.maximumAge);
    }
});
</code></pre>
<p>Actually, since Java8, sorting has become much versatile, but you need to climb the learning curve of lambdas first:</p>
<pre><code class="lang-java"><span class="hljs-comment">//Java8+ alternative: OK</span>
Collections.sort(birds, (birdOne, birdTwo) -&gt; Integer.compare(birdOne.maximumAge, birdTwo.maximumAge));
<span class="hljs-comment">//Java8+ alternative: best</span>
Collections.sort(birds, Comparator.comparingInt(bird -&gt; bird.maximumAge));
</code></pre>
<p>Lambdas are out of scope for this course, unfortunately.</p>
<h2 id="multilevel-sorting">Multilevel sorting</h2>
<p>The final part of this post does not deal with the API but with the logic to implement it. You have seen how to code simple comparison logic. But what if you want to sort on multiple properties? Suppose, in the case of the birds example, we wanted to sort on wingspan first and then on name.
No matter how many properties, the pattern is always the same: check the primary property, return this if they are not equal. If they are equal, check on the secondary property:</p>
<pre><code class="lang-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareTo</span><span class="hljs-params">(Bird other)</span> </span>{
    <span class="hljs-keyword">int</span> compareWingSpan = Double.compare(<span class="hljs-keyword">this</span>.wingSpan, other.wingSpan);
    <span class="hljs-keyword">if</span> (compareWingSpan == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.englishName.compareTo(other.englishName);
    }
    <span class="hljs-keyword">return</span> compareWingSpan;
}
</code></pre>
<p>Note that with alphabetical sorting capitals come before lower case letters. This is because the numeric values of the table of ASCII codes are used:</p>
<p><img src="figures/Ascii-codes-table.png" alt="Ascii-codes-table.png"></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="class_object_methods.html" class="navigation navigation-prev " aria-label="Previous page: Methods of class Object">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="exceptions.html" class="navigation navigation-next " aria-label="Next page: Exceptions">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Sorting","level":"4.4","depth":1,"next":{"title":"Exceptions","level":"4.5","depth":1,"path":"03_apis/exceptions.md","ref":"03_apis/exceptions.md","articles":[]},"previous":{"title":"Methods of class Object","level":"4.3","depth":1,"path":"03_apis/class_object_methods.md","ref":"03_apis/class_object_methods.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["page-toc"],"pluginsConfig":{"page-toc":{"position":"before-first","selector":".markdown-section h1, .markdown-section h2, .markdown-section h3","showByDefault":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"03_apis/sorting.md","mtime":"2019-11-12T15:37:29.386Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-11-14T15:30:03.587Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/anchor-3.1.1.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/page-toc.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

