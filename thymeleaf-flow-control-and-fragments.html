<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 33 Thymeleaf flow control and fragments | The Java Track</title>
  <meta name="description" content="This ebook accompanies the Java course track of bioinformatics at the Hanze University of Applied Science, Groningen (The Netherlands)." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 33 Thymeleaf flow control and fragments | The Java Track" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This ebook accompanies the Java course track of bioinformatics at the Hanze University of Applied Science, Groningen (The Netherlands)." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 33 Thymeleaf flow control and fragments | The Java Track" />
  
  <meta name="twitter:description" content="This ebook accompanies the Java course track of bioinformatics at the Hanze University of Applied Science, Groningen (The Netherlands)." />
  

<meta name="author" content="Michiel Noback" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="thymeleaf-expressions.html"/>
<link rel="next" href="sessions-scopes.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Java eBook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> General introduction</a></li>
<li class="chapter" data-level="2" data-path="keyboard-shortcuts.html"><a href="keyboard-shortcuts.html"><i class="fa fa-check"></i><b>2</b> Keyboard shortcuts</a></li>
<li class="part"><span><b>Part I - Getting Started</b></span></li>
<li class="chapter" data-level="3" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html"><i class="fa fa-check"></i><b>3</b> A first IntelliJ project</a><ul>
<li class="chapter" data-level="3.1" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#dependency-management"><i class="fa fa-check"></i><b>3.1</b> Dependency management</a></li>
<li class="chapter" data-level="3.2" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#a-first-project"><i class="fa fa-check"></i><b>3.2</b> A first project</a></li>
<li class="chapter" data-level="3.3" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#distribute-an-executable"><i class="fa fa-check"></i><b>3.3</b> Distribute an executable</a></li>
<li class="chapter" data-level="3.4" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#wrap-up"><i class="fa fa-check"></i><b>3.4</b> Wrap-up</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html"><i class="fa fa-check"></i><b>4</b> The essence of Java</a><ul>
<li class="chapter" data-level="4.1" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#cross-platform"><i class="fa fa-check"></i><b>4.1</b> Cross-platform</a></li>
<li class="chapter" data-level="4.2" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#multithreaded"><i class="fa fa-check"></i><b>4.2</b> Multithreaded</a></li>
<li class="chapter" data-level="4.3" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#object-oriented"><i class="fa fa-check"></i><b>4.3</b> Object-Oriented</a></li>
<li class="chapter" data-level="4.4" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#strongly-typed-and-scoped"><i class="fa fa-check"></i><b>4.4</b> Strongly typed and scoped</a></li>
<li class="chapter" data-level="4.5" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#compiled"><i class="fa fa-check"></i><b>4.5</b> Compiled</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html"><i class="fa fa-check"></i><b>5</b> Objects: ninjas and growing cells</a><ul>
<li class="chapter" data-level="5.1" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#ninjas"><i class="fa fa-check"></i><b>5.1</b> Ninjas</a></li>
<li class="chapter" data-level="5.2" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#growing-cells"><i class="fa fa-check"></i><b>5.2</b> Growing cells</a></li>
<li class="chapter" data-level="5.3" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#object-construction-first-iteration"><i class="fa fa-check"></i><b>5.3</b> Object construction (first iteration)</a></li>
<li class="chapter" data-level="5.4" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#inheritance-first-discussion"><i class="fa fa-check"></i><b>5.4</b> Inheritance (first discussion)</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="basic-program-structure-and-flow.html"><a href="basic-program-structure-and-flow.html"><i class="fa fa-check"></i><b>6</b> Basic program structure and flow</a><ul>
<li class="chapter" data-level="6.1" data-path="basic-program-structure-and-flow.html"><a href="basic-program-structure-and-flow.html#basic-program-structure"><i class="fa fa-check"></i><b>6.1</b> Basic program structure</a></li>
<li class="chapter" data-level="6.2" data-path="basic-program-structure-and-flow.html"><a href="basic-program-structure-and-flow.html#summary"><i class="fa fa-check"></i><b>6.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="naming-and-commenting-stuff.html"><a href="naming-and-commenting-stuff.html"><i class="fa fa-check"></i><b>7</b> Naming and commenting stuff</a><ul>
<li class="chapter" data-level="7.1" data-path="naming-and-commenting-stuff.html"><a href="naming-and-commenting-stuff.html#naming"><i class="fa fa-check"></i><b>7.1</b> Naming</a></li>
<li class="chapter" data-level="7.2" data-path="naming-and-commenting-stuff.html"><a href="naming-and-commenting-stuff.html#commenting"><i class="fa fa-check"></i><b>7.2</b> Commenting</a></li>
</ul></li>
<li class="part"><span><b>Part II - Syntax</b></span></li>
<li class="chapter" data-level="8" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>8</b> Data Types</a><ul>
<li class="chapter" data-level="8.1" data-path="data-types.html"><a href="data-types.html#primitives"><i class="fa fa-check"></i><b>8.1</b> Primitives</a></li>
<li class="chapter" data-level="8.2" data-path="data-types.html"><a href="data-types.html#reference-types"><i class="fa fa-check"></i><b>8.2</b> Reference types</a></li>
<li class="chapter" data-level="8.3" data-path="data-types.html"><a href="data-types.html#what-is-the-difference"><i class="fa fa-check"></i><b>8.3</b> What is the difference?</a></li>
<li class="chapter" data-level="8.4" data-path="data-types.html"><a href="data-types.html#summary-1"><i class="fa fa-check"></i><b>8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="arrays.html"><a href="arrays.html"><i class="fa fa-check"></i><b>9</b> Arrays</a><ul>
<li class="chapter" data-level="9.1" data-path="arrays.html"><a href="arrays.html#creating-arrays"><i class="fa fa-check"></i><b>9.1</b> Creating arrays</a></li>
<li class="chapter" data-level="9.2" data-path="arrays.html"><a href="arrays.html#printing"><i class="fa fa-check"></i><b>9.2</b> Printing</a></li>
<li class="chapter" data-level="9.3" data-path="arrays.html"><a href="arrays.html#accessing"><i class="fa fa-check"></i><b>9.3</b> Accessing</a></li>
<li class="chapter" data-level="9.4" data-path="arrays.html"><a href="arrays.html#multidimensional-arrays"><i class="fa fa-check"></i><b>9.4</b> Multidimensional arrays</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="operators.html"><a href="operators.html"><i class="fa fa-check"></i><b>10</b> Operators</a><ul>
<li class="chapter" data-level="10.1" data-path="operators.html"><a href="operators.html#overview"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="flow-control.html"><a href="flow-control.html"><i class="fa fa-check"></i><b>11</b> Flow control</a><ul>
<li class="chapter" data-level="11.1" data-path="flow-control.html"><a href="flow-control.html#if-else-if-else"><i class="fa fa-check"></i><b>11.1</b> if [else if] [else]</a></li>
<li class="chapter" data-level="11.2" data-path="flow-control.html"><a href="flow-control.html#while"><i class="fa fa-check"></i><b>11.2</b> while</a></li>
<li class="chapter" data-level="11.3" data-path="flow-control.html"><a href="flow-control.html#for"><i class="fa fa-check"></i><b>11.3</b> for</a></li>
<li class="chapter" data-level="11.4" data-path="flow-control.html"><a href="flow-control.html#break-and-continue"><i class="fa fa-check"></i><b>11.4</b> break and continue</a></li>
<li class="chapter" data-level="11.5" data-path="flow-control.html"><a href="flow-control.html#switchcase"><i class="fa fa-check"></i><b>11.5</b> switch/case</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="methods-1.html"><a href="methods-1.html"><i class="fa fa-check"></i><b>12</b> Methods</a><ul>
<li class="chapter" data-level="12.1" data-path="methods-1.html"><a href="methods-1.html#method-signature"><i class="fa fa-check"></i><b>12.1</b> Method signature</a></li>
<li class="chapter" data-level="12.2" data-path="methods-1.html"><a href="methods-1.html#interacting-with-state"><i class="fa fa-check"></i><b>12.2</b> Interacting with state</a></li>
<li class="chapter" data-level="12.3" data-path="methods-1.html"><a href="methods-1.html#method-overloading"><i class="fa fa-check"></i><b>12.3</b> Method overloading</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="packages-and-imports.html"><a href="packages-and-imports.html"><i class="fa fa-check"></i><b>13</b> Packages and Imports</a><ul>
<li class="chapter" data-level="13.1" data-path="packages-and-imports.html"><a href="packages-and-imports.html#class-path"><i class="fa fa-check"></i><b>13.1</b> Class path</a></li>
<li class="chapter" data-level="13.2" data-path="packages-and-imports.html"><a href="packages-and-imports.html#namespaces"><i class="fa fa-check"></i><b>13.2</b> Namespaces</a></li>
<li class="chapter" data-level="13.3" data-path="packages-and-imports.html"><a href="packages-and-imports.html#packages"><i class="fa fa-check"></i><b>13.3</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="the-power-of-naming.html"><a href="the-power-of-naming.html"><i class="fa fa-check"></i><b>14</b> The power of naming</a></li>
<li class="part"><span><b>Part III - Core APIs</b></span></li>
<li class="chapter" data-level="15" data-path="interfaces.html"><a href="interfaces.html"><i class="fa fa-check"></i><b>15</b> Interfaces</a><ul>
<li class="chapter" data-level="15.1" data-path="interfaces.html"><a href="interfaces.html#a-contract-without-implementation-interface"><i class="fa fa-check"></i><b>15.1</b> A contract without implementation: interface</a></li>
<li class="chapter" data-level="15.2" data-path="interfaces.html"><a href="interfaces.html#summary-2"><i class="fa fa-check"></i><b>15.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html"><i class="fa fa-check"></i><b>16</b> The Java Collections API</a><ul>
<li class="chapter" data-level="16.1" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#lists-arraylist-and-linkedlist"><i class="fa fa-check"></i><b>16.1</b> Lists: ArrayList and LinkedList</a></li>
<li class="chapter" data-level="16.2" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#code-against-interfaces-not-implementations"><i class="fa fa-check"></i><b>16.2</b> Code against interfaces, not implementations</a></li>
<li class="chapter" data-level="16.3" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#the-collection-interfaces-map-list-set"><i class="fa fa-check"></i><b>16.3</b> The collection interfaces: Map, List, Set</a></li>
<li class="chapter" data-level="16.4" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#collections-utility-methods"><i class="fa fa-check"></i><b>16.4</b> Collections utility methods</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="methods-of-class-object.html"><a href="methods-of-class-object.html"><i class="fa fa-check"></i><b>17</b> Methods of class Object</a><ul>
<li class="chapter" data-level="17.1" data-path="methods-of-class-object.html"><a href="methods-of-class-object.html#tostring-equals-hashcode-getclass"><i class="fa fa-check"></i><b>17.1</b> toString(), equals(), hashCode(), getClass()</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="sorting.html"><a href="sorting.html"><i class="fa fa-check"></i><b>18</b> Sorting</a><ul>
<li class="chapter" data-level="18.1" data-path="sorting.html"><a href="sorting.html#natural-sorting-with-the-comparable-interface"><i class="fa fa-check"></i><b>18.1</b> “Natural” sorting with the <code>Comparable</code> interface</a></li>
<li class="chapter" data-level="18.2" data-path="sorting.html"><a href="sorting.html#sorting-using-a-custom-comparator"><i class="fa fa-check"></i><b>18.2</b> Sorting using a custom <code>Comparator</code></a></li>
<li class="chapter" data-level="18.3" data-path="sorting.html"><a href="sorting.html#multilevel-sorting"><i class="fa fa-check"></i><b>18.3</b> Multilevel sorting</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="exceptions.html"><a href="exceptions.html"><i class="fa fa-check"></i><b>19</b> Exceptions</a><ul>
<li class="chapter" data-level="19.1" data-path="exceptions.html"><a href="exceptions.html#what-are-exceptions"><i class="fa fa-check"></i><b>19.1</b> What are exceptions</a></li>
<li class="chapter" data-level="19.2" data-path="exceptions.html"><a href="exceptions.html#checked-and-unchecked-exceptions"><i class="fa fa-check"></i><b>19.2</b> Checked and unchecked exceptions</a></li>
<li class="chapter" data-level="19.3" data-path="exceptions.html"><a href="exceptions.html#all-trycatch-elements"><i class="fa fa-check"></i><b>19.3</b> All try/catch elements</a></li>
<li class="chapter" data-level="19.4" data-path="exceptions.html"><a href="exceptions.html#try-with-resources"><i class="fa fa-check"></i><b>19.4</b> Try-with resources</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="file-io.html"><a href="file-io.html"><i class="fa fa-check"></i><b>20</b> File IO</a><ul>
<li class="chapter" data-level="20.1" data-path="file-io.html"><a href="file-io.html#path-paths"><i class="fa fa-check"></i><b>20.1</b> Path &amp; Paths</a></li>
<li class="chapter" data-level="20.2" data-path="file-io.html"><a href="file-io.html#file-and-files"><i class="fa fa-check"></i><b>20.2</b> File and Files</a></li>
<li class="chapter" data-level="20.3" data-path="file-io.html"><a href="file-io.html#parsing-file-content-the-easy-way"><i class="fa fa-check"></i><b>20.3</b> Parsing file content the easy way</a></li>
<li class="chapter" data-level="20.4" data-path="file-io.html"><a href="file-io.html#note-on-character-sets"><i class="fa fa-check"></i><b>20.4</b> Note on character sets</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>21</b> Regular Expressions</a><ul>
<li class="chapter" data-level="21.1" data-path="regular-expressions.html"><a href="regular-expressions.html#regex-syntax"><i class="fa fa-check"></i><b>21.1</b> Regex syntax?</a></li>
<li class="chapter" data-level="21.2" data-path="regular-expressions.html"><a href="regular-expressions.html#methods-of-class-string"><i class="fa fa-check"></i><b>21.2</b> Methods of class String</a></li>
<li class="chapter" data-level="21.3" data-path="regular-expressions.html"><a href="regular-expressions.html#pattern-matcher"><i class="fa fa-check"></i><b>21.3</b> Pattern &amp; Matcher</a></li>
</ul></li>
<li class="part"><span><b>Part IV - OOP</b></span></li>
<li class="chapter" data-level="22" data-path="encapsulation.html"><a href="encapsulation.html"><i class="fa fa-check"></i><b>22</b> Encapsulation</a><ul>
<li class="chapter" data-level="22.1" data-path="encapsulation.html"><a href="encapsulation.html#summary-3"><i class="fa fa-check"></i><b>22.1</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="access-modifiers-other-keywords.html"><a href="access-modifiers-other-keywords.html"><i class="fa fa-check"></i><b>23</b> Access modifiers &amp; Other keywords</a><ul>
<li class="chapter" data-level="23.1" data-path="access-modifiers-other-keywords.html"><a href="access-modifiers-other-keywords.html#access-modifiers"><i class="fa fa-check"></i><b>23.1</b> Access Modifiers</a></li>
<li class="chapter" data-level="23.2" data-path="access-modifiers-other-keywords.html"><a href="access-modifiers-other-keywords.html#other-keywords"><i class="fa fa-check"></i><b>23.2</b> Other keywords</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="inheritance-and-uml.html"><a href="inheritance-and-uml.html"><i class="fa fa-check"></i><b>24</b> Inheritance and UML</a><ul>
<li class="chapter" data-level="24.1" data-path="inheritance-and-uml.html"><a href="inheritance-and-uml.html#the-testtube-with-cells"><i class="fa fa-check"></i><b>24.1</b> The TestTube with cells</a></li>
<li class="chapter" data-level="24.2" data-path="inheritance-and-uml.html"><a href="inheritance-and-uml.html#apply-inheritance-to-model-what-is-common"><i class="fa fa-check"></i><b>24.2</b> Apply inheritance to model what is common</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="enums-constants-on-steroids.html"><a href="enums-constants-on-steroids.html"><i class="fa fa-check"></i><b>25</b> Enums: constants on steroids</a><ul>
<li class="chapter" data-level="25.1" data-path="enums-constants-on-steroids.html"><a href="enums-constants-on-steroids.html#constants-are-everywhere"><i class="fa fa-check"></i><b>25.1</b> Constants are everywhere</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="encapsulation-revisited.html"><a href="encapsulation-revisited.html"><i class="fa fa-check"></i><b>26</b> Encapsulation revisited</a></li>
<li class="chapter" data-level="27" data-path="design-rules-summary.html"><a href="design-rules-summary.html"><i class="fa fa-check"></i><b>27</b> Design rules summary</a><ul>
<li class="chapter" data-level="27.1" data-path="design-rules-summary.html"><a href="design-rules-summary.html#equals-and-hashcode"><i class="fa fa-check"></i><b>27.1</b> equals() and hashCode()</a></li>
<li class="chapter" data-level="27.2" data-path="design-rules-summary.html"><a href="design-rules-summary.html#classes-1"><i class="fa fa-check"></i><b>27.2</b> Classes</a></li>
<li class="chapter" data-level="27.3" data-path="design-rules-summary.html"><a href="design-rules-summary.html#code-against-interfaces-not-implementations-1"><i class="fa fa-check"></i><b>27.3</b> Code against interfaces, not implementations</a></li>
<li class="chapter" data-level="27.4" data-path="design-rules-summary.html"><a href="design-rules-summary.html#exceptions-1"><i class="fa fa-check"></i><b>27.4</b> Exceptions</a></li>
<li class="chapter" data-level="27.5" data-path="design-rules-summary.html"><a href="design-rules-summary.html#access-modifiers-1"><i class="fa fa-check"></i><b>27.5</b> Access modifiers</a></li>
<li class="chapter" data-level="27.6" data-path="design-rules-summary.html"><a href="design-rules-summary.html#srp"><i class="fa fa-check"></i><b>27.6</b> SRP</a></li>
<li class="chapter" data-level="27.7" data-path="design-rules-summary.html"><a href="design-rules-summary.html#various"><i class="fa fa-check"></i><b>27.7</b> Various</a></li>
</ul></li>
<li class="part"><span><b>Part V - Java Web Apps</b></span></li>
<li class="chapter" data-level="28" data-path="a-refresher.html"><a href="a-refresher.html"><i class="fa fa-check"></i><b>28</b> A refresher</a><ul>
<li class="chapter" data-level="28.1" data-path="a-refresher.html"><a href="a-refresher.html#introduction"><i class="fa fa-check"></i><b>28.1</b> Introduction</a></li>
<li class="chapter" data-level="28.2" data-path="a-refresher.html"><a href="a-refresher.html#the-basics-of-web"><i class="fa fa-check"></i><b>28.2</b> The basics of web</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="the-toolbox.html"><a href="the-toolbox.html"><i class="fa fa-check"></i><b>29</b> The toolbox</a></li>
<li class="chapter" data-level="30" data-path="a-first-project-1.html"><a href="a-first-project-1.html"><i class="fa fa-check"></i><b>30</b> A first project</a><ul>
<li class="chapter" data-level="30.1" data-path="a-first-project-1.html"><a href="a-first-project-1.html#introduction-1"><i class="fa fa-check"></i><b>30.1</b> Introduction</a></li>
<li class="chapter" data-level="30.2" data-path="a-first-project-1.html"><a href="a-first-project-1.html#the-steps"><i class="fa fa-check"></i><b>30.2</b> The steps</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="implementing-mvc.html"><a href="implementing-mvc.html"><i class="fa fa-check"></i><b>31</b> Implementing MVC</a><ul>
<li class="chapter" data-level="31.1" data-path="implementing-mvc.html"><a href="implementing-mvc.html#introduction-2"><i class="fa fa-check"></i><b>31.1</b> Introduction</a></li>
<li class="chapter" data-level="31.2" data-path="implementing-mvc.html"><a href="implementing-mvc.html#java-web-app-architecture"><i class="fa fa-check"></i><b>31.2</b> Java web app architecture</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="thymeleaf-expressions.html"><a href="thymeleaf-expressions.html"><i class="fa fa-check"></i><b>32</b> Thymeleaf expressions</a><ul>
<li class="chapter" data-level="32.1" data-path="thymeleaf-expressions.html"><a href="thymeleaf-expressions.html#introduction-3"><i class="fa fa-check"></i><b>32.1</b> Introduction</a></li>
<li class="chapter" data-level="32.2" data-path="thymeleaf-expressions.html"><a href="thymeleaf-expressions.html#expression-types"><i class="fa fa-check"></i><b>32.2</b> Expression types</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="thymeleaf-flow-control-and-fragments.html"><a href="thymeleaf-flow-control-and-fragments.html"><i class="fa fa-check"></i><b>33</b> Thymeleaf flow control and fragments</a><ul>
<li class="chapter" data-level="33.1" data-path="thymeleaf-flow-control-and-fragments.html"><a href="thymeleaf-flow-control-and-fragments.html#introduction-4"><i class="fa fa-check"></i><b>33.1</b> Introduction</a></li>
<li class="chapter" data-level="33.2" data-path="thymeleaf-flow-control-and-fragments.html"><a href="thymeleaf-flow-control-and-fragments.html#working-with-fragments"><i class="fa fa-check"></i><b>33.2</b> Working with fragments</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="sessions-scopes.html"><a href="sessions-scopes.html"><i class="fa fa-check"></i><b>34</b> Sessions &amp; Scopes</a><ul>
<li class="chapter" data-level="34.1" data-path="sessions-scopes.html"><a href="sessions-scopes.html#introduction-5"><i class="fa fa-check"></i><b>34.1</b> Introduction</a></li>
<li class="chapter" data-level="34.2" data-path="sessions-scopes.html"><a href="sessions-scopes.html#scopes"><i class="fa fa-check"></i><b>34.2</b> Scopes</a></li>
<li class="chapter" data-level="34.3" data-path="sessions-scopes.html"><a href="sessions-scopes.html#summary-of-scopes"><i class="fa fa-check"></i><b>34.3</b> Summary of scopes</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="servlet-details-and-lifecycle-hooks.html"><a href="servlet-details-and-lifecycle-hooks.html"><i class="fa fa-check"></i><b>35</b> Servlet details and lifecycle hooks</a><ul>
<li class="chapter" data-level="35.1" data-path="servlet-details-and-lifecycle-hooks.html"><a href="servlet-details-and-lifecycle-hooks.html#servlet-configuration"><i class="fa fa-check"></i><b>35.1</b> Servlet configuration</a></li>
<li class="chapter" data-level="35.2" data-path="servlet-details-and-lifecycle-hooks.html"><a href="servlet-details-and-lifecycle-hooks.html#hooks"><i class="fa fa-check"></i><b>35.2</b> Hooks</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="database-interaction.html"><a href="database-interaction.html"><i class="fa fa-check"></i><b>36</b> Database interaction</a><ul>
<li class="chapter" data-level="36.1" data-path="database-interaction.html"><a href="database-interaction.html#jdbc"><i class="fa fa-check"></i><b>36.1</b> JDBC</a></li>
<li class="chapter" data-level="36.2" data-path="database-interaction.html"><a href="database-interaction.html#the-naive-implementation"><i class="fa fa-check"></i><b>36.2</b> The naive implementation</a></li>
<li class="chapter" data-level="36.3" data-path="database-interaction.html"><a href="database-interaction.html#improve-on-naive-implementation"><i class="fa fa-check"></i><b>36.3</b> Improve on naive implementation</a></li>
<li class="chapter" data-level="36.4" data-path="database-interaction.html"><a href="database-interaction.html#refactoring-to-oo-principles"><i class="fa fa-check"></i><b>36.4</b> Refactoring to OO principles</a></li>
<li class="chapter" data-level="36.5" data-path="database-interaction.html"><a href="database-interaction.html#use-in-a-servlet-environment"><i class="fa fa-check"></i><b>36.5</b> Use in a servlet environment</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="a-simple-web-service-using-ajax.html"><a href="a-simple-web-service-using-ajax.html"><i class="fa fa-check"></i><b>37</b> A simple web service using Ajax</a><ul>
<li class="chapter" data-level="37.1" data-path="a-simple-web-service-using-ajax.html"><a href="a-simple-web-service-using-ajax.html#introduction-6"><i class="fa fa-check"></i><b>37.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="web-filters-and-file-uploads.html"><a href="web-filters-and-file-uploads.html"><i class="fa fa-check"></i><b>38</b> Web filters and File uploads</a><ul>
<li class="chapter" data-level="38.1" data-path="web-filters-and-file-uploads.html"><a href="web-filters-and-file-uploads.html#web-filters"><i class="fa fa-check"></i><b>38.1</b> Web filters</a></li>
<li class="chapter" data-level="38.2" data-path="web-filters-and-file-uploads.html"><a href="web-filters-and-file-uploads.html#file-uploads"><i class="fa fa-check"></i><b>38.2</b> File uploads</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="exercises-intro.html"><a href="exercises-intro.html"><i class="fa fa-check"></i><b>39</b> Exercises intro</a><ul>
<li class="chapter" data-level="39.1" data-path="exercises-intro.html"><a href="exercises-intro.html#implementing-mvc-1"><i class="fa fa-check"></i><b>39.1</b> Implementing MVC</a></li>
<li class="chapter" data-level="39.2" data-path="exercises-intro.html"><a href="exercises-intro.html#thymeleaf"><i class="fa fa-check"></i><b>39.2</b> Thymeleaf</a></li>
<li class="chapter" data-level="39.3" data-path="exercises-intro.html"><a href="exercises-intro.html#sessions"><i class="fa fa-check"></i><b>39.3</b> Sessions</a></li>
<li class="chapter" data-level="39.4" data-path="exercises-intro.html"><a href="exercises-intro.html#authentication-1"><i class="fa fa-check"></i><b>39.4</b> Authentication</a></li>
<li class="chapter" data-level="39.5" data-path="exercises-intro.html"><a href="exercises-intro.html#servlet-details-and-hooks"><i class="fa fa-check"></i><b>39.5</b> Servlet details and hooks</a></li>
<li class="chapter" data-level="39.6" data-path="exercises-intro.html"><a href="exercises-intro.html#database-interaction-1"><i class="fa fa-check"></i><b>39.6</b> Database interaction</a></li>
<li class="chapter" data-level="39.7" data-path="exercises-intro.html"><a href="exercises-intro.html#ajax"><i class="fa fa-check"></i><b>39.7</b> Ajax</a></li>
<li class="chapter" data-level="39.8" data-path="exercises-intro.html"><a href="exercises-intro.html#filters"><i class="fa fa-check"></i><b>39.8</b> Filters</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="html5-tags.html"><a href="html5-tags.html"><i class="fa fa-check"></i><b>40</b> HTML5 tags</a></li>
<li class="part"><span><b>Part VI - JUnit</b></span></li>
<li class="chapter" data-level="41" data-path="junit-5-basics.html"><a href="junit-5-basics.html"><i class="fa fa-check"></i><b>41</b> JUnit 5 basics</a><ul>
<li class="chapter" data-level="41.1" data-path="junit-5-basics.html"><a href="junit-5-basics.html#introduction-7"><i class="fa fa-check"></i><b>41.1</b> Introduction</a></li>
<li class="chapter" data-level="41.2" data-path="junit-5-basics.html"><a href="junit-5-basics.html#reasons-for-unit-testing"><i class="fa fa-check"></i><b>41.2</b> Reasons for unit testing</a></li>
<li class="chapter" data-level="41.3" data-path="junit-5-basics.html"><a href="junit-5-basics.html#running-junit-5-tests-using-gradle-and-intellij"><i class="fa fa-check"></i><b>41.3</b> Running JUnit 5 tests using Gradle and IntelliJ</a></li>
<li class="chapter" data-level="41.4" data-path="junit-5-basics.html"><a href="junit-5-basics.html#document"><i class="fa fa-check"></i><b>41.4</b> Document!</a></li>
<li class="chapter" data-level="41.5" data-path="junit-5-basics.html"><a href="junit-5-basics.html#junit-assert...-methods"><i class="fa fa-check"></i><b>41.5</b> JUnit <code>assert...()</code> methods</a></li>
<li class="chapter" data-level="41.6" data-path="junit-5-basics.html"><a href="junit-5-basics.html#testing-for-exceptions"><i class="fa fa-check"></i><b>41.6</b> Testing for Exceptions</a></li>
<li class="chapter" data-level="41.7" data-path="junit-5-basics.html"><a href="junit-5-basics.html#grouping-assertions-using-assertall"><i class="fa fa-check"></i><b>41.7</b> Grouping assertions using <code>assertAll()</code></a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="junit-5-advanced-features.html"><a href="junit-5-advanced-features.html"><i class="fa fa-check"></i><b>42</b> JUnit 5 advanced features</a><ul>
<li class="chapter" data-level="42.1" data-path="junit-5-advanced-features.html"><a href="junit-5-advanced-features.html#introduction-8"><i class="fa fa-check"></i><b>42.1</b> Introduction</a></li>
<li class="chapter" data-level="42.2" data-path="junit-5-advanced-features.html"><a href="junit-5-advanced-features.html#junit-5-annotations"><i class="fa fa-check"></i><b>42.2</b> JUnit 5 annotations</a></li>
</ul></li>
<li class="part"><span><b>Part VII - Design</b></span></li>
<li class="chapter" data-level="43" data-path="uml.html"><a href="uml.html"><i class="fa fa-check"></i><b>43</b> UML</a></li>
<li class="chapter" data-level="44" data-path="refactoring.html"><a href="refactoring.html"><i class="fa fa-check"></i><b>44</b> Refactoring</a><ul>
<li class="chapter" data-level="44.1" data-path="refactoring.html"><a href="refactoring.html#introduction-9"><i class="fa fa-check"></i><b>44.1</b> Introduction</a></li>
<li class="chapter" data-level="44.2" data-path="refactoring.html"><a href="refactoring.html#get-to-know-what-is-there"><i class="fa fa-check"></i><b>44.2</b> Get to know what is there</a></li>
<li class="chapter" data-level="44.3" data-path="refactoring.html"><a href="refactoring.html#refactor"><i class="fa fa-check"></i><b>44.3</b> Refactor</a></li>
<li class="chapter" data-level="44.4" data-path="refactoring.html"><a href="refactoring.html#take-over"><i class="fa fa-check"></i><b>44.4</b> Take over</a></li>
</ul></li>
<li class="part"><span><b>Part VIII - Spring Boot</b></span></li>
<li class="chapter" data-level="45" data-path="rest-and-mvc-with-spring.html"><a href="rest-and-mvc-with-spring.html"><i class="fa fa-check"></i><b>45</b> REST and MVC with Spring</a><ul>
<li class="chapter" data-level="45.1" data-path="rest-and-mvc-with-spring.html"><a href="rest-and-mvc-with-spring.html#create-a-new-project"><i class="fa fa-check"></i><b>45.1</b> Create a new project</a></li>
<li class="chapter" data-level="45.2" data-path="rest-and-mvc-with-spring.html"><a href="rest-and-mvc-with-spring.html#create-a-rest-response"><i class="fa fa-check"></i><b>45.2</b> Create a REST response</a></li>
</ul></li>
<li class="chapter" data-level="46" data-path="dependency-injection-in-spring.html"><a href="dependency-injection-in-spring.html"><i class="fa fa-check"></i><b>46</b> Dependency Injection in Spring</a></li>
<li class="chapter" data-level="47" data-path="core-spring-annotations.html"><a href="core-spring-annotations.html"><i class="fa fa-check"></i><b>47</b> Core (Spring) annotations</a><ul>
<li class="chapter" data-level="47.1" data-path="core-spring-annotations.html"><a href="core-spring-annotations.html#generic-annotations"><i class="fa fa-check"></i><b>47.1</b> Generic annotations</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Java Track</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="thymeleaf-flow-control-and-fragments" class="section level1">
<h1><span class="header-section-number">Chapter 33</span> Thymeleaf flow control and fragments</h1>
<div id="introduction-4" class="section level2">
<h2><span class="header-section-number">33.1</span> Introduction</h2>
<p>This post is the second on Thymeleaf. It deals with these templating techniques that Thymeleaf offers:</p>
<ul>
<li>conditionals</li>
<li>loops</li>
<li>using fragments as building blocks</li>
</ul>
<p>For a complete overview you should refer to <a href="https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html" title="Thymeleaf documentation">the official docs</a>.</p>
<p>These examples all make use of the <code>Movie</code> class:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb244-1"><a href="thymeleaf-flow-control-and-fragments.html#cb244-1"></a><span class="kw">public</span> <span class="kw">class</span> Movie {</span>
<span id="cb244-2"><a href="thymeleaf-flow-control-and-fragments.html#cb244-2"></a>    <span class="kw">private</span> <span class="bu">String</span> title;</span>
<span id="cb244-3"><a href="thymeleaf-flow-control-and-fragments.html#cb244-3"></a>    <span class="kw">private</span> <span class="dt">int</span> year;</span>
<span id="cb244-4"><a href="thymeleaf-flow-control-and-fragments.html#cb244-4"></a>    <span class="kw">private</span> <span class="dt">double</span> rating = -<span class="dv">1</span>;</span>
<span id="cb244-5"><a href="thymeleaf-flow-control-and-fragments.html#cb244-5"></a>    <span class="kw">private</span> <span class="bu">Set</span>&lt;<span class="bu">String</span>&gt; mainActors = <span class="kw">new</span> <span class="bu">HashSet</span>&lt;&gt;();</span>
<span id="cb244-6"><a href="thymeleaf-flow-control-and-fragments.html#cb244-6"></a>    <span class="kw">private</span> <span class="dt">static</span> <span class="bu">List</span>&lt;Movie&gt; movies;</span>
<span id="cb244-7"><a href="thymeleaf-flow-control-and-fragments.html#cb244-7"></a></span>
<span id="cb244-8"><a href="thymeleaf-flow-control-and-fragments.html#cb244-8"></a>    <span class="kw">public</span> <span class="fu">Movie</span>() {</span>
<span id="cb244-9"><a href="thymeleaf-flow-control-and-fragments.html#cb244-9"></a>    }</span>
<span id="cb244-10"><a href="thymeleaf-flow-control-and-fragments.html#cb244-10"></a></span>
<span id="cb244-11"><a href="thymeleaf-flow-control-and-fragments.html#cb244-11"></a>    <span class="kw">public</span> <span class="fu">Movie</span>(<span class="bu">String</span> title, <span class="dt">int</span> year) {</span>
<span id="cb244-12"><a href="thymeleaf-flow-control-and-fragments.html#cb244-12"></a>        <span class="kw">this</span>.<span class="fu">title</span> = title;</span>
<span id="cb244-13"><a href="thymeleaf-flow-control-and-fragments.html#cb244-13"></a>        <span class="kw">this</span>.<span class="fu">year</span> = year;</span>
<span id="cb244-14"><a href="thymeleaf-flow-control-and-fragments.html#cb244-14"></a>    }</span>
<span id="cb244-15"><a href="thymeleaf-flow-control-and-fragments.html#cb244-15"></a></span>
<span id="cb244-16"><a href="thymeleaf-flow-control-and-fragments.html#cb244-16"></a>    <span class="kw">public</span> <span class="fu">Movie</span>(<span class="bu">String</span> title, <span class="dt">int</span> year, <span class="dt">double</span> rating) {</span>
<span id="cb244-17"><a href="thymeleaf-flow-control-and-fragments.html#cb244-17"></a>        <span class="kw">this</span>.<span class="fu">title</span> = title;</span>
<span id="cb244-18"><a href="thymeleaf-flow-control-and-fragments.html#cb244-18"></a>        <span class="kw">this</span>.<span class="fu">year</span> = year;</span>
<span id="cb244-19"><a href="thymeleaf-flow-control-and-fragments.html#cb244-19"></a>        <span class="kw">this</span>.<span class="fu">rating</span> = rating;</span>
<span id="cb244-20"><a href="thymeleaf-flow-control-and-fragments.html#cb244-20"></a>    }</span>
<span id="cb244-21"><a href="thymeleaf-flow-control-and-fragments.html#cb244-21"></a></span>
<span id="cb244-22"><a href="thymeleaf-flow-control-and-fragments.html#cb244-22"></a>    <span class="kw">public</span> <span class="fu">Movie</span>(<span class="bu">String</span> title, <span class="dt">int</span> year, <span class="dt">double</span> rating, <span class="bu">List</span>&lt;<span class="bu">String</span>&gt; mainActors) {</span>
<span id="cb244-23"><a href="thymeleaf-flow-control-and-fragments.html#cb244-23"></a>        <span class="kw">this</span>.<span class="fu">title</span> = title;</span>
<span id="cb244-24"><a href="thymeleaf-flow-control-and-fragments.html#cb244-24"></a>        <span class="kw">this</span>.<span class="fu">year</span> = year;</span>
<span id="cb244-25"><a href="thymeleaf-flow-control-and-fragments.html#cb244-25"></a>        <span class="kw">this</span>.<span class="fu">rating</span> = rating;</span>
<span id="cb244-26"><a href="thymeleaf-flow-control-and-fragments.html#cb244-26"></a>        <span class="kw">this</span>.<span class="fu">mainActors</span>.<span class="fu">addAll</span>(mainActors);</span>
<span id="cb244-27"><a href="thymeleaf-flow-control-and-fragments.html#cb244-27"></a>    }</span>
<span id="cb244-28"><a href="thymeleaf-flow-control-and-fragments.html#cb244-28"></a></span>
<span id="cb244-29"><a href="thymeleaf-flow-control-and-fragments.html#cb244-29"></a>    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getTitle</span>() {</span>
<span id="cb244-30"><a href="thymeleaf-flow-control-and-fragments.html#cb244-30"></a>        <span class="kw">return</span> title;</span>
<span id="cb244-31"><a href="thymeleaf-flow-control-and-fragments.html#cb244-31"></a>    }</span>
<span id="cb244-32"><a href="thymeleaf-flow-control-and-fragments.html#cb244-32"></a></span>
<span id="cb244-33"><a href="thymeleaf-flow-control-and-fragments.html#cb244-33"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getYear</span>() {</span>
<span id="cb244-34"><a href="thymeleaf-flow-control-and-fragments.html#cb244-34"></a>        <span class="kw">return</span> year;</span>
<span id="cb244-35"><a href="thymeleaf-flow-control-and-fragments.html#cb244-35"></a>    }</span>
<span id="cb244-36"><a href="thymeleaf-flow-control-and-fragments.html#cb244-36"></a></span>
<span id="cb244-37"><a href="thymeleaf-flow-control-and-fragments.html#cb244-37"></a>    <span class="kw">public</span> <span class="dt">double</span> <span class="fu">getRating</span>() {</span>
<span id="cb244-38"><a href="thymeleaf-flow-control-and-fragments.html#cb244-38"></a>        <span class="kw">return</span> rating;</span>
<span id="cb244-39"><a href="thymeleaf-flow-control-and-fragments.html#cb244-39"></a>    }</span>
<span id="cb244-40"><a href="thymeleaf-flow-control-and-fragments.html#cb244-40"></a></span>
<span id="cb244-41"><a href="thymeleaf-flow-control-and-fragments.html#cb244-41"></a>    <span class="kw">public</span> <span class="bu">List</span>&lt;<span class="bu">String</span>&gt; <span class="fu">getMainActors</span>() {</span>
<span id="cb244-42"><a href="thymeleaf-flow-control-and-fragments.html#cb244-42"></a>        <span class="bu">List</span>&lt;<span class="bu">String</span>&gt; actors = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt;();</span>
<span id="cb244-43"><a href="thymeleaf-flow-control-and-fragments.html#cb244-43"></a>        actors.<span class="fu">addAll</span>(mainActors);</span>
<span id="cb244-44"><a href="thymeleaf-flow-control-and-fragments.html#cb244-44"></a>        actors.<span class="fu">sort</span>(<span class="bu">String</span>::compareTo);</span>
<span id="cb244-45"><a href="thymeleaf-flow-control-and-fragments.html#cb244-45"></a>        <span class="kw">return</span> actors;</span>
<span id="cb244-46"><a href="thymeleaf-flow-control-and-fragments.html#cb244-46"></a>    }</span>
<span id="cb244-47"><a href="thymeleaf-flow-control-and-fragments.html#cb244-47"></a></span>
<span id="cb244-48"><a href="thymeleaf-flow-control-and-fragments.html#cb244-48"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">setRating</span>(<span class="dt">double</span> rating) {</span>
<span id="cb244-49"><a href="thymeleaf-flow-control-and-fragments.html#cb244-49"></a>        <span class="kw">this</span>.<span class="fu">rating</span> = rating;</span>
<span id="cb244-50"><a href="thymeleaf-flow-control-and-fragments.html#cb244-50"></a>    }</span>
<span id="cb244-51"><a href="thymeleaf-flow-control-and-fragments.html#cb244-51"></a></span>
<span id="cb244-52"><a href="thymeleaf-flow-control-and-fragments.html#cb244-52"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">addActor</span>(<span class="bu">String</span> actor) {</span>
<span id="cb244-53"><a href="thymeleaf-flow-control-and-fragments.html#cb244-53"></a>        mainActors.<span class="fu">add</span>(actor);</span>
<span id="cb244-54"><a href="thymeleaf-flow-control-and-fragments.html#cb244-54"></a>    }</span>
<span id="cb244-55"><a href="thymeleaf-flow-control-and-fragments.html#cb244-55"></a></span>
<span id="cb244-56"><a href="thymeleaf-flow-control-and-fragments.html#cb244-56"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="bu">List</span>&lt;Movie&gt; <span class="fu">getAllMovies</span>() {</span>
<span id="cb244-57"><a href="thymeleaf-flow-control-and-fragments.html#cb244-57"></a>        <span class="kw">return</span> Movie.<span class="fu">movies</span>;</span>
<span id="cb244-58"><a href="thymeleaf-flow-control-and-fragments.html#cb244-58"></a>    }</span>
<span id="cb244-59"><a href="thymeleaf-flow-control-and-fragments.html#cb244-59"></a></span>
<span id="cb244-60"><a href="thymeleaf-flow-control-and-fragments.html#cb244-60"></a>    <span class="co">//create a list from IMDB top 20</span></span>
<span id="cb244-61"><a href="thymeleaf-flow-control-and-fragments.html#cb244-61"></a>    <span class="dt">static</span> {</span>
<span id="cb244-62"><a href="thymeleaf-flow-control-and-fragments.html#cb244-62"></a>        <span class="bu">List</span>&lt;Movie&gt; movies = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt;();</span>
<span id="cb244-63"><a href="thymeleaf-flow-control-and-fragments.html#cb244-63"></a>        Movie movie;</span>
<span id="cb244-64"><a href="thymeleaf-flow-control-and-fragments.html#cb244-64"></a>        movie = <span class="kw">new</span> <span class="fu">Movie</span>(<span class="st">&quot;The Shawshank Redemption&quot;</span>, <span class="dv">1994</span>, <span class="fl">9.</span><span class="dv">2</span>, <span class="bu">List</span>.<span class="fu">of</span>(<span class="st">&quot;Tim Robbins&quot;</span>, <span class="st">&quot;Morgan Freeman&quot;</span>));</span>
<span id="cb244-65"><a href="thymeleaf-flow-control-and-fragments.html#cb244-65"></a>        movies.<span class="fu">add</span>(movie);</span>
<span id="cb244-66"><a href="thymeleaf-flow-control-and-fragments.html#cb244-66"></a>        movie = <span class="kw">new</span> <span class="fu">Movie</span>(<span class="st">&quot;The Dark Knight&quot;</span>, <span class="dv">2008</span>, <span class="fl">9.</span><span class="dv">0</span>, <span class="bu">List</span>.<span class="fu">of</span>(<span class="st">&quot;Christian Bale,&quot;</span>, <span class="st">&quot;Heath Ledger&quot;</span>));</span>
<span id="cb244-67"><a href="thymeleaf-flow-control-and-fragments.html#cb244-67"></a>        movies.<span class="fu">add</span>(movie);</span>
<span id="cb244-68"><a href="thymeleaf-flow-control-and-fragments.html#cb244-68"></a>        movie = <span class="kw">new</span> <span class="fu">Movie</span>(<span class="st">&quot;Pulp Fiction&quot;</span>, <span class="dv">1994</span>, <span class="fl">8.</span><span class="dv">9</span>, <span class="bu">List</span>.<span class="fu">of</span>(<span class="st">&quot;John Travolta&quot;</span>, <span class="st">&quot;Uma Thurman&quot;</span>, <span class="st">&quot;Samuel L. Jackson&quot;</span>));</span>
<span id="cb244-69"><a href="thymeleaf-flow-control-and-fragments.html#cb244-69"></a>        movies.<span class="fu">add</span>(movie);</span>
<span id="cb244-70"><a href="thymeleaf-flow-control-and-fragments.html#cb244-70"></a>        movie = <span class="kw">new</span> <span class="fu">Movie</span>(<span class="st">&quot;Fight Club &quot;</span>, <span class="dv">1999</span>, <span class="fl">8.</span><span class="dv">8</span>, <span class="bu">List</span>.<span class="fu">of</span>(<span class="st">&quot;Brad Pitt&quot;</span>, <span class="st">&quot;Edward Norton&quot;</span>));</span>
<span id="cb244-71"><a href="thymeleaf-flow-control-and-fragments.html#cb244-71"></a>        movies.<span class="fu">add</span>(movie);</span>
<span id="cb244-72"><a href="thymeleaf-flow-control-and-fragments.html#cb244-72"></a>        movie = <span class="kw">new</span> <span class="fu">Movie</span>(<span class="st">&quot;Forrest Gump&quot;</span>, <span class="dv">1994</span>, <span class="fl">8.</span><span class="dv">7</span>, <span class="bu">List</span>.<span class="fu">of</span>(<span class="st">&quot;Tom Hanks&quot;</span>, <span class="st">&quot;Robin Wright&quot;</span>, <span class="st">&quot;Gary Sinise&quot;</span>));</span>
<span id="cb244-73"><a href="thymeleaf-flow-control-and-fragments.html#cb244-73"></a>        movies.<span class="fu">add</span>(movie);</span>
<span id="cb244-74"><a href="thymeleaf-flow-control-and-fragments.html#cb244-74"></a>        movie = <span class="kw">new</span> <span class="fu">Movie</span>(<span class="st">&quot;Inception&quot;</span>, <span class="dv">2010</span>, <span class="fl">8.</span><span class="dv">7</span>, <span class="bu">List</span>.<span class="fu">of</span>(<span class="st">&quot;Leonardo DiCaprio&quot;</span>, <span class="st">&quot;Joseph Gordon-Levitt&quot;</span>));</span>
<span id="cb244-75"><a href="thymeleaf-flow-control-and-fragments.html#cb244-75"></a>        movies.<span class="fu">add</span>(movie);</span>
<span id="cb244-76"><a href="thymeleaf-flow-control-and-fragments.html#cb244-76"></a>        movie = <span class="kw">new</span> <span class="fu">Movie</span>(<span class="st">&quot;One Flew Over the Cuckoo&#39;s Nest&quot;</span>, <span class="dv">1975</span>, <span class="fl">8.</span><span class="dv">7</span>, <span class="bu">List</span>.<span class="fu">of</span>(<span class="st">&quot;Jack Nicholson&quot;</span>, <span class="st">&quot;Louise Fletcher&quot;</span>, <span class="st">&quot;Will Sampson&quot;</span>));</span>
<span id="cb244-77"><a href="thymeleaf-flow-control-and-fragments.html#cb244-77"></a>        movies.<span class="fu">add</span>(movie);</span>
<span id="cb244-78"><a href="thymeleaf-flow-control-and-fragments.html#cb244-78"></a>        movie = <span class="kw">new</span> <span class="fu">Movie</span>(<span class="st">&quot;The Usual Suspects&quot;</span>, <span class="dv">1995</span>, <span class="fl">8.</span><span class="dv">5</span>, <span class="bu">List</span>.<span class="fu">of</span>(<span class="st">&quot;Kevin Spacey&quot;</span>, <span class="st">&quot;Gabriel Byrne&quot;</span>, <span class="st">&quot;Chazz Palminteri&quot;</span>));</span>
<span id="cb244-79"><a href="thymeleaf-flow-control-and-fragments.html#cb244-79"></a>        movies.<span class="fu">add</span>(movie);</span>
<span id="cb244-80"><a href="thymeleaf-flow-control-and-fragments.html#cb244-80"></a>        Movie.<span class="fu">movies</span> = movies;</span>
<span id="cb244-81"><a href="thymeleaf-flow-control-and-fragments.html#cb244-81"></a>    }</span>
<span id="cb244-82"><a href="thymeleaf-flow-control-and-fragments.html#cb244-82"></a>}</span></code></pre></div>
<p>The list of movies is attached to the WebContxt object using</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb245-1"><a href="thymeleaf-flow-control-and-fragments.html#cb245-1"></a>ctx.<span class="fu">setVariable</span>(<span class="st">&quot;movies&quot;</span>, Movie.<span class="fu">getAllMovies</span>());</span></code></pre></div>
<p>so for all examples the <code>$movies</code> variable is available.</p>
<div id="iteration" class="section level3">
<h3><span class="header-section-number">33.1.1</span> Iteration</h3>
<p>Iteration with Thymeleaf is as simple as in Java code; simply use <code>th:each</code>.
This is an example with the movies list:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb246-1"><a href="thymeleaf-flow-control-and-fragments.html#cb246-1"></a><span class="kw">&lt;table&gt;</span></span>
<span id="cb246-2"><a href="thymeleaf-flow-control-and-fragments.html#cb246-2"></a>    <span class="kw">&lt;thead&gt;</span></span>
<span id="cb246-3"><a href="thymeleaf-flow-control-and-fragments.html#cb246-3"></a>    <span class="kw">&lt;tr&gt;</span></span>
<span id="cb246-4"><a href="thymeleaf-flow-control-and-fragments.html#cb246-4"></a>        <span class="kw">&lt;th&gt;</span>Title<span class="kw">&lt;/th&gt;</span></span>
<span id="cb246-5"><a href="thymeleaf-flow-control-and-fragments.html#cb246-5"></a>        <span class="kw">&lt;th&gt;</span>Year of release<span class="kw">&lt;/th&gt;</span></span>
<span id="cb246-6"><a href="thymeleaf-flow-control-and-fragments.html#cb246-6"></a>        <span class="kw">&lt;th&gt;</span>IMDB rating<span class="kw">&lt;/th&gt;</span></span>
<span id="cb246-7"><a href="thymeleaf-flow-control-and-fragments.html#cb246-7"></a>    <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb246-8"><a href="thymeleaf-flow-control-and-fragments.html#cb246-8"></a>    <span class="kw">&lt;/thead&gt;</span></span>
<span id="cb246-9"><a href="thymeleaf-flow-control-and-fragments.html#cb246-9"></a>    <span class="kw">&lt;tbody&gt;</span></span>
<span id="cb246-10"><a href="thymeleaf-flow-control-and-fragments.html#cb246-10"></a>    <span class="kw">&lt;tr</span><span class="ot"> th:each=</span><span class="st">&quot;movie:${movies}&quot;</span><span class="kw">&gt;</span></span>
<span id="cb246-11"><a href="thymeleaf-flow-control-and-fragments.html#cb246-11"></a>        <span class="kw">&lt;td</span><span class="ot"> th:text=</span><span class="st">&quot;${movie.title}&quot;</span><span class="kw">&gt;</span>_title_<span class="kw">&lt;/td&gt;</span></span>
<span id="cb246-12"><a href="thymeleaf-flow-control-and-fragments.html#cb246-12"></a>        <span class="kw">&lt;td</span><span class="ot"> th:text=</span><span class="st">&quot;${movie.year}&quot;</span><span class="kw">&gt;</span>_year_<span class="kw">&lt;/td&gt;</span></span>
<span id="cb246-13"><a href="thymeleaf-flow-control-and-fragments.html#cb246-13"></a>        <span class="kw">&lt;td</span><span class="ot"> th:text=</span><span class="st">&quot;${movie.rating}&quot;</span><span class="kw">&gt;</span>_rating_<span class="kw">&lt;/td&gt;</span></span>
<span id="cb246-14"><a href="thymeleaf-flow-control-and-fragments.html#cb246-14"></a>    <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb246-15"><a href="thymeleaf-flow-control-and-fragments.html#cb246-15"></a>    <span class="kw">&lt;/tbody&gt;</span></span>
<span id="cb246-16"><a href="thymeleaf-flow-control-and-fragments.html#cb246-16"></a><span class="kw">&lt;/table&gt;</span></span></code></pre></div>
<p>Alternatively, you can use the <strong><em>local scope</em></strong> syntax:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb247-1"><a href="thymeleaf-flow-control-and-fragments.html#cb247-1"></a>    <span class="kw">&lt;tr</span><span class="ot"> th:each=</span><span class="st">&quot;movie:${movies}&quot;</span><span class="ot"> th:object=</span><span class="st">&quot;${movie}&quot;</span><span class="kw">&gt;</span></span>
<span id="cb247-2"><a href="thymeleaf-flow-control-and-fragments.html#cb247-2"></a>        <span class="kw">&lt;td</span><span class="ot"> th:text=</span><span class="st">&quot;*{title}&quot;</span><span class="kw">&gt;</span>_title_<span class="kw">&lt;/td&gt;</span></span>
<span id="cb247-3"><a href="thymeleaf-flow-control-and-fragments.html#cb247-3"></a>        <span class="kw">&lt;td</span><span class="ot"> th:text=</span><span class="st">&quot;*{year}&quot;</span><span class="kw">&gt;</span>_year_<span class="kw">&lt;/td&gt;</span></span>
<span id="cb247-4"><a href="thymeleaf-flow-control-and-fragments.html#cb247-4"></a>        <span class="kw">&lt;td</span><span class="ot"> th:text=</span><span class="st">&quot;*{rating}&quot;</span><span class="kw">&gt;</span>_rating_<span class="kw">&lt;/td&gt;</span></span>
<span id="cb247-5"><a href="thymeleaf-flow-control-and-fragments.html#cb247-5"></a>    <span class="kw">&lt;/tr&gt;</span></span></code></pre></div>
<p>both of which result in this table:</p>
<table>
<thead>
<tr>
<th>
Title
</th>
<th>
Year of release
</th>
<th>
IMDB rating
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
The Shawshank Redemption
</td>
<td>
1994
</td>
<td>
9.2
</td>
</tr>
<tr>
<td>
The Dark Knight
</td>
<td>
2008
</td>
<td>
9.0
</td>
</tr>
<tr>
<td>
Pulp Fiction
</td>
<td>
1994
</td>
<td>
8.9
</td>
</tr>
<tr>
<td>
Fight Club
</td>
<td>
1999
</td>
<td>
8.8
</td>
</tr>
<tr>
<td>
Forrest Gump
</td>
<td>
1994
</td>
<td>
8.7
</td>
</tr>
<tr>
<td>
Inception
</td>
<td>
2010
</td>
<td>
8.7
</td>
</tr>
<tr>
<td>
One Flew Over the Cuckoo’s Nest
</td>
<td>
1975
</td>
<td>
8.7
</td>
</tr>
<tr>
<td>
The Usual Suspects
</td>
<td>
1995
</td>
<td>
8.5
</td>
</tr>
</tbody>
</table>
<p>You can also sort stuff in Thymeleaf. Given an extra model parameter passed from the servlet, and the utility object <code>#lists</code>.<br />
Of course, sorting is something you usually leave to your Javascript front-end (Datatables.js). But there are uses for it, and this prevents you from attaching the same list twice to the WebContext object.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb248-1"><a href="thymeleaf-flow-control-and-fragments.html#cb248-1"></a><span class="co">//java 8+ type Comparator</span></span>
<span id="cb248-2"><a href="thymeleaf-flow-control-and-fragments.html#cb248-2"></a>ctx.<span class="fu">setVariable</span>(<span class="st">&quot;movies_year_sorter&quot;</span>, (<span class="bu">Comparator</span>&lt;Movie&gt;) (o1, o2) -&gt; <span class="bu">Integer</span>.<span class="fu">compare</span>(o1.<span class="fu">getYear</span>(), o2.<span class="fu">getYear</span>()));</span>
<span id="cb248-3"><a href="thymeleaf-flow-control-and-fragments.html#cb248-3"></a></span>
<span id="cb248-4"><a href="thymeleaf-flow-control-and-fragments.html#cb248-4"></a><span class="co">//or, a pre-java 8 Comparator</span></span>
<span id="cb248-5"><a href="thymeleaf-flow-control-and-fragments.html#cb248-5"></a>ctx.<span class="fu">setVariable</span>(<span class="st">&quot;movies_year_sorter&quot;</span>, <span class="kw">new</span> <span class="bu">Comparator</span>&lt;Movie&gt;() {</span>
<span id="cb248-6"><a href="thymeleaf-flow-control-and-fragments.html#cb248-6"></a>    <span class="at">@Override</span></span>
<span id="cb248-7"><a href="thymeleaf-flow-control-and-fragments.html#cb248-7"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">compare</span>(Movie m1, Movie m2) {</span>
<span id="cb248-8"><a href="thymeleaf-flow-control-and-fragments.html#cb248-8"></a>        <span class="kw">return</span> <span class="bu">Integer</span>.<span class="fu">compare</span>(m1.<span class="fu">getYear</span>(), m2.<span class="fu">getYear</span>());</span>
<span id="cb248-9"><a href="thymeleaf-flow-control-and-fragments.html#cb248-9"></a>    }</span>
<span id="cb248-10"><a href="thymeleaf-flow-control-and-fragments.html#cb248-10"></a>});</span></code></pre></div>
<p>then in Thymeleaf, use the Comparator object:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb249-1"><a href="thymeleaf-flow-control-and-fragments.html#cb249-1"></a><span class="kw">&lt;tr</span><span class="ot"> th:each=</span><span class="st">&quot;movie:${#lists.sort(movies, movies_year_sorter)}&quot;</span><span class="kw">&gt;</span></span></code></pre></div>
<p>Thymeleaf also provides a mechanism that stores the state of the iteration process. It has several useful properties:</p>
<ul>
<li><code>index</code>: the current iteration index, starting with 0 (zero)<br />
</li>
<li><code>count</code>: the number of elements processed so far<br />
</li>
<li><code>size</code>: the total number of elements in the list<br />
</li>
<li><code>even/odd</code>: boolean - true if the current iteration index is even or odd<br />
</li>
<li><code>first</code>: boolean - true if the current iteration is the first one<br />
</li>
<li><code>last</code>: boolean - true if the current iteration is the last one</li>
</ul>
<p>The next piece of code demonstrates the use of this iteration statistics object, as well as another technique: the if/else ternary operator for Thymeleaf. This example shows you can even nest these.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb250-1"><a href="thymeleaf-flow-control-and-fragments.html#cb250-1"></a><span class="kw">&lt;table&gt;</span></span>
<span id="cb250-2"><a href="thymeleaf-flow-control-and-fragments.html#cb250-2"></a>    <span class="kw">&lt;thead&gt;</span></span>
<span id="cb250-3"><a href="thymeleaf-flow-control-and-fragments.html#cb250-3"></a>    <span class="kw">&lt;tr&gt;</span></span>
<span id="cb250-4"><a href="thymeleaf-flow-control-and-fragments.html#cb250-4"></a>        <span class="kw">&lt;th&gt;</span>Pos<span class="kw">&lt;/th&gt;</span></span>
<span id="cb250-5"><a href="thymeleaf-flow-control-and-fragments.html#cb250-5"></a>        <span class="kw">&lt;th&gt;</span>Title<span class="kw">&lt;/th&gt;</span></span>
<span id="cb250-6"><a href="thymeleaf-flow-control-and-fragments.html#cb250-6"></a>        <span class="kw">&lt;th&gt;</span>Year of release<span class="kw">&lt;/th&gt;</span></span>
<span id="cb250-7"><a href="thymeleaf-flow-control-and-fragments.html#cb250-7"></a>        <span class="kw">&lt;th&gt;</span>IMDB rating<span class="kw">&lt;/th&gt;</span></span>
<span id="cb250-8"><a href="thymeleaf-flow-control-and-fragments.html#cb250-8"></a>    <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb250-9"><a href="thymeleaf-flow-control-and-fragments.html#cb250-9"></a>    <span class="kw">&lt;/thead&gt;</span></span>
<span id="cb250-10"><a href="thymeleaf-flow-control-and-fragments.html#cb250-10"></a>    <span class="kw">&lt;tbody&gt;</span></span>
<span id="cb250-11"><a href="thymeleaf-flow-control-and-fragments.html#cb250-11"></a>    <span class="kw">&lt;tr</span><span class="ot"> th:each=</span><span class="st">&quot;movie, it_stat:${movies}&quot;</span> </span>
<span id="cb250-12"><a href="thymeleaf-flow-control-and-fragments.html#cb250-12"></a><span class="ot">        th:class=</span><span class="st">&quot;${it_stat.first} ? &#39;first&#39; : (${it_stat.even} ? &#39;even&#39; : &#39;odd&#39;)&quot;</span><span class="kw">&gt;</span></span>
<span id="cb250-13"><a href="thymeleaf-flow-control-and-fragments.html#cb250-13"></a>        <span class="kw">&lt;td</span><span class="ot"> th:text=</span><span class="st">&quot;${it_stat.count} + &#39; / &#39; + ${it_stat.size}&quot;</span><span class="kw">&gt;&lt;/td&gt;</span></span>
<span id="cb250-14"><a href="thymeleaf-flow-control-and-fragments.html#cb250-14"></a>        <span class="kw">&lt;td</span><span class="ot"> th:text=</span><span class="st">&quot;${movie.title}&quot;</span><span class="kw">&gt;</span>_title_<span class="kw">&lt;/td&gt;</span></span>
<span id="cb250-15"><a href="thymeleaf-flow-control-and-fragments.html#cb250-15"></a>        <span class="kw">&lt;td</span><span class="ot"> th:text=</span><span class="st">&quot;${movie.year}&quot;</span><span class="kw">&gt;</span>_year_<span class="kw">&lt;/td&gt;</span></span>
<span id="cb250-16"><a href="thymeleaf-flow-control-and-fragments.html#cb250-16"></a>        <span class="kw">&lt;td</span><span class="ot"> th:text=</span><span class="st">&quot;${movie.rating}&quot;</span><span class="kw">&gt;</span>_rating_<span class="kw">&lt;/td&gt;</span></span>
<span id="cb250-17"><a href="thymeleaf-flow-control-and-fragments.html#cb250-17"></a>    <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb250-18"><a href="thymeleaf-flow-control-and-fragments.html#cb250-18"></a>    <span class="kw">&lt;/tbody&gt;</span></span>
<span id="cb250-19"><a href="thymeleaf-flow-control-and-fragments.html#cb250-19"></a><span class="kw">&lt;/table&gt;</span></span></code></pre></div>
<p>when this css is applied:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb251-1"><a href="thymeleaf-flow-control-and-fragments.html#cb251-1"></a><span class="fu">.even</span> {</span>
<span id="cb251-2"><a href="thymeleaf-flow-control-and-fragments.html#cb251-2"></a>    <span class="kw">background-color</span>: <span class="cn">aliceblue</span> <span class="at">!important</span><span class="op">;</span></span>
<span id="cb251-3"><a href="thymeleaf-flow-control-and-fragments.html#cb251-3"></a>}</span>
<span id="cb251-4"><a href="thymeleaf-flow-control-and-fragments.html#cb251-4"></a><span class="fu">.odd</span> {</span>
<span id="cb251-5"><a href="thymeleaf-flow-control-and-fragments.html#cb251-5"></a>    <span class="kw">background-color</span>: <span class="cn">lightcyan</span> <span class="at">!important</span><span class="op">;</span></span>
<span id="cb251-6"><a href="thymeleaf-flow-control-and-fragments.html#cb251-6"></a>}</span>
<span id="cb251-7"><a href="thymeleaf-flow-control-and-fragments.html#cb251-7"></a><span class="fu">.first</span> {</span>
<span id="cb251-8"><a href="thymeleaf-flow-control-and-fragments.html#cb251-8"></a>    <span class="kw">background-color</span>: <span class="cn">coral</span> <span class="at">!important</span><span class="op">;</span></span>
<span id="cb251-9"><a href="thymeleaf-flow-control-and-fragments.html#cb251-9"></a>}</span></code></pre></div>
<p>this is the result:</p>
<table>
<thead>
<tr>
<th>
Pos
</th>
<th>
Title
</th>
<th>
Year of release
</th>
<th>
IMDB rating
</th>
</tr>
</thead>
<tbody>
<tr class="first">
<td>
1 / 8
</td>
<td>
The Shawshank Redemption
</td>
<td>
1994
</td>
<td>
9.2
</td>
</tr>
<tr class="even">
<td>
2 / 8
</td>
<td>
The Dark Knight
</td>
<td>
2008
</td>
<td>
9.0
</td>
</tr>
<tr class="odd">
<td>
3 / 8
</td>
<td>
Pulp Fiction
</td>
<td>
1994
</td>
<td>
8.9
</td>
</tr>
<tr class="even">
<td>
4 / 8
</td>
<td>
Fight Club
</td>
<td>
1999
</td>
<td>
8.8
</td>
</tr>
<tr class="odd">
<td>
5 / 8
</td>
<td>
Forrest Gump
</td>
<td>
1994
</td>
<td>
8.7
</td>
</tr>
<tr class="even">
<td>
6 / 8
</td>
<td>
Inception
</td>
<td>
2010
</td>
<td>
8.7
</td>
</tr>
<tr class="odd">
<td>
7 / 8
</td>
<td>
One Flew Over the Cuckoo’s Nest
</td>
<td>
1975
</td>
<td>
8.7
</td>
</tr>
<tr class="even">
<td>
8 / 8
</td>
<td>
The Usual Suspects
</td>
<td>
1995
</td>
<td>
8.5
</td>
</tr>
</tbody>
</table>
<p>There is a lot going on in this statement:<br />
<code>&lt;tr th:each="movie, it_stat:${movies}"</code><br />
<code>th:class="${it_stat.first} ? 'first' : (${it_stat.even} ? 'even' : 'odd')"&gt;</code>.
Let’s dissect.</p>
<p>First there is the iteration initialization where an <code>it_stat</code> object is requested as well: <code>th:each="movie, it_stat:${movies}"</code>. In the second part, a nested ternary statement sets the <code>class</code> attribute of the current row. The first level determines the first row: <code>th:class="${it_stat.first} ? 'first' : (&lt;nested ternary&gt;)"</code>. The nested ternary determines the class of all rows except the first: <code>${it_stat.even} ? 'even' : 'odd'</code>.</p>
</div>
<div id="conditionals-if-and-thblock" class="section level3">
<h3><span class="header-section-number">33.1.2</span> Conditionals: if (and th:block)</h3>
<p>Besides the ternary operator structure shown in the previous section, regular “if” tests can be applied. Here is a test for the rating of the movie; only movies with a rating higher than 9 are displayed:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb252-1"><a href="thymeleaf-flow-control-and-fragments.html#cb252-1"></a><span class="kw">&lt;ul&gt;</span></span>
<span id="cb252-2"><a href="thymeleaf-flow-control-and-fragments.html#cb252-2"></a>    <span class="kw">&lt;li</span><span class="ot"> th:each=</span><span class="st">&quot;movie:${movies}&quot;</span> </span>
<span id="cb252-3"><a href="thymeleaf-flow-control-and-fragments.html#cb252-3"></a><span class="ot">        th:text=</span><span class="st">&quot;${movie.title} + &#39; (&#39; + ${movie.year} + &#39;) - &#39; + ${movie.rating}&quot;</span> </span>
<span id="cb252-4"><a href="thymeleaf-flow-control-and-fragments.html#cb252-4"></a><span class="ot">        th:if=</span><span class="st">&quot;${movie.rating &gt;= 9}&quot;</span><span class="kw">&gt;</span>_movie_<span class="kw">&lt;/li&gt;</span></span>
<span id="cb252-5"><a href="thymeleaf-flow-control-and-fragments.html#cb252-5"></a><span class="kw">&lt;/ul&gt;</span></span></code></pre></div>
<p>The specified expression evaluates to a boolean following these rules:</p>
<p><strong><em>test evaluates to <code>true</code> if value is not <code>null</code> and value is</em></strong></p>
<ul>
<li>a boolean and is true</li>
<li>a number and is non-zero</li>
<li>a character and is non-zero</li>
<li>a String and is not “false”, “off” or “no”</li>
<li>not a boolean, a number, a character or a String</li>
</ul>
<p>The Thymeleaf <code>th:if</code> attribute has an inverse attribute, <code>th:unless</code>.
This makes an if/else-like structure possible. Here, you see it in combination with <code>th:block</code> which is a handy Thymeleaf element which does not generate a html DOM element. Using th:block prevents excessive use of nested div and span elements.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb253-1"><a href="thymeleaf-flow-control-and-fragments.html#cb253-1"></a><span class="kw">&lt;ul&gt;</span></span>
<span id="cb253-2"><a href="thymeleaf-flow-control-and-fragments.html#cb253-2"></a>    <span class="kw">&lt;th:block</span><span class="ot"> th:each=</span><span class="st">&quot;movie : ${movies}&quot;</span><span class="kw">&gt;</span></span>
<span id="cb253-3"><a href="thymeleaf-flow-control-and-fragments.html#cb253-3"></a>        <span class="kw">&lt;li</span><span class="ot"> th:if=</span><span class="st">&quot;${movie.rating &gt;= 9}&quot;</span><span class="ot"> th:text=</span><span class="st">&quot;${movie.title} + &#39; - &#39; + ${movie.rating} + &#39; - WOW!&#39;&quot;</span> <span class="kw">&gt;&lt;/li&gt;</span></span>
<span id="cb253-4"><a href="thymeleaf-flow-control-and-fragments.html#cb253-4"></a>        <span class="kw">&lt;li</span><span class="ot"> th:unless=</span><span class="st">&quot;${movie.rating &gt;= 9}&quot;</span><span class="ot"> th:text=</span><span class="st">&quot;${movie.title} + &#39; - &#39; + ${movie.rating} + &#39; - JUST OK&#39;&quot;</span> <span class="kw">&gt;&lt;/li&gt;</span></span>
<span id="cb253-5"><a href="thymeleaf-flow-control-and-fragments.html#cb253-5"></a>    <span class="kw">&lt;/th:block&gt;</span></span>
<span id="cb253-6"><a href="thymeleaf-flow-control-and-fragments.html#cb253-6"></a><span class="kw">&lt;/ul&gt;</span></span></code></pre></div>
</div>
<div id="conditionals-switch" class="section level3">
<h3><span class="header-section-number">33.1.3</span> Conditionals: switch</h3>
<p>Here you see a combination of iteration and switch/case to build an ordered list.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb254-1"><a href="thymeleaf-flow-control-and-fragments.html#cb254-1"></a><span class="kw">&lt;ol&gt;</span></span>
<span id="cb254-2"><a href="thymeleaf-flow-control-and-fragments.html#cb254-2"></a>    <span class="kw">&lt;li</span><span class="ot"> th:each=</span><span class="st">&quot;user:${users}&quot;</span><span class="ot"> th:switch=</span><span class="st">&quot;${user.role.toString()}&quot;</span><span class="kw">&gt;</span></span>
<span id="cb254-3"><a href="thymeleaf-flow-control-and-fragments.html#cb254-3"></a>        <span class="kw">&lt;span</span><span class="ot"> th:case=</span><span class="st">&quot;${&#39;ADMIN&#39;}&quot;</span> </span>
<span id="cb254-4"><a href="thymeleaf-flow-control-and-fragments.html#cb254-4"></a><span class="ot">            th:text=</span><span class="st">&quot;${user.name} + &#39; (&#39; + ${user.role} + &#39;) manages all accounts&#39;&quot;</span><span class="kw">&gt;</span>_admin_<span class="kw">&lt;/span&gt;</span></span>
<span id="cb254-5"><a href="thymeleaf-flow-control-and-fragments.html#cb254-5"></a>        <span class="kw">&lt;span</span><span class="ot"> th:case=</span><span class="st">&quot;${&#39;USER&#39;}&quot;</span> </span>
<span id="cb254-6"><a href="thymeleaf-flow-control-and-fragments.html#cb254-6"></a><span class="ot">            th:text=</span><span class="st">&quot;${user.name} + &#39; (&#39; + ${user.role} + &#39;) can browse and share all site content&#39;&quot;</span><span class="kw">&gt;</span>_user_<span class="kw">&lt;/span&gt;</span></span>
<span id="cb254-7"><a href="thymeleaf-flow-control-and-fragments.html#cb254-7"></a>        <span class="kw">&lt;span</span><span class="ot"> th:case=</span><span class="st">&quot;${&#39;GUEST&#39;}&quot;</span> </span>
<span id="cb254-8"><a href="thymeleaf-flow-control-and-fragments.html#cb254-8"></a><span class="ot">            th:text=</span><span class="st">&quot;${user.name} + &#39; (&#39; + ${user.role} + &#39;) can only see our front page&#39;&quot;</span><span class="kw">&gt;</span>_guest_<span class="kw">&lt;/span&gt;</span></span>
<span id="cb254-9"><a href="thymeleaf-flow-control-and-fragments.html#cb254-9"></a>        <span class="kw">&lt;span</span><span class="ot"> th:case=</span><span class="st">&quot;*&quot;</span> </span>
<span id="cb254-10"><a href="thymeleaf-flow-control-and-fragments.html#cb254-10"></a><span class="ot">            th:text=</span><span class="st">&quot;${user.name} + &#39;(&#39; + ${user.role} + &#39;) we do not know this role&#39;&quot;</span><span class="kw">&gt;</span>_unknown_<span class="kw">&lt;/span&gt;</span></span>
<span id="cb254-11"><a href="thymeleaf-flow-control-and-fragments.html#cb254-11"></a>    <span class="kw">&lt;/li&gt;</span></span>
<span id="cb254-12"><a href="thymeleaf-flow-control-and-fragments.html#cb254-12"></a><span class="kw">&lt;/ol&gt;</span></span></code></pre></div>
<p>The <code>th:switch</code> expression selects the User role (an enum) in each loop iteration, takes its String representation and compares this to a string literal in each <code>th:case</code>. Only the <code>th:case</code> that matches will be evaluated. When no match is found, the <em>default</em> is evaluated, specified with <code>th:case="*"</code>. The result when applied to this list of User instances:</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb255-1"><a href="thymeleaf-flow-control-and-fragments.html#cb255-1"></a><span class="bu">List</span>&lt;User&gt; users = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt;();</span>
<span id="cb255-2"><a href="thymeleaf-flow-control-and-fragments.html#cb255-2"></a>User u;</span>
<span id="cb255-3"><a href="thymeleaf-flow-control-and-fragments.html#cb255-3"></a>u = <span class="kw">new</span> <span class="fu">User</span>(<span class="st">&quot;Hank&quot;</span>, <span class="st">&quot;henk@example.com&quot;</span>, <span class="bu">Role</span>.<span class="fu">ADMIN</span>);</span>
<span id="cb255-4"><a href="thymeleaf-flow-control-and-fragments.html#cb255-4"></a>users.<span class="fu">add</span>(u);</span>
<span id="cb255-5"><a href="thymeleaf-flow-control-and-fragments.html#cb255-5"></a>u = <span class="kw">new</span> <span class="fu">User</span>(<span class="st">&quot;Roger&quot;</span>, <span class="st">&quot;roger@example.com&quot;</span>, <span class="bu">Role</span>.<span class="fu">USER</span>);</span>
<span id="cb255-6"><a href="thymeleaf-flow-control-and-fragments.html#cb255-6"></a>users.<span class="fu">add</span>(u);</span>
<span id="cb255-7"><a href="thymeleaf-flow-control-and-fragments.html#cb255-7"></a>u = <span class="kw">new</span> <span class="fu">User</span>(<span class="st">&quot;Diana&quot;</span>, <span class="st">&quot;diana@example.com&quot;</span>, <span class="bu">Role</span>.<span class="fu">GUEST</span>);</span>
<span id="cb255-8"><a href="thymeleaf-flow-control-and-fragments.html#cb255-8"></a>users.<span class="fu">add</span>(u);</span></code></pre></div>
<p>is this:</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb256-1"><a href="thymeleaf-flow-control-and-fragments.html#cb256-1"></a><span class="kw">&lt;ol&gt;</span></span>
<span id="cb256-2"><a href="thymeleaf-flow-control-and-fragments.html#cb256-2"></a>    <span class="kw">&lt;li&gt;</span></span>
<span id="cb256-3"><a href="thymeleaf-flow-control-and-fragments.html#cb256-3"></a>        <span class="kw">&lt;span&gt;</span>Hank (ADMIN) manages all accounts<span class="kw">&lt;/span&gt;</span></span>
<span id="cb256-4"><a href="thymeleaf-flow-control-and-fragments.html#cb256-4"></a>    <span class="kw">&lt;/li&gt;</span></span>
<span id="cb256-5"><a href="thymeleaf-flow-control-and-fragments.html#cb256-5"></a>    <span class="kw">&lt;li&gt;</span></span>
<span id="cb256-6"><a href="thymeleaf-flow-control-and-fragments.html#cb256-6"></a>        <span class="kw">&lt;span&gt;</span>Roger (USER) can browse and share all site content<span class="kw">&lt;/span&gt;</span></span>
<span id="cb256-7"><a href="thymeleaf-flow-control-and-fragments.html#cb256-7"></a>    <span class="kw">&lt;/li&gt;</span></span>
<span id="cb256-8"><a href="thymeleaf-flow-control-and-fragments.html#cb256-8"></a>    <span class="kw">&lt;li&gt;</span></span>
<span id="cb256-9"><a href="thymeleaf-flow-control-and-fragments.html#cb256-9"></a>        <span class="kw">&lt;span&gt;</span>Diana (GUEST) can only see our front page<span class="kw">&lt;/span&gt;</span></span>
<span id="cb256-10"><a href="thymeleaf-flow-control-and-fragments.html#cb256-10"></a>    <span class="kw">&lt;/li&gt;</span></span>
<span id="cb256-11"><a href="thymeleaf-flow-control-and-fragments.html#cb256-11"></a><span class="kw">&lt;/ol&gt;</span></span></code></pre></div>
<p>Note that with just one <code>th:case</code>, you can put everything within a single <code>li</code> tag - no need for the <code>span</code>.</p>
</div>
</div>
<div id="working-with-fragments" class="section level2">
<h2><span class="header-section-number">33.2</span> Working with fragments</h2>
<p>Parts of your pages will be reused over multiple other pages. Specifically, this is the case for banners, footers, menus and headers. Instead of copy-and-paste, Thymeleaf offers a nice mechanism for reusing page fragments - even conditionally! The strategy of choice here is to create a single Thymeleaf html page called “template” or “fragments” and to include elements of this page in others.
Consider this html file called <code>template.html</code>:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb257-1"><a href="thymeleaf-flow-control-and-fragments.html#cb257-1"></a><span class="dt">&lt;!DOCTYPE </span>html SYSTEM &quot;http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd&quot;<span class="dt">&gt;</span></span>
<span id="cb257-2"><a href="thymeleaf-flow-control-and-fragments.html#cb257-2"></a></span>
<span id="cb257-3"><a href="thymeleaf-flow-control-and-fragments.html#cb257-3"></a><span class="kw">&lt;html</span><span class="ot"> xmlns=</span><span class="st">&quot;http://www.w3.org/1999/xhtml&quot;</span></span>
<span id="cb257-4"><a href="thymeleaf-flow-control-and-fragments.html#cb257-4"></a><span class="ot">      xmlns:th=</span><span class="st">&quot;http://www.thymeleaf.org&quot;</span><span class="kw">&gt;</span></span>
<span id="cb257-5"><a href="thymeleaf-flow-control-and-fragments.html#cb257-5"></a><span class="kw">&lt;head</span><span class="ot"> th:fragment=</span><span class="st">&quot;headerFragment&quot;</span><span class="kw">&gt;</span></span>
<span id="cb257-6"><a href="thymeleaf-flow-control-and-fragments.html#cb257-6"></a>    <span class="kw">&lt;meta</span><span class="ot"> http-equiv=</span><span class="st">&quot;Content-Type&quot;</span><span class="ot"> content=</span><span class="st">&quot;text/html; charset=UTF-8&quot;</span><span class="kw">/&gt;</span></span>
<span id="cb257-7"><a href="thymeleaf-flow-control-and-fragments.html#cb257-7"></a>    <span class="kw">&lt;title&gt;</span>_TITLE_<span class="kw">&lt;/title&gt;</span></span>
<span id="cb257-8"><a href="thymeleaf-flow-control-and-fragments.html#cb257-8"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> th:href=</span><span class="st">&quot;@{/css/main.css}&quot;</span><span class="ot"> href=</span><span class="st">&quot;../../css/main.css&quot;</span><span class="kw">&gt;</span></span>
<span id="cb257-9"><a href="thymeleaf-flow-control-and-fragments.html#cb257-9"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb257-10"><a href="thymeleaf-flow-control-and-fragments.html#cb257-10"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb257-11"><a href="thymeleaf-flow-control-and-fragments.html#cb257-11"></a></span>
<span id="cb257-12"><a href="thymeleaf-flow-control-and-fragments.html#cb257-12"></a>    <span class="kw">&lt;div</span><span class="ot"> th:fragment=</span><span class="st">&quot;banner&quot;</span><span class="kw">&gt;</span></span>
<span id="cb257-13"><a href="thymeleaf-flow-control-and-fragments.html#cb257-13"></a>        <span class="kw">&lt;img</span><span class="ot"> id=</span><span class="st">&quot;logo&quot;</span><span class="ot"> th:src=</span><span class="st">&quot;@{/graphics/Awesome.png}&quot;</span><span class="ot"> src=</span><span class="st">&quot;../../graphics/Awesome.png&quot;</span><span class="ot"> alt=</span><span class="st">&quot;banner pic&quot;</span><span class="kw">/&gt;</span></span>
<span id="cb257-14"><a href="thymeleaf-flow-control-and-fragments.html#cb257-14"></a>        <span class="kw">&lt;h1</span><span class="ot"> id=</span><span class="st">&quot;banner_title&quot;</span><span class="kw">&gt;</span>Welcome, ye of lesser quality<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb257-15"><a href="thymeleaf-flow-control-and-fragments.html#cb257-15"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb257-16"><a href="thymeleaf-flow-control-and-fragments.html#cb257-16"></a></span>
<span id="cb257-17"><a href="thymeleaf-flow-control-and-fragments.html#cb257-17"></a>    <span class="co">&lt;!--these can be conditionally selected--&gt;</span></span>
<span id="cb257-18"><a href="thymeleaf-flow-control-and-fragments.html#cb257-18"></a>    <span class="kw">&lt;div</span><span class="ot"> th:fragment=</span><span class="st">&quot;menu&quot;</span><span class="ot"> class=</span><span class="st">&quot;admin&quot;</span><span class="kw">&gt;</span></span>
<span id="cb257-19"><a href="thymeleaf-flow-control-and-fragments.html#cb257-19"></a>        <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;#&quot;</span><span class="kw">&gt;</span>my secret content<span class="kw">&lt;/a&gt;</span></span>
<span id="cb257-20"><a href="thymeleaf-flow-control-and-fragments.html#cb257-20"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb257-21"><a href="thymeleaf-flow-control-and-fragments.html#cb257-21"></a>    <span class="kw">&lt;div</span><span class="ot"> th:fragment=</span><span class="st">&quot;menu&quot;</span><span class="ot"> class=</span><span class="st">&quot;normaluser&quot;</span><span class="kw">&gt;</span></span>
<span id="cb257-22"><a href="thymeleaf-flow-control-and-fragments.html#cb257-22"></a>        <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;#&quot;</span><span class="kw">&gt;</span>my regular content<span class="kw">&lt;/a&gt;</span></span>
<span id="cb257-23"><a href="thymeleaf-flow-control-and-fragments.html#cb257-23"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb257-24"><a href="thymeleaf-flow-control-and-fragments.html#cb257-24"></a></span>
<span id="cb257-25"><a href="thymeleaf-flow-control-and-fragments.html#cb257-25"></a>    <span class="kw">&lt;div&gt;</span></span>
<span id="cb257-26"><a href="thymeleaf-flow-control-and-fragments.html#cb257-26"></a>        <span class="kw">&lt;h2&gt;</span>Template layout<span class="kw">&lt;/h2&gt;</span></span>
<span id="cb257-27"><a href="thymeleaf-flow-control-and-fragments.html#cb257-27"></a>        <span class="kw">&lt;p&gt;</span></span>
<span id="cb257-28"><a href="thymeleaf-flow-control-and-fragments.html#cb257-28"></a>            &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et</span>
<span id="cb257-29"><a href="thymeleaf-flow-control-and-fragments.html#cb257-29"></a>            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip</span>
<span id="cb257-30"><a href="thymeleaf-flow-control-and-fragments.html#cb257-30"></a>            ex ea commodo consequat.&quot;</span>
<span id="cb257-31"><a href="thymeleaf-flow-control-and-fragments.html#cb257-31"></a>        <span class="kw">&lt;/p&gt;</span></span>
<span id="cb257-32"><a href="thymeleaf-flow-control-and-fragments.html#cb257-32"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb257-33"><a href="thymeleaf-flow-control-and-fragments.html#cb257-33"></a></span>
<span id="cb257-34"><a href="thymeleaf-flow-control-and-fragments.html#cb257-34"></a>    <span class="co">&lt;!-- receives an argument called pub --&gt;</span></span>
<span id="cb257-35"><a href="thymeleaf-flow-control-and-fragments.html#cb257-35"></a>    <span class="kw">&lt;div</span><span class="ot"> th:fragment=</span><span class="st">&quot;footer(pub)&quot;</span><span class="kw">&gt;</span></span>
<span id="cb257-36"><a href="thymeleaf-flow-control-and-fragments.html#cb257-36"></a>        <span class="dv">&amp;copy;</span> 2018 Team Awesome. Please don&#39;t contact us; we are too busy!<span class="kw">&lt;br/&gt;</span></span>
<span id="cb257-37"><a href="thymeleaf-flow-control-and-fragments.html#cb257-37"></a>        But if you really need to communicate, you can find us at the local pub:</span>
<span id="cb257-38"><a href="thymeleaf-flow-control-and-fragments.html#cb257-38"></a>        <span class="kw">&lt;span</span><span class="ot"> th:text=</span><span class="st">&quot;${pub}&quot;</span><span class="kw">&gt;</span>_PUB_<span class="kw">&lt;/span&gt;&lt;br</span> <span class="kw">/&gt;</span></span>
<span id="cb257-39"><a href="thymeleaf-flow-control-and-fragments.html#cb257-39"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb257-40"><a href="thymeleaf-flow-control-and-fragments.html#cb257-40"></a></span>
<span id="cb257-41"><a href="thymeleaf-flow-control-and-fragments.html#cb257-41"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb257-42"><a href="thymeleaf-flow-control-and-fragments.html#cb257-42"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>The different parts (divs) have been marked with <code>th:fragment="&lt;fragment_name&gt;"</code>. These <code>th:fragment</code> tags make them available for inclusion in other pages.</p>
<p>This is how you include a fragment from this page into another:</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb258-1"><a href="thymeleaf-flow-control-and-fragments.html#cb258-1"></a><span class="kw">&lt;div</span><span class="ot"> th:insert=</span><span class="st">&quot;~{template :: banner}&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb258-2"><a href="thymeleaf-flow-control-and-fragments.html#cb258-2"></a><span class="co">&lt;!-- shorthand --&gt;</span></span>
<span id="cb258-3"><a href="thymeleaf-flow-control-and-fragments.html#cb258-3"></a><span class="kw">&lt;div</span><span class="ot"> th:insert=</span><span class="st">&quot;template :: banner&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>The <code>th:insert</code> expression expects a fragment expression (<code>~{...}</code>), which is an expression that results in a fragment. The first part of this expression is the name of the html file (<code>template.html</code>) without the extension and the second part is the fragment to be included. With a non-complex fragment expression, the (<code>~{</code>,<code>}</code>) enclosing is optional, so the shorthand notation suffices.</p>
<p>Here is another example, the footer. This fragment takes an argument called <code>pub</code> that is available as variable by that same name. This is how to pass a variable</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb259-1"><a href="thymeleaf-flow-control-and-fragments.html#cb259-1"></a><span class="kw">&lt;div</span><span class="ot"> th:insert=</span><span class="st">&quot;~{template :: footer(&#39;The Bear Inn&#39;)}&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>and using it with the fragment is standard variable expression syntax: <code>${pub}</code>.</p>
<p>Finally, different variants of a fragment can be conditionally included - here demonstrated with a ternary statement:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb260-1"><a href="thymeleaf-flow-control-and-fragments.html#cb260-1"></a><span class="kw">&lt;div</span><span class="ot"> th:insert=</span><span class="st">&quot;~{template :: (${users[0].getRole().toString() == &#39;ADMIN&#39;} ? &#39;menu.admin&#39; : &#39;menu.normaluser&#39;)}&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>If the Role is ADMIN, <code>&lt;div th:fragment="menu" class="admin"&gt;...</code> is selected, otherwise <code>&lt;div th:fragment="menu" class="normaluser"&gt;...</code>.</p>
<div id="the-difference-between-thinsert-and-threplace" class="section level4 unnumbered">
<h4>The difference between <code>th:insert</code> and <code>th:replace</code></h4>
<p>th:insert is the simplest: it will simply insert the specified fragment as the body of its host tag.</p>
<p>The <code>th:replace</code> expression actually replaces its host tag with the specified fragment.</p>
<p>So, this:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb261-1"><a href="thymeleaf-flow-control-and-fragments.html#cb261-1"></a><span class="kw">&lt;div</span><span class="ot"> th:insert=</span><span class="st">&quot;~{template :: (${users[0].getRole().toString() == &#39;ADMIN&#39;} ? &#39;menu.admin&#39; : &#39;menu.normaluser&#39;)}&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>results in</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb262-1"><a href="thymeleaf-flow-control-and-fragments.html#cb262-1"></a><span class="kw">&lt;div&gt;</span></span>
<span id="cb262-2"><a href="thymeleaf-flow-control-and-fragments.html#cb262-2"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;admin&quot;</span><span class="kw">&gt;</span></span>
<span id="cb262-3"><a href="thymeleaf-flow-control-and-fragments.html#cb262-3"></a>        <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;#&quot;</span><span class="kw">&gt;</span>my secret content<span class="kw">&lt;/a&gt;</span></span>
<span id="cb262-4"><a href="thymeleaf-flow-control-and-fragments.html#cb262-4"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb262-5"><a href="thymeleaf-flow-control-and-fragments.html#cb262-5"></a><span class="kw">&lt;/div&gt;</span></span></code></pre></div>
<p>whereas</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb263-1"><a href="thymeleaf-flow-control-and-fragments.html#cb263-1"></a><span class="kw">&lt;div</span><span class="ot"> th:replace=</span><span class="st">&quot;~{template :: (${users[0].getRole().toString() == &#39;ADMIN&#39;} ? &#39;menu.admin&#39; : &#39;menu.normaluser&#39;)}&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>results in</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb264-1"><a href="thymeleaf-flow-control-and-fragments.html#cb264-1"></a><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;admin&quot;</span><span class="kw">&gt;</span></span>
<span id="cb264-2"><a href="thymeleaf-flow-control-and-fragments.html#cb264-2"></a>    <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;#&quot;</span><span class="kw">&gt;</span>my secret content<span class="kw">&lt;/a&gt;</span></span>
<span id="cb264-3"><a href="thymeleaf-flow-control-and-fragments.html#cb264-3"></a><span class="kw">&lt;/div&gt;</span></span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="thymeleaf-expressions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sessions-scopes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["The Java Track.pdf", "The Java Track.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
